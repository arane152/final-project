(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();function _k(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var R_={exports:{}},nh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xI;function vk(){if(xI)return nh;xI=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var h in s)h!=="key"&&(o[h]=s[h])}else o=s;return s=o.ref,{$$typeof:n,type:r,key:u,ref:s!==void 0?s:null,props:o}}return nh.Fragment=e,nh.jsx=t,nh.jsxs=t,nh}var RI;function Ek(){return RI||(RI=1,R_.exports=vk()),R_.exports}var w=Ek(),C_={exports:{}},rh={},P_={exports:{}},D_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CI;function Tk(){return CI||(CI=1,function(n){function e(ee,pe){var we=ee.length;ee.push(pe);e:for(;0<we;){var Oe=we-1>>>1,V=ee[Oe];if(0<s(V,pe))ee[Oe]=pe,ee[we]=V,we=Oe;else break e}}function t(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var pe=ee[0],we=ee.pop();if(we!==pe){ee[0]=we;e:for(var Oe=0,V=ee.length,ie=V>>>1;Oe<ie;){var de=2*(Oe+1)-1,he=ee[de],be=de+1,ke=ee[be];if(0>s(he,we))be<V&&0>s(ke,he)?(ee[Oe]=ke,ee[be]=we,Oe=be):(ee[Oe]=he,ee[de]=we,Oe=de);else if(be<V&&0>s(ke,we))ee[Oe]=ke,ee[be]=we,Oe=be;else break e}}return pe}function s(ee,pe){var we=ee.sortIndex-pe.sortIndex;return we!==0?we:ee.id-pe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],m=[],y=1,v=null,b=3,x=!1,R=!1,N=!1,M=!1,H=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function ne(ee){for(var pe=t(m);pe!==null;){if(pe.callback===null)r(m);else if(pe.startTime<=ee)r(m),pe.sortIndex=pe.expirationTime,e(f,pe);else break;pe=t(m)}}function ae(ee){if(N=!1,ne(ee),!R)if(t(f)!==null)R=!0,ce||(ce=!0,U());else{var pe=t(m);pe!==null&&ot(ae,pe.startTime-ee)}}var ce=!1,P=-1,A=5,C=-1;function O(){return M?!0:!(n.unstable_now()-C<A)}function L(){if(M=!1,ce){var ee=n.unstable_now();C=ee;var pe=!0;try{e:{R=!1,N&&(N=!1,z(P),P=-1),x=!0;var we=b;try{t:{for(ne(ee),v=t(f);v!==null&&!(v.expirationTime>ee&&O());){var Oe=v.callback;if(typeof Oe=="function"){v.callback=null,b=v.priorityLevel;var V=Oe(v.expirationTime<=ee);if(ee=n.unstable_now(),typeof V=="function"){v.callback=V,ne(ee),pe=!0;break t}v===t(f)&&r(f),ne(ee)}else r(f);v=t(f)}if(v!==null)pe=!0;else{var ie=t(m);ie!==null&&ot(ae,ie.startTime-ee),pe=!1}}break e}finally{v=null,b=we,x=!1}pe=void 0}}finally{pe?U():ce=!1}}}var U;if(typeof W=="function")U=function(){W(L)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,St=D.port2;D.port1.onmessage=L,U=function(){St.postMessage(null)}}else U=function(){H(L,0)};function ot(ee,pe){P=H(function(){ee(n.unstable_now())},pe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ee){ee.callback=null},n.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<ee?Math.floor(1e3/ee):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(ee){switch(b){case 1:case 2:case 3:var pe=3;break;default:pe=b}var we=b;b=pe;try{return ee()}finally{b=we}},n.unstable_requestPaint=function(){M=!0},n.unstable_runWithPriority=function(ee,pe){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var we=b;b=ee;try{return pe()}finally{b=we}},n.unstable_scheduleCallback=function(ee,pe,we){var Oe=n.unstable_now();switch(typeof we=="object"&&we!==null?(we=we.delay,we=typeof we=="number"&&0<we?Oe+we:Oe):we=Oe,ee){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=we+V,ee={id:y++,callback:pe,priorityLevel:ee,startTime:we,expirationTime:V,sortIndex:-1},we>Oe?(ee.sortIndex=we,e(m,ee),t(f)===null&&ee===t(m)&&(N?(z(P),P=-1):N=!0,ot(ae,we-Oe))):(ee.sortIndex=V,e(f,ee),R||x||(R=!0,ce||(ce=!0,U()))),ee},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(ee){var pe=b;return function(){var we=b;b=pe;try{return ee.apply(this,arguments)}finally{b=we}}}}(D_)),D_}var PI;function wk(){return PI||(PI=1,P_.exports=Tk()),P_.exports}var N_={exports:{}},Me={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DI;function bk(){if(DI)return Me;DI=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function b(V){return V===null||typeof V!="object"?null:(V=v&&V[v]||V["@@iterator"],typeof V=="function"?V:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,N={};function M(V,ie,de){this.props=V,this.context=ie,this.refs=N,this.updater=de||x}M.prototype.isReactComponent={},M.prototype.setState=function(V,ie){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ie,"setState")},M.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function H(){}H.prototype=M.prototype;function z(V,ie,de){this.props=V,this.context=ie,this.refs=N,this.updater=de||x}var W=z.prototype=new H;W.constructor=z,R(W,M.prototype),W.isPureReactComponent=!0;var ne=Array.isArray,ae={H:null,A:null,T:null,S:null,V:null},ce=Object.prototype.hasOwnProperty;function P(V,ie,de,he,be,ke){return de=ke.ref,{$$typeof:n,type:V,key:ie,ref:de!==void 0?de:null,props:ke}}function A(V,ie){return P(V.type,ie,void 0,void 0,void 0,V.props)}function C(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function O(V){var ie={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(de){return ie[de]})}var L=/\/+/g;function U(V,ie){return typeof V=="object"&&V!==null&&V.key!=null?O(""+V.key):ie.toString(36)}function D(){}function St(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(D,D):(V.status="pending",V.then(function(ie){V.status==="pending"&&(V.status="fulfilled",V.value=ie)},function(ie){V.status==="pending"&&(V.status="rejected",V.reason=ie)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function ot(V,ie,de,he,be){var ke=typeof V;(ke==="undefined"||ke==="boolean")&&(V=null);var Ae=!1;if(V===null)Ae=!0;else switch(ke){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(V.$$typeof){case n:case e:Ae=!0;break;case y:return Ae=V._init,ot(Ae(V._payload),ie,de,he,be)}}if(Ae)return be=be(V),Ae=he===""?"."+U(V,0):he,ne(be)?(de="",Ae!=null&&(de=Ae.replace(L,"$&/")+"/"),ot(be,ie,de,"",function(jt){return jt})):be!=null&&(C(be)&&(be=A(be,de+(be.key==null||V&&V.key===be.key?"":(""+be.key).replace(L,"$&/")+"/")+Ae)),ie.push(be)),1;Ae=0;var ft=he===""?".":he+":";if(ne(V))for(var Ge=0;Ge<V.length;Ge++)he=V[Ge],ke=ft+U(he,Ge),Ae+=ot(he,ie,de,ke,be);else if(Ge=b(V),typeof Ge=="function")for(V=Ge.call(V),Ge=0;!(he=V.next()).done;)he=he.value,ke=ft+U(he,Ge++),Ae+=ot(he,ie,de,ke,be);else if(ke==="object"){if(typeof V.then=="function")return ot(St(V),ie,de,he,be);throw ie=String(V),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function ee(V,ie,de){if(V==null)return V;var he=[],be=0;return ot(V,he,"","",function(ke){return ie.call(de,ke,be++)}),he}function pe(V){if(V._status===-1){var ie=V._result;ie=ie(),ie.then(function(de){(V._status===0||V._status===-1)&&(V._status=1,V._result=de)},function(de){(V._status===0||V._status===-1)&&(V._status=2,V._result=de)}),V._status===-1&&(V._status=0,V._result=ie)}if(V._status===1)return V._result.default;throw V._result}var we=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Oe(){}return Me.Children={map:ee,forEach:function(V,ie,de){ee(V,function(){ie.apply(this,arguments)},de)},count:function(V){var ie=0;return ee(V,function(){ie++}),ie},toArray:function(V){return ee(V,function(ie){return ie})||[]},only:function(V){if(!C(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Me.Component=M,Me.Fragment=t,Me.Profiler=s,Me.PureComponent=z,Me.StrictMode=r,Me.Suspense=f,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ae,Me.__COMPILER_RUNTIME={__proto__:null,c:function(V){return ae.H.useMemoCache(V)}},Me.cache=function(V){return function(){return V.apply(null,arguments)}},Me.cloneElement=function(V,ie,de){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var he=R({},V.props),be=V.key,ke=void 0;if(ie!=null)for(Ae in ie.ref!==void 0&&(ke=void 0),ie.key!==void 0&&(be=""+ie.key),ie)!ce.call(ie,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&ie.ref===void 0||(he[Ae]=ie[Ae]);var Ae=arguments.length-2;if(Ae===1)he.children=de;else if(1<Ae){for(var ft=Array(Ae),Ge=0;Ge<Ae;Ge++)ft[Ge]=arguments[Ge+2];he.children=ft}return P(V.type,be,void 0,void 0,ke,he)},Me.createContext=function(V){return V={$$typeof:u,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:o,_context:V},V},Me.createElement=function(V,ie,de){var he,be={},ke=null;if(ie!=null)for(he in ie.key!==void 0&&(ke=""+ie.key),ie)ce.call(ie,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(be[he]=ie[he]);var Ae=arguments.length-2;if(Ae===1)be.children=de;else if(1<Ae){for(var ft=Array(Ae),Ge=0;Ge<Ae;Ge++)ft[Ge]=arguments[Ge+2];be.children=ft}if(V&&V.defaultProps)for(he in Ae=V.defaultProps,Ae)be[he]===void 0&&(be[he]=Ae[he]);return P(V,ke,void 0,void 0,null,be)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(V){return{$$typeof:h,render:V}},Me.isValidElement=C,Me.lazy=function(V){return{$$typeof:y,_payload:{_status:-1,_result:V},_init:pe}},Me.memo=function(V,ie){return{$$typeof:m,type:V,compare:ie===void 0?null:ie}},Me.startTransition=function(V){var ie=ae.T,de={};ae.T=de;try{var he=V(),be=ae.S;be!==null&&be(de,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(Oe,we)}catch(ke){we(ke)}finally{ae.T=ie}},Me.unstable_useCacheRefresh=function(){return ae.H.useCacheRefresh()},Me.use=function(V){return ae.H.use(V)},Me.useActionState=function(V,ie,de){return ae.H.useActionState(V,ie,de)},Me.useCallback=function(V,ie){return ae.H.useCallback(V,ie)},Me.useContext=function(V){return ae.H.useContext(V)},Me.useDebugValue=function(){},Me.useDeferredValue=function(V,ie){return ae.H.useDeferredValue(V,ie)},Me.useEffect=function(V,ie,de){var he=ae.H;if(typeof de=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return he.useEffect(V,ie)},Me.useId=function(){return ae.H.useId()},Me.useImperativeHandle=function(V,ie,de){return ae.H.useImperativeHandle(V,ie,de)},Me.useInsertionEffect=function(V,ie){return ae.H.useInsertionEffect(V,ie)},Me.useLayoutEffect=function(V,ie){return ae.H.useLayoutEffect(V,ie)},Me.useMemo=function(V,ie){return ae.H.useMemo(V,ie)},Me.useOptimistic=function(V,ie){return ae.H.useOptimistic(V,ie)},Me.useReducer=function(V,ie,de){return ae.H.useReducer(V,ie,de)},Me.useRef=function(V){return ae.H.useRef(V)},Me.useState=function(V){return ae.H.useState(V)},Me.useSyncExternalStore=function(V,ie,de){return ae.H.useSyncExternalStore(V,ie,de)},Me.useTransition=function(){return ae.H.useTransition()},Me.version="19.1.0",Me}var NI;function m0(){return NI||(NI=1,N_.exports=bk()),N_.exports}var k_={exports:{}},An={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kI;function Ik(){if(kI)return An;kI=1;var n=m0();function e(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,m,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:f,containerInfo:m,implementation:y}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return An.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,An.createPortal=function(f,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(f,m,null,y)},An.flushSync=function(f){var m=u.T,y=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=m,r.p=y,r.d.f()}},An.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(f,m))},An.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},An.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var y=m.as,v=h(y,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,x=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?r.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:x}):y==="script"&&r.d.X(f,{crossOrigin:v,integrity:b,fetchPriority:x,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},An.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);r.d.M(f,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(f)},An.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,v=h(y,m.crossOrigin);r.d.L(f,y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},An.preloadModule=function(f,m){if(typeof f=="string")if(m){var y=h(m.as,m.crossOrigin);r.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(f)},An.requestFormReset=function(f){r.d.r(f)},An.unstable_batchedUpdates=function(f,m){return f(m)},An.useFormState=function(f,m,y){return u.H.useFormState(f,m,y)},An.useFormStatus=function(){return u.H.useHostTransitionStatus()},An.version="19.1.0",An}var OI;function Sk(){if(OI)return k_.exports;OI=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),k_.exports=Ik(),k_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VI;function Ak(){if(VI)return rh;VI=1;var n=wk(),e=m0(),t=Sk();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,l=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(l=a.return),i=a.return;while(i)}return a.tag===3?l:null}function u(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function h(i){if(o(i)!==i)throw Error(r(188))}function f(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(r(188));return a!==i?null:i}for(var l=i,c=a;;){var p=l.return;if(p===null)break;var g=p.alternate;if(g===null){if(c=p.return,c!==null){l=c;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===l)return h(p),i;if(g===c)return h(p),a;g=g.sibling}throw Error(r(188))}if(l.return!==c.return)l=p,c=g;else{for(var T=!1,I=p.child;I;){if(I===l){T=!0,l=p,c=g;break}if(I===c){T=!0,c=p,l=g;break}I=I.sibling}if(!T){for(I=g.child;I;){if(I===l){T=!0,l=g,c=p;break}if(I===c){T=!0,c=g,l=p;break}I=I.sibling}if(!T)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:a}function m(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=m(i),a!==null)return a;i=i.sibling}return null}var y=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),z=Symbol.for("react.consumer"),W=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function U(i){return i===null||typeof i!="object"?null:(i=L&&i[L]||i["@@iterator"],typeof i=="function"?i:null)}var D=Symbol.for("react.client.reference");function St(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===D?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case R:return"Fragment";case M:return"Profiler";case N:return"StrictMode";case ae:return"Suspense";case ce:return"SuspenseList";case C:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case x:return"Portal";case W:return(i.displayName||"Context")+".Provider";case z:return(i._context.displayName||"Context")+".Consumer";case ne:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case P:return a=i.displayName||null,a!==null?a:St(i.type)||"Memo";case A:a=i._payload,i=i._init;try{return St(i(a))}catch{}}return null}var ot=Array.isArray,ee=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,we={pending:!1,data:null,method:null,action:null},Oe=[],V=-1;function ie(i){return{current:i}}function de(i){0>V||(i.current=Oe[V],Oe[V]=null,V--)}function he(i,a){V++,Oe[V]=i.current,i.current=a}var be=ie(null),ke=ie(null),Ae=ie(null),ft=ie(null);function Ge(i,a){switch(he(Ae,a),he(ke,i),he(be,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?tI(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=tI(a),i=nI(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}de(be),he(be,i)}function jt(){de(be),de(ke),de(Ae)}function ye(i){i.memoizedState!==null&&he(ft,i);var a=be.current,l=nI(a,i.type);a!==l&&(he(ke,i),he(be,l))}function ve(i){ke.current===i&&(de(be),de(ke)),ft.current===i&&(de(ft),Xc._currentValue=we)}var Ne=Object.prototype.hasOwnProperty,$e=n.unstable_scheduleCallback,Dt=n.unstable_cancelCallback,xr=n.unstable_shouldYield,hs=n.unstable_requestPaint,cr=n.unstable_now,Rg=n.unstable_getCurrentPriorityLevel,Wu=n.unstable_ImmediatePriority,Go=n.unstable_UserBlockingPriority,ba=n.unstable_NormalPriority,Cg=n.unstable_LowPriority,$o=n.unstable_IdlePriority,Yu=n.log,qd=n.unstable_setDisableYieldValue,Nt=null,nt=null;function Yn(i){if(typeof Yu=="function"&&qd(i),nt&&typeof nt.setStrictMode=="function")try{nt.setStrictMode(Nt,i)}catch{}}var In=Math.clz32?Math.clz32:Ia,Hd=Math.log,Pg=Math.LN2;function Ia(i){return i>>>=0,i===0?32:31-(Hd(i)/Pg|0)|0}var Sa=256,Aa=4194304;function Rr(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ko(i,a,l){var c=i.pendingLanes;if(c===0)return 0;var p=0,g=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var I=c&134217727;return I!==0?(c=I&~g,c!==0?p=Rr(c):(T&=I,T!==0?p=Rr(T):l||(l=I&~i,l!==0&&(p=Rr(l))))):(I=c&~g,I!==0?p=Rr(I):T!==0?p=Rr(T):l||(l=c&~i,l!==0&&(p=Rr(l)))),p===0?0:a!==0&&a!==p&&(a&g)===0&&(g=p&-p,l=a&-a,g>=l||g===32&&(l&4194048)!==0)?a:p}function xa(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function Xu(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ju(){var i=Sa;return Sa<<=1,(Sa&4194048)===0&&(Sa=256),i}function Zu(){var i=Aa;return Aa<<=1,(Aa&62914560)===0&&(Aa=4194304),i}function bi(i){for(var a=[],l=0;31>l;l++)a.push(i);return a}function Ii(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ec(i,a,l,c,p,g){var T=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var I=i.entanglements,k=i.expirationTimes,Q=i.hiddenUpdates;for(l=T&~l;0<l;){var te=31-In(l),se=1<<te;I[te]=0,k[te]=-1;var Y=Q[te];if(Y!==null)for(Q[te]=null,te=0;te<Y.length;te++){var X=Y[te];X!==null&&(X.lane&=-536870913)}l&=~se}c!==0&&Ur(i,c,0),g!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=g&~(T&~a))}function Ur(i,a,l){i.pendingLanes|=a,i.suspendedLanes&=~a;var c=31-In(a);i.entangledLanes|=a,i.entanglements[c]=i.entanglements[c]|1073741824|l&4194090}function tc(i,a){var l=i.entangledLanes|=a;for(i=i.entanglements;l;){var c=31-In(l),p=1<<c;p&a|i[c]&a&&(i[c]|=a),l&=~p}}function ds(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Qo(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function fs(){var i=pe.p;return i!==0?i:(i=window.event,i===void 0?32:TI(i.type))}function Gd(i,a){var l=pe.p;try{return pe.p=i,a()}finally{pe.p=l}}var _t=Math.random().toString(36).slice(2),Jt="__reactFiber$"+_t,Gt="__reactProps$"+_t,hr="__reactContainer$"+_t,nc="__reactEvents$"+_t,Dg="__reactListeners$"+_t,ps="__reactHandles$"+_t,$d="__reactResources$"+_t,Ra="__reactMarker$"+_t;function ms(i){delete i[Jt],delete i[Gt],delete i[nc],delete i[Dg],delete i[ps]}function Si(i){var a=i[Jt];if(a)return a;for(var l=i.parentNode;l;){if(a=l[hr]||l[Jt]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(i=aI(i);i!==null;){if(l=i[Jt])return l;i=aI(i)}return a}i=l,l=i.parentNode}return null}function Br(i){if(i=i[Jt]||i[hr]){var a=i.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return i}return null}function Fr(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function Nn(i){var a=i[$d];return a||(a=i[$d]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ut(i){i[Ra]=!0}var rc=new Set,Wo={};function Cr(i,a){Ai(i,a),Ai(i+"Capture",a)}function Ai(i,a){for(Wo[i]=a,i=0;i<a.length;i++)rc.add(a[i])}var Kd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qd={},Ca={};function Wd(i){return Ne.call(Ca,i)?!0:Ne.call(Qd,i)?!1:Kd.test(i)?Ca[i]=!0:(Qd[i]=!0,!1)}function gs(i,a,l){if(Wd(a))if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+l)}}function zr(i,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+l)}}function mn(i,a,l,c){if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(a,l,""+c)}}var Pa,Yd;function xi(i){if(Pa===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Pa=a&&a[1]||"",Yd=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pa+i+Yd}var Yo=!1;function Xo(i,a){if(!i||Yo)return"";Yo=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(X){var Y=X}Reflect.construct(i,[],se)}else{try{se.call()}catch(X){Y=X}i.call(se.prototype)}}else{try{throw Error()}catch(X){Y=X}(se=i())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(X){if(X&&Y&&typeof X.stack=="string")return[X.stack,Y.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),T=g[0],I=g[1];if(T&&I){var k=T.split(`
`),Q=I.split(`
`);for(p=c=0;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;for(;p<Q.length&&!Q[p].includes("DetermineComponentFrameRoot");)p++;if(c===k.length||p===Q.length)for(c=k.length-1,p=Q.length-1;1<=c&&0<=p&&k[c]!==Q[p];)p--;for(;1<=c&&0<=p;c--,p--)if(k[c]!==Q[p]){if(c!==1||p!==1)do if(c--,p--,0>p||k[c]!==Q[p]){var te=`
`+k[c].replace(" at new "," at ");return i.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",i.displayName)),te}while(1<=c&&0<=p);break}}}finally{Yo=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?xi(l):""}function ic(i){switch(i.tag){case 26:case 27:case 5:return xi(i.type);case 16:return xi("Lazy");case 13:return xi("Suspense");case 19:return xi("SuspenseList");case 0:case 15:return Xo(i.type,!1);case 11:return Xo(i.type.render,!1);case 1:return Xo(i.type,!0);case 31:return xi("Activity");default:return""}}function Jo(i){try{var a="";do a+=ic(i),i=i.return;while(i);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function kn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function sc(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ng(i){var a=sc(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),c=""+i[a];if(!i.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,g=l.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return p.call(this)},set:function(T){c=""+T,g.call(this,T)}}),Object.defineProperty(i,a,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(T){c=""+T},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function Zo(i){i._valueTracker||(i._valueTracker=Ng(i))}function ac(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return i&&(c=sc(i)?i.checked?"true":"false":i.value),i=c,i!==l?(a.setValue(i),!0):!1}function Da(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var kg=/[\n"\\]/g;function $t(i){return i.replace(kg,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Xn(i,a,l,c,p,g,T,I){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),a!=null?T==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+kn(a)):i.value!==""+kn(a)&&(i.value=""+kn(a)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),a!=null?ys(i,T,kn(a)):l!=null?ys(i,T,kn(l)):c!=null&&i.removeAttribute("value"),p==null&&g!=null&&(i.defaultChecked=!!g),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?i.name=""+kn(I):i.removeAttribute("name")}function Na(i,a,l,c,p,g,T,I){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),a!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||a!=null))return;l=l!=null?""+kn(l):"",a=a!=null?""+kn(a):l,I||a===i.value||(i.value=a),i.defaultValue=a}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=I?i.checked:!!c,i.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T)}function ys(i,a,l){a==="number"&&Da(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Ri(i,a,l,c){if(i=i.options,a){a={};for(var p=0;p<l.length;p++)a["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=a.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&c&&(i[l].defaultSelected=!0)}else{for(l=""+kn(l),a=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,c&&(i[p].defaultSelected=!0);return}a!==null||i[p].disabled||(a=i[p])}a!==null&&(a.selected=!0)}}function lt(i,a,l){if(a!=null&&(a=""+kn(a),a!==i.value&&(i.value=a),l==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=l!=null?""+kn(l):""}function ka(i,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(r(92));if(ot(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=kn(a),i.defaultValue=l,c=i.textContent,c===l&&c!==""&&c!==null&&(i.value=c)}function dr(i,a){if(a){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=a;return}}i.textContent=a}var Oa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xd(i,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":c?i.setProperty(a,l):typeof l!="number"||l===0||Oa.has(a)?a==="float"?i.cssFloat=l:i[a]=(""+l).trim():i[a]=l+"px"}function oc(i,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var p in a)c=a[p],a.hasOwnProperty(p)&&l[p]!==c&&Xd(i,p,c)}else for(var g in a)a.hasOwnProperty(g)&&Xd(i,g,a[g])}function lc(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Og=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function el(i){return Vg.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Ci=null;function fr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Pi=null,Di=null;function uc(i){var a=Br(i);if(a&&(i=a.stateNode)){var l=i[Gt]||null;e:switch(i=a.stateNode,a.type){case"input":if(Xn(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+$t(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==i&&c.form===i.form){var p=c[Gt]||null;if(!p)throw Error(r(90));Xn(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===i.form&&ac(c)}break e;case"textarea":lt(i,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&Ri(i,!!l.multiple,a,!1)}}}var qr=!1;function Jd(i,a,l){if(qr)return i(a,l);qr=!0;try{var c=i(a);return c}finally{if(qr=!1,(Pi!==null||Di!==null)&&($f(),Pi&&(a=Pi,i=Di,Di=Pi=null,uc(a),i)))for(a=0;a<i.length;a++)uc(i[a])}}function Va(i,a){var l=i.stateNode;if(l===null)return null;var c=l[Gt]||null;if(c===null)return null;l=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var Pr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pr=!1;if(Pr)try{var Ma={};Object.defineProperty(Ma,"passive",{get:function(){pr=!0}}),window.addEventListener("test",Ma,Ma),window.removeEventListener("test",Ma,Ma)}catch{pr=!1}var Hr=null,_s=null,Ni=null;function cc(){if(Ni)return Ni;var i,a=_s,l=a.length,c,p="value"in Hr?Hr.value:Hr.textContent,g=p.length;for(i=0;i<l&&a[i]===p[i];i++);var T=l-i;for(c=1;c<=T&&a[l-c]===p[g-c];c++);return Ni=p.slice(i,1<c?1-c:void 0)}function Gr(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function $r(){return!0}function hc(){return!1}function an(i){function a(l,c,p,g,T){this._reactName=l,this._targetInst=p,this.type=c,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var I in i)i.hasOwnProperty(I)&&(l=i[I],this[I]=l?l(g):g[I]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?$r:hc,this.isPropagationStopped=hc,this}return y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=$r)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=$r)},persist:function(){},isPersistent:$r}),a}var et={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tl=an(et),La=y({},et,{view:0,detail:0}),Zd=an(La),nl,rl,Kr,ja=y({},La,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fa,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Kr&&(Kr&&i.type==="mousemove"?(nl=i.screenX-Kr.screenX,rl=i.screenY-Kr.screenY):rl=nl=0,Kr=i),nl)},movementY:function(i){return"movementY"in i?i.movementY:rl}}),mr=an(ja),ef=y({},ja,{dataTransfer:0}),Mg=an(ef),Ua=y({},La,{relatedTarget:0}),il=an(Ua),dc=y({},et,{animationName:0,elapsedTime:0,pseudoElement:0}),sl=an(dc),tf=y({},et,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),al=an(tf),Lg=y({},et,{data:0}),fc=an(Lg),Ba={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pc(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=rf[i])?!!a[i]:!1}function Fa(){return pc}var sf=y({},La,{key:function(i){if(i.key){var a=Ba[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Gr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?nf[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fa,charCode:function(i){return i.type==="keypress"?Gr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Gr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),ol=an(sf),af=y({},ja,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mc=an(af),ki=y({},La,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fa}),of=an(ki),lf=y({},et,{propertyName:0,elapsedTime:0,pseudoElement:0}),uf=an(lf),cf=y({},ja,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ll=an(cf),On=y({},et,{newState:0,oldState:0}),hf=an(On),df=[9,13,27,32],Qr=Pr&&"CompositionEvent"in window,d=null;Pr&&"documentMode"in document&&(d=document.documentMode);var _=Pr&&"TextEvent"in window&&!d,E=Pr&&(!Qr||d&&8<d&&11>=d),S=" ",G=!1;function Z(i,a){switch(i){case"keyup":return df.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fe(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ke=!1;function Zt(i,a){switch(i){case"compositionend":return fe(a);case"keypress":return a.which!==32?null:(G=!0,S);case"textInput":return i=a.data,i===S&&G?null:i;default:return null}}function Qe(i,a){if(Ke)return i==="compositionend"||!Qr&&Z(i,a)?(i=cc(),Ni=_s=Hr=null,Ke=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return E&&a.locale!=="ko"?null:a.data;default:return null}}var on={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function en(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!on[i.type]:a==="textarea"}function Oi(i,a,l,c){Pi?Di?Di.push(c):Di=[c]:Pi=c,a=Jf(a,"onChange"),0<a.length&&(l=new tl("onChange","change",null,l,c),i.push({event:l,listeners:a}))}var gn=null,Wr=null;function gc(i){Yb(i,0)}function ff(i){var a=Fr(i);if(ac(a))return i}function yT(i,a){if(i==="change")return a}var _T=!1;if(Pr){var jg;if(Pr){var Ug="oninput"in document;if(!Ug){var vT=document.createElement("div");vT.setAttribute("oninput","return;"),Ug=typeof vT.oninput=="function"}jg=Ug}else jg=!1;_T=jg&&(!document.documentMode||9<document.documentMode)}function ET(){gn&&(gn.detachEvent("onpropertychange",TT),Wr=gn=null)}function TT(i){if(i.propertyName==="value"&&ff(Wr)){var a=[];Oi(a,Wr,i,fr(i)),Jd(gc,a)}}function QD(i,a,l){i==="focusin"?(ET(),gn=a,Wr=l,gn.attachEvent("onpropertychange",TT)):i==="focusout"&&ET()}function WD(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ff(Wr)}function YD(i,a){if(i==="click")return ff(a)}function XD(i,a){if(i==="input"||i==="change")return ff(a)}function JD(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Jn=typeof Object.is=="function"?Object.is:JD;function yc(i,a){if(Jn(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var l=Object.keys(i),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var p=l[c];if(!Ne.call(a,p)||!Jn(i[p],a[p]))return!1}return!0}function wT(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function bT(i,a){var l=wT(i);i=0;for(var c;l;){if(l.nodeType===3){if(c=i+l.textContent.length,i<=a&&c>=a)return{node:l,offset:a-i};i=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=wT(l)}}function IT(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?IT(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function ST(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=Da(i.document);a instanceof i.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)i=a.contentWindow;else break;a=Da(i.document)}return a}function Bg(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var ZD=Pr&&"documentMode"in document&&11>=document.documentMode,ul=null,Fg=null,_c=null,zg=!1;function AT(i,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;zg||ul==null||ul!==Da(c)||(c=ul,"selectionStart"in c&&Bg(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),_c&&yc(_c,c)||(_c=c,c=Jf(Fg,"onSelect"),0<c.length&&(a=new tl("onSelect","select",null,a,l),i.push({event:a,listeners:c}),a.target=ul)))}function za(i,a){var l={};return l[i.toLowerCase()]=a.toLowerCase(),l["Webkit"+i]="webkit"+a,l["Moz"+i]="moz"+a,l}var cl={animationend:za("Animation","AnimationEnd"),animationiteration:za("Animation","AnimationIteration"),animationstart:za("Animation","AnimationStart"),transitionrun:za("Transition","TransitionRun"),transitionstart:za("Transition","TransitionStart"),transitioncancel:za("Transition","TransitionCancel"),transitionend:za("Transition","TransitionEnd")},qg={},xT={};Pr&&(xT=document.createElement("div").style,"AnimationEvent"in window||(delete cl.animationend.animation,delete cl.animationiteration.animation,delete cl.animationstart.animation),"TransitionEvent"in window||delete cl.transitionend.transition);function qa(i){if(qg[i])return qg[i];if(!cl[i])return i;var a=cl[i],l;for(l in a)if(a.hasOwnProperty(l)&&l in xT)return qg[i]=a[l];return i}var RT=qa("animationend"),CT=qa("animationiteration"),PT=qa("animationstart"),eN=qa("transitionrun"),tN=qa("transitionstart"),nN=qa("transitioncancel"),DT=qa("transitionend"),NT=new Map,Hg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hg.push("scrollEnd");function Dr(i,a){NT.set(i,a),Cr(a,[i])}var kT=new WeakMap;function gr(i,a){if(typeof i=="object"&&i!==null){var l=kT.get(i);return l!==void 0?l:(a={value:i,source:a,stack:Jo(a)},kT.set(i,a),a)}return{value:i,source:a,stack:Jo(a)}}var yr=[],hl=0,Gg=0;function pf(){for(var i=hl,a=Gg=hl=0;a<i;){var l=yr[a];yr[a++]=null;var c=yr[a];yr[a++]=null;var p=yr[a];yr[a++]=null;var g=yr[a];if(yr[a++]=null,c!==null&&p!==null){var T=c.pending;T===null?p.next=p:(p.next=T.next,T.next=p),c.pending=p}g!==0&&OT(l,p,g)}}function mf(i,a,l,c){yr[hl++]=i,yr[hl++]=a,yr[hl++]=l,yr[hl++]=c,Gg|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function $g(i,a,l,c){return mf(i,a,l,c),gf(i)}function dl(i,a){return mf(i,null,null,a),gf(i)}function OT(i,a,l){i.lanes|=l;var c=i.alternate;c!==null&&(c.lanes|=l);for(var p=!1,g=i.return;g!==null;)g.childLanes|=l,c=g.alternate,c!==null&&(c.childLanes|=l),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(p=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,p&&a!==null&&(p=31-In(l),i=g.hiddenUpdates,c=i[p],c===null?i[p]=[a]:c.push(a),a.lane=l|536870912),g):null}function gf(i){if(50<qc)throw qc=0,Jy=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var fl={};function rN(i,a,l,c){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(i,a,l,c){return new rN(i,a,l,c)}function Kg(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Vi(i,a){var l=i.alternate;return l===null?(l=Zn(i.tag,a,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=a,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,a=i.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function VT(i,a){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,a=l.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function yf(i,a,l,c,p,g){var T=0;if(c=i,typeof i=="function")Kg(i)&&(T=1);else if(typeof i=="string")T=sk(i,l,be.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case C:return i=Zn(31,l,a,p),i.elementType=C,i.lanes=g,i;case R:return Ha(l.children,p,g,a);case N:T=8,p|=24;break;case M:return i=Zn(12,l,a,p|2),i.elementType=M,i.lanes=g,i;case ae:return i=Zn(13,l,a,p),i.elementType=ae,i.lanes=g,i;case ce:return i=Zn(19,l,a,p),i.elementType=ce,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case H:case W:T=10;break e;case z:T=9;break e;case ne:T=11;break e;case P:T=14;break e;case A:T=16,c=null;break e}T=29,l=Error(r(130,i===null?"null":typeof i,"")),c=null}return a=Zn(T,l,a,p),a.elementType=i,a.type=c,a.lanes=g,a}function Ha(i,a,l,c){return i=Zn(7,i,c,a),i.lanes=l,i}function Qg(i,a,l){return i=Zn(6,i,null,a),i.lanes=l,i}function Wg(i,a,l){return a=Zn(4,i.children!==null?i.children:[],i.key,a),a.lanes=l,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var pl=[],ml=0,_f=null,vf=0,_r=[],vr=0,Ga=null,Mi=1,Li="";function $a(i,a){pl[ml++]=vf,pl[ml++]=_f,_f=i,vf=a}function MT(i,a,l){_r[vr++]=Mi,_r[vr++]=Li,_r[vr++]=Ga,Ga=i;var c=Mi;i=Li;var p=32-In(c)-1;c&=~(1<<p),l+=1;var g=32-In(a)+p;if(30<g){var T=p-p%5;g=(c&(1<<T)-1).toString(32),c>>=T,p-=T,Mi=1<<32-In(a)+p|l<<p|c,Li=g+i}else Mi=1<<g|l<<p|c,Li=i}function Yg(i){i.return!==null&&($a(i,1),MT(i,1,0))}function Xg(i){for(;i===_f;)_f=pl[--ml],pl[ml]=null,vf=pl[--ml],pl[ml]=null;for(;i===Ga;)Ga=_r[--vr],_r[vr]=null,Li=_r[--vr],_r[vr]=null,Mi=_r[--vr],_r[vr]=null}var Vn=null,kt=null,Ze=!1,Ka=null,Yr=!1,Jg=Error(r(519));function Qa(i){var a=Error(r(418,""));throw Tc(gr(a,i)),Jg}function LT(i){var a=i.stateNode,l=i.type,c=i.memoizedProps;switch(a[Jt]=i,a[Gt]=c,l){case"dialog":Fe("cancel",a),Fe("close",a);break;case"iframe":case"object":case"embed":Fe("load",a);break;case"video":case"audio":for(l=0;l<Gc.length;l++)Fe(Gc[l],a);break;case"source":Fe("error",a);break;case"img":case"image":case"link":Fe("error",a),Fe("load",a);break;case"details":Fe("toggle",a);break;case"input":Fe("invalid",a),Na(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Zo(a);break;case"select":Fe("invalid",a);break;case"textarea":Fe("invalid",a),ka(a,c.value,c.defaultValue,c.children),Zo(a)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||eI(a.textContent,l)?(c.popover!=null&&(Fe("beforetoggle",a),Fe("toggle",a)),c.onScroll!=null&&Fe("scroll",a),c.onScrollEnd!=null&&Fe("scrollend",a),c.onClick!=null&&(a.onclick=Zf),a=!0):a=!1,a||Qa(i)}function jT(i){for(Vn=i.return;Vn;)switch(Vn.tag){case 5:case 13:Yr=!1;return;case 27:case 3:Yr=!0;return;default:Vn=Vn.return}}function vc(i){if(i!==Vn)return!1;if(!Ze)return jT(i),Ze=!0,!1;var a=i.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||p_(i.type,i.memoizedProps)),l=!l),l&&kt&&Qa(i),jT(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(a===0){kt=kr(i.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;i=i.nextSibling}kt=null}}else a===27?(a=kt,Os(i.type)?(i=__,__=null,kt=i):kt=a):kt=Vn?kr(i.stateNode.nextSibling):null;return!0}function Ec(){kt=Vn=null,Ze=!1}function UT(){var i=Ka;return i!==null&&(qn===null?qn=i:qn.push.apply(qn,i),Ka=null),i}function Tc(i){Ka===null?Ka=[i]:Ka.push(i)}var Zg=ie(null),Wa=null,ji=null;function vs(i,a,l){he(Zg,a._currentValue),a._currentValue=l}function Ui(i){i._currentValue=Zg.current,de(Zg)}function ey(i,a,l){for(;i!==null;){var c=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),i===l)break;i=i.return}}function ty(i,a,l,c){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var g=p.dependencies;if(g!==null){var T=p.child;g=g.firstContext;e:for(;g!==null;){var I=g;g=p;for(var k=0;k<a.length;k++)if(I.context===a[k]){g.lanes|=l,I=g.alternate,I!==null&&(I.lanes|=l),ey(g.return,l,i),c||(T=null);break e}g=I.next}}else if(p.tag===18){if(T=p.return,T===null)throw Error(r(341));T.lanes|=l,g=T.alternate,g!==null&&(g.lanes|=l),ey(T,l,i),T=null}else T=p.child;if(T!==null)T.return=p;else for(T=p;T!==null;){if(T===i){T=null;break}if(p=T.sibling,p!==null){p.return=T.return,T=p;break}T=T.return}p=T}}function wc(i,a,l,c){i=null;for(var p=a,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var T=p.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var I=p.type;Jn(p.pendingProps.value,T.value)||(i!==null?i.push(I):i=[I])}}else if(p===ft.current){if(T=p.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(Xc):i=[Xc])}p=p.return}i!==null&&ty(a,i,l,c),a.flags|=262144}function Ef(i){for(i=i.firstContext;i!==null;){if(!Jn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ya(i){Wa=i,ji=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Sn(i){return BT(Wa,i)}function Tf(i,a){return Wa===null&&Ya(i),BT(i,a)}function BT(i,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},ji===null){if(i===null)throw Error(r(308));ji=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else ji=ji.next=a;return l}var iN=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(l,c){i.push(c)}};this.abort=function(){a.aborted=!0,i.forEach(function(l){return l()})}},sN=n.unstable_scheduleCallback,aN=n.unstable_NormalPriority,tn={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ny(){return{controller:new iN,data:new Map,refCount:0}}function bc(i){i.refCount--,i.refCount===0&&sN(aN,function(){i.controller.abort()})}var Ic=null,ry=0,gl=0,yl=null;function oN(i,a){if(Ic===null){var l=Ic=[];ry=0,gl=s_(),yl={status:"pending",value:void 0,then:function(c){l.push(c)}}}return ry++,a.then(FT,FT),a}function FT(){if(--ry===0&&Ic!==null){yl!==null&&(yl.status="fulfilled");var i=Ic;Ic=null,gl=0,yl=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function lN(i,a){var l=[],c={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return i.then(function(){c.status="fulfilled",c.value=a;for(var p=0;p<l.length;p++)(0,l[p])(a)},function(p){for(c.status="rejected",c.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),c}var zT=ee.S;ee.S=function(i,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&oN(i,a),zT!==null&&zT(i,a)};var Xa=ie(null);function iy(){var i=Xa.current;return i!==null?i:pt.pooledCache}function wf(i,a){a===null?he(Xa,Xa.current):he(Xa,a.pool)}function qT(){var i=iy();return i===null?null:{parent:tn._currentValue,pool:i}}var Sc=Error(r(460)),HT=Error(r(474)),bf=Error(r(542)),sy={then:function(){}};function GT(i){return i=i.status,i==="fulfilled"||i==="rejected"}function If(){}function $T(i,a,l){switch(l=i[l],l===void 0?i.push(a):l!==a&&(a.then(If,If),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,QT(i),i;default:if(typeof a.status=="string")a.then(If,If);else{if(i=pt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(c){if(a.status==="pending"){var p=a;p.status="fulfilled",p.value=c}},function(c){if(a.status==="pending"){var p=a;p.status="rejected",p.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,QT(i),i}throw Ac=a,Sc}}var Ac=null;function KT(){if(Ac===null)throw Error(r(459));var i=Ac;return Ac=null,i}function QT(i){if(i===Sc||i===bf)throw Error(r(483))}var Es=!1;function ay(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function oy(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ts(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ws(i,a,l){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(rt&2)!==0){var p=c.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),c.pending=a,a=gf(i),OT(i,null,l),a}return mf(i,c,a,l),gf(i)}function xc(i,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var c=a.lanes;c&=i.pendingLanes,l|=c,a.lanes=l,tc(i,l)}}function ly(i,a){var l=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var p=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?p=g=T:g=g.next=T,l=l.next}while(l!==null);g===null?p=g=a:g=g.next=a}else p=g=a;l={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=a:i.next=a,l.lastBaseUpdate=a}var uy=!1;function Rc(){if(uy){var i=yl;if(i!==null)throw i}}function Cc(i,a,l,c){uy=!1;var p=i.updateQueue;Es=!1;var g=p.firstBaseUpdate,T=p.lastBaseUpdate,I=p.shared.pending;if(I!==null){p.shared.pending=null;var k=I,Q=k.next;k.next=null,T===null?g=Q:T.next=Q,T=k;var te=i.alternate;te!==null&&(te=te.updateQueue,I=te.lastBaseUpdate,I!==T&&(I===null?te.firstBaseUpdate=Q:I.next=Q,te.lastBaseUpdate=k))}if(g!==null){var se=p.baseState;T=0,te=Q=k=null,I=g;do{var Y=I.lane&-536870913,X=Y!==I.lane;if(X?(We&Y)===Y:(c&Y)===Y){Y!==0&&Y===gl&&(uy=!0),te!==null&&(te=te.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var De=i,Re=I;Y=a;var ht=l;switch(Re.tag){case 1:if(De=Re.payload,typeof De=="function"){se=De.call(ht,se,Y);break e}se=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=Re.payload,Y=typeof De=="function"?De.call(ht,se,Y):De,Y==null)break e;se=y({},se,Y);break e;case 2:Es=!0}}Y=I.callback,Y!==null&&(i.flags|=64,X&&(i.flags|=8192),X=p.callbacks,X===null?p.callbacks=[Y]:X.push(Y))}else X={lane:Y,tag:I.tag,payload:I.payload,callback:I.callback,next:null},te===null?(Q=te=X,k=se):te=te.next=X,T|=Y;if(I=I.next,I===null){if(I=p.shared.pending,I===null)break;X=I,I=X.next,X.next=null,p.lastBaseUpdate=X,p.shared.pending=null}}while(!0);te===null&&(k=se),p.baseState=k,p.firstBaseUpdate=Q,p.lastBaseUpdate=te,g===null&&(p.shared.lanes=0),Ps|=T,i.lanes=T,i.memoizedState=se}}function WT(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function YT(i,a){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)WT(l[i],a)}var _l=ie(null),Sf=ie(0);function XT(i,a){i=$i,he(Sf,i),he(_l,a),$i=i|a.baseLanes}function cy(){he(Sf,$i),he(_l,_l.current)}function hy(){$i=Sf.current,de(_l),de(Sf)}var bs=0,je=null,ut=null,Kt=null,Af=!1,vl=!1,Ja=!1,xf=0,Pc=0,El=null,uN=0;function Bt(){throw Error(r(321))}function dy(i,a){if(a===null)return!1;for(var l=0;l<a.length&&l<i.length;l++)if(!Jn(i[l],a[l]))return!1;return!0}function fy(i,a,l,c,p,g){return bs=g,je=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,ee.H=i===null||i.memoizedState===null?Ow:Vw,Ja=!1,g=l(c,p),Ja=!1,vl&&(g=ZT(a,l,c,p)),JT(i),g}function JT(i){ee.H=kf;var a=ut!==null&&ut.next!==null;if(bs=0,Kt=ut=je=null,Af=!1,Pc=0,El=null,a)throw Error(r(300));i===null||ln||(i=i.dependencies,i!==null&&Ef(i)&&(ln=!0))}function ZT(i,a,l,c){je=i;var p=0;do{if(vl&&(El=null),Pc=0,vl=!1,25<=p)throw Error(r(301));if(p+=1,Kt=ut=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}ee.H=gN,g=a(l,c)}while(vl);return g}function cN(){var i=ee.H,a=i.useState()[0];return a=typeof a.then=="function"?Dc(a):a,i=i.useState()[0],(ut!==null?ut.memoizedState:null)!==i&&(je.flags|=1024),a}function py(){var i=xf!==0;return xf=0,i}function my(i,a,l){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~l}function gy(i){if(Af){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}Af=!1}bs=0,Kt=ut=je=null,vl=!1,Pc=xf=0,El=null}function Fn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?je.memoizedState=Kt=i:Kt=Kt.next=i,Kt}function Qt(){if(ut===null){var i=je.alternate;i=i!==null?i.memoizedState:null}else i=ut.next;var a=Kt===null?je.memoizedState:Kt.next;if(a!==null)Kt=a,ut=i;else{if(i===null)throw je.alternate===null?Error(r(467)):Error(r(310));ut=i,i={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Kt===null?je.memoizedState=Kt=i:Kt=Kt.next=i}return Kt}function yy(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Dc(i){var a=Pc;return Pc+=1,El===null&&(El=[]),i=$T(El,i,a),a=je,(Kt===null?a.memoizedState:Kt.next)===null&&(a=a.alternate,ee.H=a===null||a.memoizedState===null?Ow:Vw),i}function Rf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Dc(i);if(i.$$typeof===W)return Sn(i)}throw Error(r(438,String(i)))}function _y(i){var a=null,l=je.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=je.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(p){return p.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=yy(),je.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(i),c=0;c<i;c++)l[c]=O;return a.index++,l}function Bi(i,a){return typeof a=="function"?a(i):a}function Cf(i){var a=Qt();return vy(a,ut,i)}function vy(i,a,l){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var p=i.baseQueue,g=c.pending;if(g!==null){if(p!==null){var T=p.next;p.next=g.next,g.next=T}a.baseQueue=p=g,c.pending=null}if(g=i.baseState,p===null)i.memoizedState=g;else{a=p.next;var I=T=null,k=null,Q=a,te=!1;do{var se=Q.lane&-536870913;if(se!==Q.lane?(We&se)===se:(bs&se)===se){var Y=Q.revertLane;if(Y===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),se===gl&&(te=!0);else if((bs&Y)===Y){Q=Q.next,Y===gl&&(te=!0);continue}else se={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},k===null?(I=k=se,T=g):k=k.next=se,je.lanes|=Y,Ps|=Y;se=Q.action,Ja&&l(g,se),g=Q.hasEagerState?Q.eagerState:l(g,se)}else Y={lane:se,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},k===null?(I=k=Y,T=g):k=k.next=Y,je.lanes|=se,Ps|=se;Q=Q.next}while(Q!==null&&Q!==a);if(k===null?T=g:k.next=I,!Jn(g,i.memoizedState)&&(ln=!0,te&&(l=yl,l!==null)))throw l;i.memoizedState=g,i.baseState=T,i.baseQueue=k,c.lastRenderedState=g}return p===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Ey(i){var a=Qt(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var c=l.dispatch,p=l.pending,g=a.memoizedState;if(p!==null){l.pending=null;var T=p=p.next;do g=i(g,T.action),T=T.next;while(T!==p);Jn(g,a.memoizedState)||(ln=!0),a.memoizedState=g,a.baseQueue===null&&(a.baseState=g),l.lastRenderedState=g}return[g,c]}function ew(i,a,l){var c=je,p=Qt(),g=Ze;if(g){if(l===void 0)throw Error(r(407));l=l()}else l=a();var T=!Jn((ut||p).memoizedState,l);T&&(p.memoizedState=l,ln=!0),p=p.queue;var I=rw.bind(null,c,p,i);if(Nc(2048,8,I,[i]),p.getSnapshot!==a||T||Kt!==null&&Kt.memoizedState.tag&1){if(c.flags|=2048,Tl(9,Pf(),nw.bind(null,c,p,l,a),null),pt===null)throw Error(r(349));g||(bs&124)!==0||tw(c,a,l)}return l}function tw(i,a,l){i.flags|=16384,i={getSnapshot:a,value:l},a=je.updateQueue,a===null?(a=yy(),je.updateQueue=a,a.stores=[i]):(l=a.stores,l===null?a.stores=[i]:l.push(i))}function nw(i,a,l,c){a.value=l,a.getSnapshot=c,iw(a)&&sw(i)}function rw(i,a,l){return l(function(){iw(a)&&sw(i)})}function iw(i){var a=i.getSnapshot;i=i.value;try{var l=a();return!Jn(i,l)}catch{return!0}}function sw(i){var a=dl(i,2);a!==null&&ir(a,i,2)}function Ty(i){var a=Fn();if(typeof i=="function"){var l=i;if(i=l(),Ja){Yn(!0);try{l()}finally{Yn(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:i},a}function aw(i,a,l,c){return i.baseState=l,vy(i,ut,typeof c=="function"?c:Bi)}function hN(i,a,l,c,p){if(Nf(i))throw Error(r(485));if(i=a.action,i!==null){var g={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};ee.T!==null?l(!0):g.isTransition=!1,c(g),l=a.pending,l===null?(g.next=a.pending=g,ow(a,g)):(g.next=l.next,a.pending=l.next=g)}}function ow(i,a){var l=a.action,c=a.payload,p=i.state;if(a.isTransition){var g=ee.T,T={};ee.T=T;try{var I=l(p,c),k=ee.S;k!==null&&k(T,I),lw(i,a,I)}catch(Q){wy(i,a,Q)}finally{ee.T=g}}else try{g=l(p,c),lw(i,a,g)}catch(Q){wy(i,a,Q)}}function lw(i,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){uw(i,a,c)},function(c){return wy(i,a,c)}):uw(i,a,l)}function uw(i,a,l){a.status="fulfilled",a.value=l,cw(a),i.state=l,a=i.pending,a!==null&&(l=a.next,l===a?i.pending=null:(l=l.next,a.next=l,ow(i,l)))}function wy(i,a,l){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,cw(a),a=a.next;while(a!==c)}i.action=null}function cw(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function hw(i,a){return a}function dw(i,a){if(Ze){var l=pt.formState;if(l!==null){e:{var c=je;if(Ze){if(kt){t:{for(var p=kt,g=Yr;p.nodeType!==8;){if(!g){p=null;break t}if(p=kr(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){kt=kr(p.nextSibling),c=p.data==="F!";break e}}Qa(c)}c=!1}c&&(a=l[0])}}return l=Fn(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hw,lastRenderedState:a},l.queue=c,l=Dw.bind(null,je,c),c.dispatch=l,c=Ty(!1),g=xy.bind(null,je,!1,c.queue),c=Fn(),p={state:a,dispatch:null,action:i,pending:null},c.queue=p,l=hN.bind(null,je,p,g,l),p.dispatch=l,c.memoizedState=i,[a,l,!1]}function fw(i){var a=Qt();return pw(a,ut,i)}function pw(i,a,l){if(a=vy(i,a,hw)[0],i=Cf(Bi)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=Dc(a)}catch(T){throw T===Sc?bf:T}else c=a;a=Qt();var p=a.queue,g=p.dispatch;return l!==a.memoizedState&&(je.flags|=2048,Tl(9,Pf(),dN.bind(null,p,l),null)),[c,g,i]}function dN(i,a){i.action=a}function mw(i){var a=Qt(),l=ut;if(l!==null)return pw(a,l,i);Qt(),a=a.memoizedState,l=Qt();var c=l.queue.dispatch;return l.memoizedState=i,[a,c,!1]}function Tl(i,a,l,c){return i={tag:i,create:l,deps:c,inst:a,next:null},a=je.updateQueue,a===null&&(a=yy(),je.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=i.next=i:(c=l.next,l.next=i,i.next=c,a.lastEffect=i),i}function Pf(){return{destroy:void 0,resource:void 0}}function gw(){return Qt().memoizedState}function Df(i,a,l,c){var p=Fn();c=c===void 0?null:c,je.flags|=i,p.memoizedState=Tl(1|a,Pf(),l,c)}function Nc(i,a,l,c){var p=Qt();c=c===void 0?null:c;var g=p.memoizedState.inst;ut!==null&&c!==null&&dy(c,ut.memoizedState.deps)?p.memoizedState=Tl(a,g,l,c):(je.flags|=i,p.memoizedState=Tl(1|a,g,l,c))}function yw(i,a){Df(8390656,8,i,a)}function _w(i,a){Nc(2048,8,i,a)}function vw(i,a){return Nc(4,2,i,a)}function Ew(i,a){return Nc(4,4,i,a)}function Tw(i,a){if(typeof a=="function"){i=i();var l=a(i);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function ww(i,a,l){l=l!=null?l.concat([i]):null,Nc(4,4,Tw.bind(null,a,i),l)}function by(){}function bw(i,a){var l=Qt();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&dy(a,c[1])?c[0]:(l.memoizedState=[i,a],i)}function Iw(i,a){var l=Qt();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&dy(a,c[1]))return c[0];if(c=i(),Ja){Yn(!0);try{i()}finally{Yn(!1)}}return l.memoizedState=[c,a],c}function Iy(i,a,l){return l===void 0||(bs&1073741824)!==0?i.memoizedState=a:(i.memoizedState=l,i=xb(),je.lanes|=i,Ps|=i,l)}function Sw(i,a,l,c){return Jn(l,a)?l:_l.current!==null?(i=Iy(i,l,c),Jn(i,a)||(ln=!0),i):(bs&42)===0?(ln=!0,i.memoizedState=l):(i=xb(),je.lanes|=i,Ps|=i,a)}function Aw(i,a,l,c,p){var g=pe.p;pe.p=g!==0&&8>g?g:8;var T=ee.T,I={};ee.T=I,xy(i,!1,a,l);try{var k=p(),Q=ee.S;if(Q!==null&&Q(I,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var te=lN(k,c);kc(i,a,te,rr(i))}else kc(i,a,c,rr(i))}catch(se){kc(i,a,{then:function(){},status:"rejected",reason:se},rr())}finally{pe.p=g,ee.T=T}}function fN(){}function Sy(i,a,l,c){if(i.tag!==5)throw Error(r(476));var p=xw(i).queue;Aw(i,p,a,we,l===null?fN:function(){return Rw(i),l(c)})}function xw(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:we,baseState:we,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:we},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:l},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function Rw(i){var a=xw(i).next.queue;kc(i,a,{},rr())}function Ay(){return Sn(Xc)}function Cw(){return Qt().memoizedState}function Pw(){return Qt().memoizedState}function pN(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var l=rr();i=Ts(l);var c=ws(a,i,l);c!==null&&(ir(c,a,l),xc(c,a,l)),a={cache:ny()},i.payload=a;return}a=a.return}}function mN(i,a,l){var c=rr();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Nf(i)?Nw(a,l):(l=$g(i,a,l,c),l!==null&&(ir(l,i,c),kw(l,a,c)))}function Dw(i,a,l){var c=rr();kc(i,a,l,c)}function kc(i,a,l,c){var p={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Nf(i))Nw(a,p);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=a.lastRenderedReducer,g!==null))try{var T=a.lastRenderedState,I=g(T,l);if(p.hasEagerState=!0,p.eagerState=I,Jn(I,T))return mf(i,a,p,0),pt===null&&pf(),!1}catch{}finally{}if(l=$g(i,a,p,c),l!==null)return ir(l,i,c),kw(l,a,c),!0}return!1}function xy(i,a,l,c){if(c={lane:2,revertLane:s_(),action:c,hasEagerState:!1,eagerState:null,next:null},Nf(i)){if(a)throw Error(r(479))}else a=$g(i,l,c,2),a!==null&&ir(a,i,2)}function Nf(i){var a=i.alternate;return i===je||a!==null&&a===je}function Nw(i,a){vl=Af=!0;var l=i.pending;l===null?a.next=a:(a.next=l.next,l.next=a),i.pending=a}function kw(i,a,l){if((l&4194048)!==0){var c=a.lanes;c&=i.pendingLanes,l|=c,a.lanes=l,tc(i,l)}}var kf={readContext:Sn,use:Rf,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useLayoutEffect:Bt,useInsertionEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useSyncExternalStore:Bt,useId:Bt,useHostTransitionStatus:Bt,useFormState:Bt,useActionState:Bt,useOptimistic:Bt,useMemoCache:Bt,useCacheRefresh:Bt},Ow={readContext:Sn,use:Rf,useCallback:function(i,a){return Fn().memoizedState=[i,a===void 0?null:a],i},useContext:Sn,useEffect:yw,useImperativeHandle:function(i,a,l){l=l!=null?l.concat([i]):null,Df(4194308,4,Tw.bind(null,a,i),l)},useLayoutEffect:function(i,a){return Df(4194308,4,i,a)},useInsertionEffect:function(i,a){Df(4,2,i,a)},useMemo:function(i,a){var l=Fn();a=a===void 0?null:a;var c=i();if(Ja){Yn(!0);try{i()}finally{Yn(!1)}}return l.memoizedState=[c,a],c},useReducer:function(i,a,l){var c=Fn();if(l!==void 0){var p=l(a);if(Ja){Yn(!0);try{l(a)}finally{Yn(!1)}}}else p=a;return c.memoizedState=c.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},c.queue=i,i=i.dispatch=mN.bind(null,je,i),[c.memoizedState,i]},useRef:function(i){var a=Fn();return i={current:i},a.memoizedState=i},useState:function(i){i=Ty(i);var a=i.queue,l=Dw.bind(null,je,a);return a.dispatch=l,[i.memoizedState,l]},useDebugValue:by,useDeferredValue:function(i,a){var l=Fn();return Iy(l,i,a)},useTransition:function(){var i=Ty(!1);return i=Aw.bind(null,je,i.queue,!0,!1),Fn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,l){var c=je,p=Fn();if(Ze){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),pt===null)throw Error(r(349));(We&124)!==0||tw(c,a,l)}p.memoizedState=l;var g={value:l,getSnapshot:a};return p.queue=g,yw(rw.bind(null,c,g,i),[i]),c.flags|=2048,Tl(9,Pf(),nw.bind(null,c,g,l,a),null),l},useId:function(){var i=Fn(),a=pt.identifierPrefix;if(Ze){var l=Li,c=Mi;l=(c&~(1<<32-In(c)-1)).toString(32)+l,a="«"+a+"R"+l,l=xf++,0<l&&(a+="H"+l.toString(32)),a+="»"}else l=uN++,a="«"+a+"r"+l.toString(32)+"»";return i.memoizedState=a},useHostTransitionStatus:Ay,useFormState:dw,useActionState:dw,useOptimistic:function(i){var a=Fn();a.memoizedState=a.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=xy.bind(null,je,!0,l),l.dispatch=a,[i,a]},useMemoCache:_y,useCacheRefresh:function(){return Fn().memoizedState=pN.bind(null,je)}},Vw={readContext:Sn,use:Rf,useCallback:bw,useContext:Sn,useEffect:_w,useImperativeHandle:ww,useInsertionEffect:vw,useLayoutEffect:Ew,useMemo:Iw,useReducer:Cf,useRef:gw,useState:function(){return Cf(Bi)},useDebugValue:by,useDeferredValue:function(i,a){var l=Qt();return Sw(l,ut.memoizedState,i,a)},useTransition:function(){var i=Cf(Bi)[0],a=Qt().memoizedState;return[typeof i=="boolean"?i:Dc(i),a]},useSyncExternalStore:ew,useId:Cw,useHostTransitionStatus:Ay,useFormState:fw,useActionState:fw,useOptimistic:function(i,a){var l=Qt();return aw(l,ut,i,a)},useMemoCache:_y,useCacheRefresh:Pw},gN={readContext:Sn,use:Rf,useCallback:bw,useContext:Sn,useEffect:_w,useImperativeHandle:ww,useInsertionEffect:vw,useLayoutEffect:Ew,useMemo:Iw,useReducer:Ey,useRef:gw,useState:function(){return Ey(Bi)},useDebugValue:by,useDeferredValue:function(i,a){var l=Qt();return ut===null?Iy(l,i,a):Sw(l,ut.memoizedState,i,a)},useTransition:function(){var i=Ey(Bi)[0],a=Qt().memoizedState;return[typeof i=="boolean"?i:Dc(i),a]},useSyncExternalStore:ew,useId:Cw,useHostTransitionStatus:Ay,useFormState:mw,useActionState:mw,useOptimistic:function(i,a){var l=Qt();return ut!==null?aw(l,ut,i,a):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:_y,useCacheRefresh:Pw},wl=null,Oc=0;function Of(i){var a=Oc;return Oc+=1,wl===null&&(wl=[]),$T(wl,i,a)}function Vc(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function Vf(i,a){throw a.$$typeof===v?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function Mw(i){var a=i._init;return a(i._payload)}function Lw(i){function a(q,j){if(i){var K=q.deletions;K===null?(q.deletions=[j],q.flags|=16):K.push(j)}}function l(q,j){if(!i)return null;for(;j!==null;)a(q,j),j=j.sibling;return null}function c(q){for(var j=new Map;q!==null;)q.key!==null?j.set(q.key,q):j.set(q.index,q),q=q.sibling;return j}function p(q,j){return q=Vi(q,j),q.index=0,q.sibling=null,q}function g(q,j,K){return q.index=K,i?(K=q.alternate,K!==null?(K=K.index,K<j?(q.flags|=67108866,j):K):(q.flags|=67108866,j)):(q.flags|=1048576,j)}function T(q){return i&&q.alternate===null&&(q.flags|=67108866),q}function I(q,j,K,re){return j===null||j.tag!==6?(j=Qg(K,q.mode,re),j.return=q,j):(j=p(j,K),j.return=q,j)}function k(q,j,K,re){var Ee=K.type;return Ee===R?te(q,j,K.props.children,re,K.key):j!==null&&(j.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===A&&Mw(Ee)===j.type)?(j=p(j,K.props),Vc(j,K),j.return=q,j):(j=yf(K.type,K.key,K.props,null,q.mode,re),Vc(j,K),j.return=q,j)}function Q(q,j,K,re){return j===null||j.tag!==4||j.stateNode.containerInfo!==K.containerInfo||j.stateNode.implementation!==K.implementation?(j=Wg(K,q.mode,re),j.return=q,j):(j=p(j,K.children||[]),j.return=q,j)}function te(q,j,K,re,Ee){return j===null||j.tag!==7?(j=Ha(K,q.mode,re,Ee),j.return=q,j):(j=p(j,K),j.return=q,j)}function se(q,j,K){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Qg(""+j,q.mode,K),j.return=q,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case b:return K=yf(j.type,j.key,j.props,null,q.mode,K),Vc(K,j),K.return=q,K;case x:return j=Wg(j,q.mode,K),j.return=q,j;case A:var re=j._init;return j=re(j._payload),se(q,j,K)}if(ot(j)||U(j))return j=Ha(j,q.mode,K,null),j.return=q,j;if(typeof j.then=="function")return se(q,Of(j),K);if(j.$$typeof===W)return se(q,Tf(q,j),K);Vf(q,j)}return null}function Y(q,j,K,re){var Ee=j!==null?j.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return Ee!==null?null:I(q,j,""+K,re);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case b:return K.key===Ee?k(q,j,K,re):null;case x:return K.key===Ee?Q(q,j,K,re):null;case A:return Ee=K._init,K=Ee(K._payload),Y(q,j,K,re)}if(ot(K)||U(K))return Ee!==null?null:te(q,j,K,re,null);if(typeof K.then=="function")return Y(q,j,Of(K),re);if(K.$$typeof===W)return Y(q,j,Tf(q,K),re);Vf(q,K)}return null}function X(q,j,K,re,Ee){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return q=q.get(K)||null,I(j,q,""+re,Ee);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case b:return q=q.get(re.key===null?K:re.key)||null,k(j,q,re,Ee);case x:return q=q.get(re.key===null?K:re.key)||null,Q(j,q,re,Ee);case A:var Ue=re._init;return re=Ue(re._payload),X(q,j,K,re,Ee)}if(ot(re)||U(re))return q=q.get(K)||null,te(j,q,re,Ee,null);if(typeof re.then=="function")return X(q,j,K,Of(re),Ee);if(re.$$typeof===W)return X(q,j,K,Tf(j,re),Ee);Vf(j,re)}return null}function De(q,j,K,re){for(var Ee=null,Ue=null,Se=j,Ce=j=0,cn=null;Se!==null&&Ce<K.length;Ce++){Se.index>Ce?(cn=Se,Se=null):cn=Se.sibling;var Xe=Y(q,Se,K[Ce],re);if(Xe===null){Se===null&&(Se=cn);break}i&&Se&&Xe.alternate===null&&a(q,Se),j=g(Xe,j,Ce),Ue===null?Ee=Xe:Ue.sibling=Xe,Ue=Xe,Se=cn}if(Ce===K.length)return l(q,Se),Ze&&$a(q,Ce),Ee;if(Se===null){for(;Ce<K.length;Ce++)Se=se(q,K[Ce],re),Se!==null&&(j=g(Se,j,Ce),Ue===null?Ee=Se:Ue.sibling=Se,Ue=Se);return Ze&&$a(q,Ce),Ee}for(Se=c(Se);Ce<K.length;Ce++)cn=X(Se,q,Ce,K[Ce],re),cn!==null&&(i&&cn.alternate!==null&&Se.delete(cn.key===null?Ce:cn.key),j=g(cn,j,Ce),Ue===null?Ee=cn:Ue.sibling=cn,Ue=cn);return i&&Se.forEach(function(Us){return a(q,Us)}),Ze&&$a(q,Ce),Ee}function Re(q,j,K,re){if(K==null)throw Error(r(151));for(var Ee=null,Ue=null,Se=j,Ce=j=0,cn=null,Xe=K.next();Se!==null&&!Xe.done;Ce++,Xe=K.next()){Se.index>Ce?(cn=Se,Se=null):cn=Se.sibling;var Us=Y(q,Se,Xe.value,re);if(Us===null){Se===null&&(Se=cn);break}i&&Se&&Us.alternate===null&&a(q,Se),j=g(Us,j,Ce),Ue===null?Ee=Us:Ue.sibling=Us,Ue=Us,Se=cn}if(Xe.done)return l(q,Se),Ze&&$a(q,Ce),Ee;if(Se===null){for(;!Xe.done;Ce++,Xe=K.next())Xe=se(q,Xe.value,re),Xe!==null&&(j=g(Xe,j,Ce),Ue===null?Ee=Xe:Ue.sibling=Xe,Ue=Xe);return Ze&&$a(q,Ce),Ee}for(Se=c(Se);!Xe.done;Ce++,Xe=K.next())Xe=X(Se,q,Ce,Xe.value,re),Xe!==null&&(i&&Xe.alternate!==null&&Se.delete(Xe.key===null?Ce:Xe.key),j=g(Xe,j,Ce),Ue===null?Ee=Xe:Ue.sibling=Xe,Ue=Xe);return i&&Se.forEach(function(yk){return a(q,yk)}),Ze&&$a(q,Ce),Ee}function ht(q,j,K,re){if(typeof K=="object"&&K!==null&&K.type===R&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case b:e:{for(var Ee=K.key;j!==null;){if(j.key===Ee){if(Ee=K.type,Ee===R){if(j.tag===7){l(q,j.sibling),re=p(j,K.props.children),re.return=q,q=re;break e}}else if(j.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===A&&Mw(Ee)===j.type){l(q,j.sibling),re=p(j,K.props),Vc(re,K),re.return=q,q=re;break e}l(q,j);break}else a(q,j);j=j.sibling}K.type===R?(re=Ha(K.props.children,q.mode,re,K.key),re.return=q,q=re):(re=yf(K.type,K.key,K.props,null,q.mode,re),Vc(re,K),re.return=q,q=re)}return T(q);case x:e:{for(Ee=K.key;j!==null;){if(j.key===Ee)if(j.tag===4&&j.stateNode.containerInfo===K.containerInfo&&j.stateNode.implementation===K.implementation){l(q,j.sibling),re=p(j,K.children||[]),re.return=q,q=re;break e}else{l(q,j);break}else a(q,j);j=j.sibling}re=Wg(K,q.mode,re),re.return=q,q=re}return T(q);case A:return Ee=K._init,K=Ee(K._payload),ht(q,j,K,re)}if(ot(K))return De(q,j,K,re);if(U(K)){if(Ee=U(K),typeof Ee!="function")throw Error(r(150));return K=Ee.call(K),Re(q,j,K,re)}if(typeof K.then=="function")return ht(q,j,Of(K),re);if(K.$$typeof===W)return ht(q,j,Tf(q,K),re);Vf(q,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,j!==null&&j.tag===6?(l(q,j.sibling),re=p(j,K),re.return=q,q=re):(l(q,j),re=Qg(K,q.mode,re),re.return=q,q=re),T(q)):l(q,j)}return function(q,j,K,re){try{Oc=0;var Ee=ht(q,j,K,re);return wl=null,Ee}catch(Se){if(Se===Sc||Se===bf)throw Se;var Ue=Zn(29,Se,null,q.mode);return Ue.lanes=re,Ue.return=q,Ue}finally{}}}var bl=Lw(!0),jw=Lw(!1),Er=ie(null),Xr=null;function Is(i){var a=i.alternate;he(nn,nn.current&1),he(Er,i),Xr===null&&(a===null||_l.current!==null||a.memoizedState!==null)&&(Xr=i)}function Uw(i){if(i.tag===22){if(he(nn,nn.current),he(Er,i),Xr===null){var a=i.alternate;a!==null&&a.memoizedState!==null&&(Xr=i)}}else Ss()}function Ss(){he(nn,nn.current),he(Er,Er.current)}function Fi(i){de(Er),Xr===i&&(Xr=null),de(nn)}var nn=ie(0);function Mf(i){for(var a=i;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||y_(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Ry(i,a,l,c){a=i.memoizedState,l=l(c,a),l=l==null?a:y({},a,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Cy={enqueueSetState:function(i,a,l){i=i._reactInternals;var c=rr(),p=Ts(c);p.payload=a,l!=null&&(p.callback=l),a=ws(i,p,c),a!==null&&(ir(a,i,c),xc(a,i,c))},enqueueReplaceState:function(i,a,l){i=i._reactInternals;var c=rr(),p=Ts(c);p.tag=1,p.payload=a,l!=null&&(p.callback=l),a=ws(i,p,c),a!==null&&(ir(a,i,c),xc(a,i,c))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var l=rr(),c=Ts(l);c.tag=2,a!=null&&(c.callback=a),a=ws(i,c,l),a!==null&&(ir(a,i,l),xc(a,i,l))}};function Bw(i,a,l,c,p,g,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,g,T):a.prototype&&a.prototype.isPureReactComponent?!yc(l,c)||!yc(p,g):!0}function Fw(i,a,l,c){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==i&&Cy.enqueueReplaceState(a,a.state,null)}function Za(i,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(i=i.defaultProps){l===a&&(l=y({},l));for(var p in i)l[p]===void 0&&(l[p]=i[p])}return l}var Lf=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function zw(i){Lf(i)}function qw(i){console.error(i)}function Hw(i){Lf(i)}function jf(i,a){try{var l=i.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function Gw(i,a,l){try{var c=i.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Py(i,a,l){return l=Ts(l),l.tag=3,l.payload={element:null},l.callback=function(){jf(i,a)},l}function $w(i){return i=Ts(i),i.tag=3,i}function Kw(i,a,l,c){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var g=c.value;i.payload=function(){return p(g)},i.callback=function(){Gw(a,l,c)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){Gw(a,l,c),typeof p!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var I=c.stack;this.componentDidCatch(c.value,{componentStack:I!==null?I:""})})}function yN(i,a,l,c,p){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&wc(a,l,p,!0),l=Er.current,l!==null){switch(l.tag){case 13:return Xr===null?e_():l.alternate===null&&Ot===0&&(Ot=3),l.flags&=-257,l.flags|=65536,l.lanes=p,c===sy?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),n_(i,c,p)),!1;case 22:return l.flags|=65536,c===sy?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),n_(i,c,p)),!1}throw Error(r(435,l.tag))}return n_(i,c,p),e_(),!1}if(Ze)return a=Er.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=p,c!==Jg&&(i=Error(r(422),{cause:c}),Tc(gr(i,l)))):(c!==Jg&&(a=Error(r(423),{cause:c}),Tc(gr(a,l))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,c=gr(c,l),p=Py(i.stateNode,c,p),ly(i,p),Ot!==4&&(Ot=2)),!1;var g=Error(r(520),{cause:c});if(g=gr(g,l),zc===null?zc=[g]:zc.push(g),Ot!==4&&(Ot=2),a===null)return!0;c=gr(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,i=p&-p,l.lanes|=i,i=Py(l.stateNode,c,i),ly(l,i),!1;case 1:if(a=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ds===null||!Ds.has(g))))return l.flags|=65536,p&=-p,l.lanes|=p,p=$w(p),Kw(p,i,l,c),ly(l,p),!1}l=l.return}while(l!==null);return!1}var Qw=Error(r(461)),ln=!1;function yn(i,a,l,c){a.child=i===null?jw(a,null,l,c):bl(a,i.child,l,c)}function Ww(i,a,l,c,p){l=l.render;var g=a.ref;if("ref"in c){var T={};for(var I in c)I!=="ref"&&(T[I]=c[I])}else T=c;return Ya(a),c=fy(i,a,l,T,g,p),I=py(),i!==null&&!ln?(my(i,a,p),zi(i,a,p)):(Ze&&I&&Yg(a),a.flags|=1,yn(i,a,c,p),a.child)}function Yw(i,a,l,c,p){if(i===null){var g=l.type;return typeof g=="function"&&!Kg(g)&&g.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=g,Xw(i,a,g,c,p)):(i=yf(l.type,null,c,a,a.mode,p),i.ref=a.ref,i.return=a,a.child=i)}if(g=i.child,!jy(i,p)){var T=g.memoizedProps;if(l=l.compare,l=l!==null?l:yc,l(T,c)&&i.ref===a.ref)return zi(i,a,p)}return a.flags|=1,i=Vi(g,c),i.ref=a.ref,i.return=a,a.child=i}function Xw(i,a,l,c,p){if(i!==null){var g=i.memoizedProps;if(yc(g,c)&&i.ref===a.ref)if(ln=!1,a.pendingProps=c=g,jy(i,p))(i.flags&131072)!==0&&(ln=!0);else return a.lanes=i.lanes,zi(i,a,p)}return Dy(i,a,l,c,p)}function Jw(i,a,l){var c=a.pendingProps,p=c.children,g=i!==null?i.memoizedState:null;if(c.mode==="hidden"){if((a.flags&128)!==0){if(c=g!==null?g.baseLanes|l:l,i!==null){for(p=a.child=i.child,g=0;p!==null;)g=g|p.lanes|p.childLanes,p=p.sibling;a.childLanes=g&~c}else a.childLanes=0,a.child=null;return Zw(i,a,c,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&wf(a,g!==null?g.cachePool:null),g!==null?XT(a,g):cy(),Uw(a);else return a.lanes=a.childLanes=536870912,Zw(i,a,g!==null?g.baseLanes|l:l,l)}else g!==null?(wf(a,g.cachePool),XT(a,g),Ss(),a.memoizedState=null):(i!==null&&wf(a,null),cy(),Ss());return yn(i,a,p,l),a.child}function Zw(i,a,l,c){var p=iy();return p=p===null?null:{parent:tn._currentValue,pool:p},a.memoizedState={baseLanes:l,cachePool:p},i!==null&&wf(a,null),cy(),Uw(a),i!==null&&wc(i,a,c,!0),null}function Uf(i,a){var l=a.ref;if(l===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(a.flags|=4194816)}}function Dy(i,a,l,c,p){return Ya(a),l=fy(i,a,l,c,void 0,p),c=py(),i!==null&&!ln?(my(i,a,p),zi(i,a,p)):(Ze&&c&&Yg(a),a.flags|=1,yn(i,a,l,p),a.child)}function eb(i,a,l,c,p,g){return Ya(a),a.updateQueue=null,l=ZT(a,c,l,p),JT(i),c=py(),i!==null&&!ln?(my(i,a,g),zi(i,a,g)):(Ze&&c&&Yg(a),a.flags|=1,yn(i,a,l,g),a.child)}function tb(i,a,l,c,p){if(Ya(a),a.stateNode===null){var g=fl,T=l.contextType;typeof T=="object"&&T!==null&&(g=Sn(T)),g=new l(c,g),a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Cy,a.stateNode=g,g._reactInternals=a,g=a.stateNode,g.props=c,g.state=a.memoizedState,g.refs={},ay(a),T=l.contextType,g.context=typeof T=="object"&&T!==null?Sn(T):fl,g.state=a.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(Ry(a,l,T,c),g.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&Cy.enqueueReplaceState(g,g.state,null),Cc(a,c,g,p),Rc(),g.state=a.memoizedState),typeof g.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(i===null){g=a.stateNode;var I=a.memoizedProps,k=Za(l,I);g.props=k;var Q=g.context,te=l.contextType;T=fl,typeof te=="object"&&te!==null&&(T=Sn(te));var se=l.getDerivedStateFromProps;te=typeof se=="function"||typeof g.getSnapshotBeforeUpdate=="function",I=a.pendingProps!==I,te||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(I||Q!==T)&&Fw(a,g,c,T),Es=!1;var Y=a.memoizedState;g.state=Y,Cc(a,c,g,p),Rc(),Q=a.memoizedState,I||Y!==Q||Es?(typeof se=="function"&&(Ry(a,l,se,c),Q=a.memoizedState),(k=Es||Bw(a,l,k,c,Y,Q,T))?(te||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(a.flags|=4194308)):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=Q),g.props=c,g.state=Q,g.context=T,c=k):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{g=a.stateNode,oy(i,a),T=a.memoizedProps,te=Za(l,T),g.props=te,se=a.pendingProps,Y=g.context,Q=l.contextType,k=fl,typeof Q=="object"&&Q!==null&&(k=Sn(Q)),I=l.getDerivedStateFromProps,(Q=typeof I=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==se||Y!==k)&&Fw(a,g,c,k),Es=!1,Y=a.memoizedState,g.state=Y,Cc(a,c,g,p),Rc();var X=a.memoizedState;T!==se||Y!==X||Es||i!==null&&i.dependencies!==null&&Ef(i.dependencies)?(typeof I=="function"&&(Ry(a,l,I,c),X=a.memoizedState),(te=Es||Bw(a,l,te,c,Y,X,k)||i!==null&&i.dependencies!==null&&Ef(i.dependencies))?(Q||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,X,k),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,X,k)),typeof g.componentDidUpdate=="function"&&(a.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&Y===i.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&Y===i.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=X),g.props=c,g.state=X,g.context=k,c=te):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&Y===i.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&Y===i.memoizedState||(a.flags|=1024),c=!1)}return g=c,Uf(i,a),c=(a.flags&128)!==0,g||c?(g=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:g.render(),a.flags|=1,i!==null&&c?(a.child=bl(a,i.child,null,p),a.child=bl(a,null,l,p)):yn(i,a,l,p),a.memoizedState=g.state,i=a.child):i=zi(i,a,p),i}function nb(i,a,l,c){return Ec(),a.flags|=256,yn(i,a,l,c),a.child}var Ny={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ky(i){return{baseLanes:i,cachePool:qT()}}function Oy(i,a,l){return i=i!==null?i.childLanes&~l:0,a&&(i|=Tr),i}function rb(i,a,l){var c=a.pendingProps,p=!1,g=(a.flags&128)!==0,T;if((T=g)||(T=i!==null&&i.memoizedState===null?!1:(nn.current&2)!==0),T&&(p=!0,a.flags&=-129),T=(a.flags&32)!==0,a.flags&=-33,i===null){if(Ze){if(p?Is(a):Ss(),Ze){var I=kt,k;if(k=I){e:{for(k=I,I=Yr;k.nodeType!==8;){if(!I){I=null;break e}if(k=kr(k.nextSibling),k===null){I=null;break e}}I=k}I!==null?(a.memoizedState={dehydrated:I,treeContext:Ga!==null?{id:Mi,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},k=Zn(18,null,null,0),k.stateNode=I,k.return=a,a.child=k,Vn=a,kt=null,k=!0):k=!1}k||Qa(a)}if(I=a.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return y_(I)?a.lanes=32:a.lanes=536870912,null;Fi(a)}return I=c.children,c=c.fallback,p?(Ss(),p=a.mode,I=Bf({mode:"hidden",children:I},p),c=Ha(c,p,l,null),I.return=a,c.return=a,I.sibling=c,a.child=I,p=a.child,p.memoizedState=ky(l),p.childLanes=Oy(i,T,l),a.memoizedState=Ny,c):(Is(a),Vy(a,I))}if(k=i.memoizedState,k!==null&&(I=k.dehydrated,I!==null)){if(g)a.flags&256?(Is(a),a.flags&=-257,a=My(i,a,l)):a.memoizedState!==null?(Ss(),a.child=i.child,a.flags|=128,a=null):(Ss(),p=c.fallback,I=a.mode,c=Bf({mode:"visible",children:c.children},I),p=Ha(p,I,l,null),p.flags|=2,c.return=a,p.return=a,c.sibling=p,a.child=c,bl(a,i.child,null,l),c=a.child,c.memoizedState=ky(l),c.childLanes=Oy(i,T,l),a.memoizedState=Ny,a=p);else if(Is(a),y_(I)){if(T=I.nextSibling&&I.nextSibling.dataset,T)var Q=T.dgst;T=Q,c=Error(r(419)),c.stack="",c.digest=T,Tc({value:c,source:null,stack:null}),a=My(i,a,l)}else if(ln||wc(i,a,l,!1),T=(l&i.childLanes)!==0,ln||T){if(T=pt,T!==null&&(c=l&-l,c=(c&42)!==0?1:ds(c),c=(c&(T.suspendedLanes|l))!==0?0:c,c!==0&&c!==k.retryLane))throw k.retryLane=c,dl(i,c),ir(T,i,c),Qw;I.data==="$?"||e_(),a=My(i,a,l)}else I.data==="$?"?(a.flags|=192,a.child=i.child,a=null):(i=k.treeContext,kt=kr(I.nextSibling),Vn=a,Ze=!0,Ka=null,Yr=!1,i!==null&&(_r[vr++]=Mi,_r[vr++]=Li,_r[vr++]=Ga,Mi=i.id,Li=i.overflow,Ga=a),a=Vy(a,c.children),a.flags|=4096);return a}return p?(Ss(),p=c.fallback,I=a.mode,k=i.child,Q=k.sibling,c=Vi(k,{mode:"hidden",children:c.children}),c.subtreeFlags=k.subtreeFlags&65011712,Q!==null?p=Vi(Q,p):(p=Ha(p,I,l,null),p.flags|=2),p.return=a,c.return=a,c.sibling=p,a.child=c,c=p,p=a.child,I=i.child.memoizedState,I===null?I=ky(l):(k=I.cachePool,k!==null?(Q=tn._currentValue,k=k.parent!==Q?{parent:Q,pool:Q}:k):k=qT(),I={baseLanes:I.baseLanes|l,cachePool:k}),p.memoizedState=I,p.childLanes=Oy(i,T,l),a.memoizedState=Ny,c):(Is(a),l=i.child,i=l.sibling,l=Vi(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,i!==null&&(T=a.deletions,T===null?(a.deletions=[i],a.flags|=16):T.push(i)),a.child=l,a.memoizedState=null,l)}function Vy(i,a){return a=Bf({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function Bf(i,a){return i=Zn(22,i,null,a),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function My(i,a,l){return bl(a,i.child,null,l),i=Vy(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function ib(i,a,l){i.lanes|=a;var c=i.alternate;c!==null&&(c.lanes|=a),ey(i.return,a,l)}function Ly(i,a,l,c,p){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:p}:(g.isBackwards=a,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=l,g.tailMode=p)}function sb(i,a,l){var c=a.pendingProps,p=c.revealOrder,g=c.tail;if(yn(i,a,c.children,l),c=nn.current,(c&2)!==0)c=c&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&ib(i,l,a);else if(i.tag===19)ib(i,l,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(he(nn,c),p){case"forwards":for(l=a.child,p=null;l!==null;)i=l.alternate,i!==null&&Mf(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=a.child,a.child=null):(p=l.sibling,l.sibling=null),Ly(a,!1,p,l,g);break;case"backwards":for(l=null,p=a.child,a.child=null;p!==null;){if(i=p.alternate,i!==null&&Mf(i)===null){a.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}Ly(a,!0,l,null,g);break;case"together":Ly(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function zi(i,a,l){if(i!==null&&(a.dependencies=i.dependencies),Ps|=a.lanes,(l&a.childLanes)===0)if(i!==null){if(wc(i,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,l=Vi(i,i.pendingProps),a.child=l,l.return=a;i.sibling!==null;)i=i.sibling,l=l.sibling=Vi(i,i.pendingProps),l.return=a;l.sibling=null}return a.child}function jy(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&Ef(i)))}function _N(i,a,l){switch(a.tag){case 3:Ge(a,a.stateNode.containerInfo),vs(a,tn,i.memoizedState.cache),Ec();break;case 27:case 5:ye(a);break;case 4:Ge(a,a.stateNode.containerInfo);break;case 10:vs(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(Is(a),a.flags|=128,null):(l&a.child.childLanes)!==0?rb(i,a,l):(Is(a),i=zi(i,a,l),i!==null?i.sibling:null);Is(a);break;case 19:var p=(i.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(wc(i,a,l,!1),c=(l&a.childLanes)!==0),p){if(c)return sb(i,a,l);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),he(nn,nn.current),c)break;return null;case 22:case 23:return a.lanes=0,Jw(i,a,l);case 24:vs(a,tn,i.memoizedState.cache)}return zi(i,a,l)}function ab(i,a,l){if(i!==null)if(i.memoizedProps!==a.pendingProps)ln=!0;else{if(!jy(i,l)&&(a.flags&128)===0)return ln=!1,_N(i,a,l);ln=(i.flags&131072)!==0}else ln=!1,Ze&&(a.flags&1048576)!==0&&MT(a,vf,a.index);switch(a.lanes=0,a.tag){case 16:e:{i=a.pendingProps;var c=a.elementType,p=c._init;if(c=p(c._payload),a.type=c,typeof c=="function")Kg(c)?(i=Za(c,i),a.tag=1,a=tb(null,a,c,i,l)):(a.tag=0,a=Dy(null,a,c,i,l));else{if(c!=null){if(p=c.$$typeof,p===ne){a.tag=11,a=Ww(null,a,c,i,l);break e}else if(p===P){a.tag=14,a=Yw(null,a,c,i,l);break e}}throw a=St(c)||c,Error(r(306,a,""))}}return a;case 0:return Dy(i,a,a.type,a.pendingProps,l);case 1:return c=a.type,p=Za(c,a.pendingProps),tb(i,a,c,p,l);case 3:e:{if(Ge(a,a.stateNode.containerInfo),i===null)throw Error(r(387));c=a.pendingProps;var g=a.memoizedState;p=g.element,oy(i,a),Cc(a,c,null,l);var T=a.memoizedState;if(c=T.cache,vs(a,tn,c),c!==g.cache&&ty(a,[tn],l,!0),Rc(),c=T.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:T.cache},a.updateQueue.baseState=g,a.memoizedState=g,a.flags&256){a=nb(i,a,c,l);break e}else if(c!==p){p=gr(Error(r(424)),a),Tc(p),a=nb(i,a,c,l);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(kt=kr(i.firstChild),Vn=a,Ze=!0,Ka=null,Yr=!0,l=jw(a,null,c,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ec(),c===p){a=zi(i,a,l);break e}yn(i,a,c,l)}a=a.child}return a;case 26:return Uf(i,a),i===null?(l=cI(a.type,null,a.pendingProps,null))?a.memoizedState=l:Ze||(l=a.type,i=a.pendingProps,c=ep(Ae.current).createElement(l),c[Jt]=a,c[Gt]=i,vn(c,l,i),Ut(c),a.stateNode=c):a.memoizedState=cI(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return ye(a),i===null&&Ze&&(c=a.stateNode=oI(a.type,a.pendingProps,Ae.current),Vn=a,Yr=!0,p=kt,Os(a.type)?(__=p,kt=kr(c.firstChild)):kt=p),yn(i,a,a.pendingProps.children,l),Uf(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&Ze&&((p=c=kt)&&(c=$N(c,a.type,a.pendingProps,Yr),c!==null?(a.stateNode=c,Vn=a,kt=kr(c.firstChild),Yr=!1,p=!0):p=!1),p||Qa(a)),ye(a),p=a.type,g=a.pendingProps,T=i!==null?i.memoizedProps:null,c=g.children,p_(p,g)?c=null:T!==null&&p_(p,T)&&(a.flags|=32),a.memoizedState!==null&&(p=fy(i,a,cN,null,null,l),Xc._currentValue=p),Uf(i,a),yn(i,a,c,l),a.child;case 6:return i===null&&Ze&&((i=l=kt)&&(l=KN(l,a.pendingProps,Yr),l!==null?(a.stateNode=l,Vn=a,kt=null,i=!0):i=!1),i||Qa(a)),null;case 13:return rb(i,a,l);case 4:return Ge(a,a.stateNode.containerInfo),c=a.pendingProps,i===null?a.child=bl(a,null,c,l):yn(i,a,c,l),a.child;case 11:return Ww(i,a,a.type,a.pendingProps,l);case 7:return yn(i,a,a.pendingProps,l),a.child;case 8:return yn(i,a,a.pendingProps.children,l),a.child;case 12:return yn(i,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,vs(a,a.type,c.value),yn(i,a,c.children,l),a.child;case 9:return p=a.type._context,c=a.pendingProps.children,Ya(a),p=Sn(p),c=c(p),a.flags|=1,yn(i,a,c,l),a.child;case 14:return Yw(i,a,a.type,a.pendingProps,l);case 15:return Xw(i,a,a.type,a.pendingProps,l);case 19:return sb(i,a,l);case 31:return c=a.pendingProps,l=a.mode,c={mode:c.mode,children:c.children},i===null?(l=Bf(c,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=Vi(i.child,c),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return Jw(i,a,l);case 24:return Ya(a),c=Sn(tn),i===null?(p=iy(),p===null&&(p=pt,g=ny(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=l),p=g),a.memoizedState={parent:c,cache:p},ay(a),vs(a,tn,p)):((i.lanes&l)!==0&&(oy(i,a),Cc(a,null,null,l),Rc()),p=i.memoizedState,g=a.memoizedState,p.parent!==c?(p={parent:c,cache:c},a.memoizedState=p,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=p),vs(a,tn,c)):(c=g.cache,vs(a,tn,c),c!==p.cache&&ty(a,[tn],l,!0))),yn(i,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function qi(i){i.flags|=4}function ob(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!mI(a)){if(a=Er.current,a!==null&&((We&4194048)===We?Xr!==null:(We&62914560)!==We&&(We&536870912)===0||a!==Xr))throw Ac=sy,HT;i.flags|=8192}}function Ff(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?Zu():536870912,i.lanes|=a,xl|=a)}function Mc(i,a){if(!Ze)switch(i.tailMode){case"hidden":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function At(i){var a=i.alternate!==null&&i.alternate.child===i.child,l=0,c=0;if(a)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=c,i.childLanes=l,a}function vN(i,a,l){var c=a.pendingProps;switch(Xg(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(a),null;case 1:return At(a),null;case 3:return l=a.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Ui(tn),jt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(vc(a)?qi(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,UT())),At(a),null;case 26:return l=a.memoizedState,i===null?(qi(a),l!==null?(At(a),ob(a,l)):(At(a),a.flags&=-16777217)):l?l!==i.memoizedState?(qi(a),At(a),ob(a,l)):(At(a),a.flags&=-16777217):(i.memoizedProps!==c&&qi(a),At(a),a.flags&=-16777217),null;case 27:ve(a),l=Ae.current;var p=a.type;if(i!==null&&a.stateNode!=null)i.memoizedProps!==c&&qi(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return At(a),null}i=be.current,vc(a)?LT(a):(i=oI(p,c,l),a.stateNode=i,qi(a))}return At(a),null;case 5:if(ve(a),l=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==c&&qi(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return At(a),null}if(i=be.current,vc(a))LT(a);else{switch(p=ep(Ae.current),i){case 1:i=p.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=p.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=p.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?p.createElement(l,{is:c.is}):p.createElement(l)}}i[Jt]=a,i[Gt]=c;e:for(p=a.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===a)break e;for(;p.sibling===null;){if(p.return===null||p.return===a)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}a.stateNode=i;e:switch(vn(i,l,c),l){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&qi(a)}}return At(a),a.flags&=-16777217,null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==c&&qi(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(r(166));if(i=Ae.current,vc(a)){if(i=a.stateNode,l=a.memoizedProps,c=null,p=Vn,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}i[Jt]=a,i=!!(i.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||eI(i.nodeValue,l)),i||Qa(a)}else i=ep(i).createTextNode(c),i[Jt]=a,a.stateNode=i}return At(a),null;case 13:if(c=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=vc(a),c!==null&&c.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=a.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[Jt]=a}else Ec(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;At(a),p=!1}else p=UT(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return a.flags&256?(Fi(a),a):(Fi(a),null)}if(Fi(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=c!==null,i=i!==null&&i.memoizedState!==null,l){c=a.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==p&&(c.flags|=2048)}return l!==i&&l&&(a.child.flags|=8192),Ff(a,a.updateQueue),At(a),null;case 4:return jt(),i===null&&u_(a.stateNode.containerInfo),At(a),null;case 10:return Ui(a.type),At(a),null;case 19:if(de(nn),p=a.memoizedState,p===null)return At(a),null;if(c=(a.flags&128)!==0,g=p.rendering,g===null)if(c)Mc(p,!1);else{if(Ot!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(g=Mf(i),g!==null){for(a.flags|=128,Mc(p,!1),i=g.updateQueue,a.updateQueue=i,Ff(a,i),a.subtreeFlags=0,i=l,l=a.child;l!==null;)VT(l,i),l=l.sibling;return he(nn,nn.current&1|2),a.child}i=i.sibling}p.tail!==null&&cr()>Hf&&(a.flags|=128,c=!0,Mc(p,!1),a.lanes=4194304)}else{if(!c)if(i=Mf(g),i!==null){if(a.flags|=128,c=!0,i=i.updateQueue,a.updateQueue=i,Ff(a,i),Mc(p,!0),p.tail===null&&p.tailMode==="hidden"&&!g.alternate&&!Ze)return At(a),null}else 2*cr()-p.renderingStartTime>Hf&&l!==536870912&&(a.flags|=128,c=!0,Mc(p,!1),a.lanes=4194304);p.isBackwards?(g.sibling=a.child,a.child=g):(i=p.last,i!==null?i.sibling=g:a.child=g,p.last=g)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=cr(),a.sibling=null,i=nn.current,he(nn,c?i&1|2:i&1),a):(At(a),null);case 22:case 23:return Fi(a),hy(),c=a.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(l&536870912)!==0&&(a.flags&128)===0&&(At(a),a.subtreeFlags&6&&(a.flags|=8192)):At(a),l=a.updateQueue,l!==null&&Ff(a,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),i!==null&&de(Xa),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Ui(tn),At(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function EN(i,a){switch(Xg(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Ui(tn),jt(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return ve(a),null;case 13:if(Fi(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Ec()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return de(nn),null;case 4:return jt(),null;case 10:return Ui(a.type),null;case 22:case 23:return Fi(a),hy(),i!==null&&de(Xa),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return Ui(tn),null;case 25:return null;default:return null}}function lb(i,a){switch(Xg(a),a.tag){case 3:Ui(tn),jt();break;case 26:case 27:case 5:ve(a);break;case 4:jt();break;case 13:Fi(a);break;case 19:de(nn);break;case 10:Ui(a.type);break;case 22:case 23:Fi(a),hy(),i!==null&&de(Xa);break;case 24:Ui(tn)}}function Lc(i,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var p=c.next;l=p;do{if((l.tag&i)===i){c=void 0;var g=l.create,T=l.inst;c=g(),T.destroy=c}l=l.next}while(l!==p)}}catch(I){dt(a,a.return,I)}}function As(i,a,l){try{var c=a.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var g=p.next;c=g;do{if((c.tag&i)===i){var T=c.inst,I=T.destroy;if(I!==void 0){T.destroy=void 0,p=a;var k=l,Q=I;try{Q()}catch(te){dt(p,k,te)}}}c=c.next}while(c!==g)}}catch(te){dt(a,a.return,te)}}function ub(i){var a=i.updateQueue;if(a!==null){var l=i.stateNode;try{YT(a,l)}catch(c){dt(i,i.return,c)}}}function cb(i,a,l){l.props=Za(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(c){dt(i,a,c)}}function jc(i,a){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof l=="function"?i.refCleanup=l(c):l.current=c}}catch(p){dt(i,a,p)}}function Jr(i,a){var l=i.ref,c=i.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(p){dt(i,a,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){dt(i,a,p)}else l.current=null}function hb(i){var a=i.type,l=i.memoizedProps,c=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(p){dt(i,i.return,p)}}function Uy(i,a,l){try{var c=i.stateNode;FN(c,i.type,l,a),c[Gt]=a}catch(p){dt(i,i.return,p)}}function db(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Os(i.type)||i.tag===4}function By(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||db(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Os(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Fy(i,a,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(i),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Zf));else if(c!==4&&(c===27&&Os(i.type)&&(l=i.stateNode,a=null),i=i.child,i!==null))for(Fy(i,a,l),i=i.sibling;i!==null;)Fy(i,a,l),i=i.sibling}function zf(i,a,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?l.insertBefore(i,a):l.appendChild(i);else if(c!==4&&(c===27&&Os(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(zf(i,a,l),i=i.sibling;i!==null;)zf(i,a,l),i=i.sibling}function fb(i){var a=i.stateNode,l=i.memoizedProps;try{for(var c=i.type,p=a.attributes;p.length;)a.removeAttributeNode(p[0]);vn(a,c,l),a[Jt]=i,a[Gt]=l}catch(g){dt(i,i.return,g)}}var Hi=!1,Ft=!1,zy=!1,pb=typeof WeakSet=="function"?WeakSet:Set,un=null;function TN(i,a){if(i=i.containerInfo,d_=ap,i=ST(i),Bg(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var p=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var T=0,I=-1,k=-1,Q=0,te=0,se=i,Y=null;t:for(;;){for(var X;se!==l||p!==0&&se.nodeType!==3||(I=T+p),se!==g||c!==0&&se.nodeType!==3||(k=T+c),se.nodeType===3&&(T+=se.nodeValue.length),(X=se.firstChild)!==null;)Y=se,se=X;for(;;){if(se===i)break t;if(Y===l&&++Q===p&&(I=T),Y===g&&++te===c&&(k=T),(X=se.nextSibling)!==null)break;se=Y,Y=se.parentNode}se=X}l=I===-1||k===-1?null:{start:I,end:k}}else l=null}l=l||{start:0,end:0}}else l=null;for(f_={focusedElem:i,selectionRange:l},ap=!1,un=a;un!==null;)if(a=un,i=a.child,(a.subtreeFlags&1024)!==0&&i!==null)i.return=a,un=i;else for(;un!==null;){switch(a=un,g=a.alternate,i=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,l=a,p=g.memoizedProps,g=g.memoizedState,c=l.stateNode;try{var De=Za(l.type,p,l.elementType===l.type);i=c.getSnapshotBeforeUpdate(De,g),c.__reactInternalSnapshotBeforeUpdate=i}catch(Re){dt(l,l.return,Re)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,l=i.nodeType,l===9)g_(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":g_(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,un=i;break}un=a.return}}function mb(i,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:xs(i,l),c&4&&Lc(5,l);break;case 1:if(xs(i,l),c&4)if(i=l.stateNode,a===null)try{i.componentDidMount()}catch(T){dt(l,l.return,T)}else{var p=Za(l.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(p,a,i.__reactInternalSnapshotBeforeUpdate)}catch(T){dt(l,l.return,T)}}c&64&&ub(l),c&512&&jc(l,l.return);break;case 3:if(xs(i,l),c&64&&(i=l.updateQueue,i!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{YT(i,a)}catch(T){dt(l,l.return,T)}}break;case 27:a===null&&c&4&&fb(l);case 26:case 5:xs(i,l),a===null&&c&4&&hb(l),c&512&&jc(l,l.return);break;case 12:xs(i,l);break;case 13:xs(i,l),c&4&&_b(i,l),c&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=PN.bind(null,l),QN(i,l))));break;case 22:if(c=l.memoizedState!==null||Hi,!c){a=a!==null&&a.memoizedState!==null||Ft,p=Hi;var g=Ft;Hi=c,(Ft=a)&&!g?Rs(i,l,(l.subtreeFlags&8772)!==0):xs(i,l),Hi=p,Ft=g}break;case 30:break;default:xs(i,l)}}function gb(i){var a=i.alternate;a!==null&&(i.alternate=null,gb(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&ms(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var vt=null,zn=!1;function Gi(i,a,l){for(l=l.child;l!==null;)yb(i,a,l),l=l.sibling}function yb(i,a,l){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(Nt,l)}catch{}switch(l.tag){case 26:Ft||Jr(l,a),Gi(i,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ft||Jr(l,a);var c=vt,p=zn;Os(l.type)&&(vt=l.stateNode,zn=!1),Gi(i,a,l),Kc(l.stateNode),vt=c,zn=p;break;case 5:Ft||Jr(l,a);case 6:if(c=vt,p=zn,vt=null,Gi(i,a,l),vt=c,zn=p,vt!==null)if(zn)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(l.stateNode)}catch(g){dt(l,a,g)}else try{vt.removeChild(l.stateNode)}catch(g){dt(l,a,g)}break;case 18:vt!==null&&(zn?(i=vt,sI(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),th(i)):sI(vt,l.stateNode));break;case 4:c=vt,p=zn,vt=l.stateNode.containerInfo,zn=!0,Gi(i,a,l),vt=c,zn=p;break;case 0:case 11:case 14:case 15:Ft||As(2,l,a),Ft||As(4,l,a),Gi(i,a,l);break;case 1:Ft||(Jr(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&cb(l,a,c)),Gi(i,a,l);break;case 21:Gi(i,a,l);break;case 22:Ft=(c=Ft)||l.memoizedState!==null,Gi(i,a,l),Ft=c;break;default:Gi(i,a,l)}}function _b(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{th(i)}catch(l){dt(a,a.return,l)}}function wN(i){switch(i.tag){case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new pb),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new pb),a;default:throw Error(r(435,i.tag))}}function qy(i,a){var l=wN(i);a.forEach(function(c){var p=DN.bind(null,i,c);l.has(c)||(l.add(c),c.then(p,p))})}function er(i,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var p=l[c],g=i,T=a,I=T;e:for(;I!==null;){switch(I.tag){case 27:if(Os(I.type)){vt=I.stateNode,zn=!1;break e}break;case 5:vt=I.stateNode,zn=!1;break e;case 3:case 4:vt=I.stateNode.containerInfo,zn=!0;break e}I=I.return}if(vt===null)throw Error(r(160));yb(g,T,p),vt=null,zn=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)vb(a,i),a=a.sibling}var Nr=null;function vb(i,a){var l=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:er(a,i),tr(i),c&4&&(As(3,i,i.return),Lc(3,i),As(5,i,i.return));break;case 1:er(a,i),tr(i),c&512&&(Ft||l===null||Jr(l,l.return)),c&64&&Hi&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var p=Nr;if(er(a,i),tr(i),c&512&&(Ft||l===null||Jr(l,l.return)),c&4){var g=l!==null?l.memoizedState:null;if(c=i.memoizedState,l===null)if(c===null)if(i.stateNode===null){e:{c=i.type,l=i.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":g=p.getElementsByTagName("title")[0],(!g||g[Ra]||g[Jt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(c),p.head.insertBefore(g,p.querySelector("head > title"))),vn(g,c,l),g[Jt]=i,Ut(g),c=g;break e;case"link":var T=fI("link","href",p).get(c+(l.href||""));if(T){for(var I=0;I<T.length;I++)if(g=T[I],g.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(I,1);break t}}g=p.createElement(c),vn(g,c,l),p.head.appendChild(g);break;case"meta":if(T=fI("meta","content",p).get(c+(l.content||""))){for(I=0;I<T.length;I++)if(g=T[I],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(I,1);break t}}g=p.createElement(c),vn(g,c,l),p.head.appendChild(g);break;default:throw Error(r(468,c))}g[Jt]=i,Ut(g),c=g}i.stateNode=c}else pI(p,i.type,i.stateNode);else i.stateNode=dI(p,c,i.memoizedProps);else g!==c?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,c===null?pI(p,i.type,i.stateNode):dI(p,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Uy(i,i.memoizedProps,l.memoizedProps)}break;case 27:er(a,i),tr(i),c&512&&(Ft||l===null||Jr(l,l.return)),l!==null&&c&4&&Uy(i,i.memoizedProps,l.memoizedProps);break;case 5:if(er(a,i),tr(i),c&512&&(Ft||l===null||Jr(l,l.return)),i.flags&32){p=i.stateNode;try{dr(p,"")}catch(X){dt(i,i.return,X)}}c&4&&i.stateNode!=null&&(p=i.memoizedProps,Uy(i,p,l!==null?l.memoizedProps:p)),c&1024&&(zy=!0);break;case 6:if(er(a,i),tr(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,l=i.stateNode;try{l.nodeValue=c}catch(X){dt(i,i.return,X)}}break;case 3:if(rp=null,p=Nr,Nr=tp(a.containerInfo),er(a,i),Nr=p,tr(i),c&4&&l!==null&&l.memoizedState.isDehydrated)try{th(a.containerInfo)}catch(X){dt(i,i.return,X)}zy&&(zy=!1,Eb(i));break;case 4:c=Nr,Nr=tp(i.stateNode.containerInfo),er(a,i),tr(i),Nr=c;break;case 12:er(a,i),tr(i);break;case 13:er(a,i),tr(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Wy=cr()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,qy(i,c)));break;case 22:p=i.memoizedState!==null;var k=l!==null&&l.memoizedState!==null,Q=Hi,te=Ft;if(Hi=Q||p,Ft=te||k,er(a,i),Ft=te,Hi=Q,tr(i),c&8192)e:for(a=i.stateNode,a._visibility=p?a._visibility&-2:a._visibility|1,p&&(l===null||k||Hi||Ft||eo(i)),l=null,a=i;;){if(a.tag===5||a.tag===26){if(l===null){k=l=a;try{if(g=k.stateNode,p)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{I=k.stateNode;var se=k.memoizedProps.style,Y=se!=null&&se.hasOwnProperty("display")?se.display:null;I.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(X){dt(k,k.return,X)}}}else if(a.tag===6){if(l===null){k=a;try{k.stateNode.nodeValue=p?"":k.memoizedProps}catch(X){dt(k,k.return,X)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=i.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,qy(i,l))));break;case 19:er(a,i),tr(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,qy(i,c)));break;case 30:break;case 21:break;default:er(a,i),tr(i)}}function tr(i){var a=i.flags;if(a&2){try{for(var l,c=i.return;c!==null;){if(db(c)){l=c;break}c=c.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var p=l.stateNode,g=By(i);zf(i,g,p);break;case 5:var T=l.stateNode;l.flags&32&&(dr(T,""),l.flags&=-33);var I=By(i);zf(i,I,T);break;case 3:case 4:var k=l.stateNode.containerInfo,Q=By(i);Fy(i,Q,k);break;default:throw Error(r(161))}}catch(te){dt(i,i.return,te)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function Eb(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;Eb(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function xs(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)mb(i,a.alternate,a),a=a.sibling}function eo(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:As(4,a,a.return),eo(a);break;case 1:Jr(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&cb(a,a.return,l),eo(a);break;case 27:Kc(a.stateNode);case 26:case 5:Jr(a,a.return),eo(a);break;case 22:a.memoizedState===null&&eo(a);break;case 30:eo(a);break;default:eo(a)}i=i.sibling}}function Rs(i,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,p=i,g=a,T=g.flags;switch(g.tag){case 0:case 11:case 15:Rs(p,g,l),Lc(4,g);break;case 1:if(Rs(p,g,l),c=g,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Q){dt(c,c.return,Q)}if(c=g,p=c.updateQueue,p!==null){var I=c.stateNode;try{var k=p.shared.hiddenCallbacks;if(k!==null)for(p.shared.hiddenCallbacks=null,p=0;p<k.length;p++)WT(k[p],I)}catch(Q){dt(c,c.return,Q)}}l&&T&64&&ub(g),jc(g,g.return);break;case 27:fb(g);case 26:case 5:Rs(p,g,l),l&&c===null&&T&4&&hb(g),jc(g,g.return);break;case 12:Rs(p,g,l);break;case 13:Rs(p,g,l),l&&T&4&&_b(p,g);break;case 22:g.memoizedState===null&&Rs(p,g,l),jc(g,g.return);break;case 30:break;default:Rs(p,g,l)}a=a.sibling}}function Hy(i,a){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&bc(l))}function Gy(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&bc(i))}function Zr(i,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Tb(i,a,l,c),a=a.sibling}function Tb(i,a,l,c){var p=a.flags;switch(a.tag){case 0:case 11:case 15:Zr(i,a,l,c),p&2048&&Lc(9,a);break;case 1:Zr(i,a,l,c);break;case 3:Zr(i,a,l,c),p&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&bc(i)));break;case 12:if(p&2048){Zr(i,a,l,c),i=a.stateNode;try{var g=a.memoizedProps,T=g.id,I=g.onPostCommit;typeof I=="function"&&I(T,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(k){dt(a,a.return,k)}}else Zr(i,a,l,c);break;case 13:Zr(i,a,l,c);break;case 23:break;case 22:g=a.stateNode,T=a.alternate,a.memoizedState!==null?g._visibility&2?Zr(i,a,l,c):Uc(i,a):g._visibility&2?Zr(i,a,l,c):(g._visibility|=2,Il(i,a,l,c,(a.subtreeFlags&10256)!==0)),p&2048&&Hy(T,a);break;case 24:Zr(i,a,l,c),p&2048&&Gy(a.alternate,a);break;default:Zr(i,a,l,c)}}function Il(i,a,l,c,p){for(p=p&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var g=i,T=a,I=l,k=c,Q=T.flags;switch(T.tag){case 0:case 11:case 15:Il(g,T,I,k,p),Lc(8,T);break;case 23:break;case 22:var te=T.stateNode;T.memoizedState!==null?te._visibility&2?Il(g,T,I,k,p):Uc(g,T):(te._visibility|=2,Il(g,T,I,k,p)),p&&Q&2048&&Hy(T.alternate,T);break;case 24:Il(g,T,I,k,p),p&&Q&2048&&Gy(T.alternate,T);break;default:Il(g,T,I,k,p)}a=a.sibling}}function Uc(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=i,c=a,p=c.flags;switch(c.tag){case 22:Uc(l,c),p&2048&&Hy(c.alternate,c);break;case 24:Uc(l,c),p&2048&&Gy(c.alternate,c);break;default:Uc(l,c)}a=a.sibling}}var Bc=8192;function Sl(i){if(i.subtreeFlags&Bc)for(i=i.child;i!==null;)wb(i),i=i.sibling}function wb(i){switch(i.tag){case 26:Sl(i),i.flags&Bc&&i.memoizedState!==null&&ok(Nr,i.memoizedState,i.memoizedProps);break;case 5:Sl(i);break;case 3:case 4:var a=Nr;Nr=tp(i.stateNode.containerInfo),Sl(i),Nr=a;break;case 22:i.memoizedState===null&&(a=i.alternate,a!==null&&a.memoizedState!==null?(a=Bc,Bc=16777216,Sl(i),Bc=a):Sl(i));break;default:Sl(i)}}function bb(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function Fc(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];un=c,Sb(c,i)}bb(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Ib(i),i=i.sibling}function Ib(i){switch(i.tag){case 0:case 11:case 15:Fc(i),i.flags&2048&&As(9,i,i.return);break;case 3:Fc(i);break;case 12:Fc(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,qf(i)):Fc(i);break;default:Fc(i)}}function qf(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];un=c,Sb(c,i)}bb(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:As(8,a,a.return),qf(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,qf(a));break;default:qf(a)}i=i.sibling}}function Sb(i,a){for(;un!==null;){var l=un;switch(l.tag){case 0:case 11:case 15:As(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:bc(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,un=c;else e:for(l=i;un!==null;){c=un;var p=c.sibling,g=c.return;if(gb(c),c===l){un=null;break e}if(p!==null){p.return=g,un=p;break e}un=g}}}var bN={getCacheForType:function(i){var a=Sn(tn),l=a.data.get(i);return l===void 0&&(l=i(),a.data.set(i,l)),l}},IN=typeof WeakMap=="function"?WeakMap:Map,rt=0,pt=null,Be=null,We=0,it=0,nr=null,Cs=!1,Al=!1,$y=!1,$i=0,Ot=0,Ps=0,to=0,Ky=0,Tr=0,xl=0,zc=null,qn=null,Qy=!1,Wy=0,Hf=1/0,Gf=null,Ds=null,_n=0,Ns=null,Rl=null,Cl=0,Yy=0,Xy=null,Ab=null,qc=0,Jy=null;function rr(){if((rt&2)!==0&&We!==0)return We&-We;if(ee.T!==null){var i=gl;return i!==0?i:s_()}return fs()}function xb(){Tr===0&&(Tr=(We&536870912)===0||Ze?Ju():536870912);var i=Er.current;return i!==null&&(i.flags|=32),Tr}function ir(i,a,l){(i===pt&&(it===2||it===9)||i.cancelPendingCommit!==null)&&(Pl(i,0),ks(i,We,Tr,!1)),Ii(i,l),((rt&2)===0||i!==pt)&&(i===pt&&((rt&2)===0&&(to|=l),Ot===4&&ks(i,We,Tr,!1)),ei(i))}function Rb(i,a,l){if((rt&6)!==0)throw Error(r(327));var c=!l&&(a&124)===0&&(a&i.expiredLanes)===0||xa(i,a),p=c?xN(i,a):t_(i,a,!0),g=c;do{if(p===0){Al&&!c&&ks(i,a,0,!1);break}else{if(l=i.current.alternate,g&&!SN(l)){p=t_(i,a,!1),g=!1;continue}if(p===2){if(g=a,i.errorRecoveryDisabledLanes&g)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){a=T;e:{var I=i;p=zc;var k=I.current.memoizedState.isDehydrated;if(k&&(Pl(I,T).flags|=256),T=t_(I,T,!1),T!==2){if($y&&!k){I.errorRecoveryDisabledLanes|=g,to|=g,p=4;break e}g=qn,qn=p,g!==null&&(qn===null?qn=g:qn.push.apply(qn,g))}p=T}if(g=!1,p!==2)continue}}if(p===1){Pl(i,0),ks(i,a,0,!0);break}e:{switch(c=i,g=p,g){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:ks(c,a,Tr,!Cs);break e;case 2:qn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(p=Wy+300-cr(),10<p)){if(ks(c,a,Tr,!Cs),Ko(c,0,!0)!==0)break e;c.timeoutHandle=rI(Cb.bind(null,c,l,qn,Gf,Qy,a,Tr,to,xl,Cs,g,2,-0,0),p);break e}Cb(c,l,qn,Gf,Qy,a,Tr,to,xl,Cs,g,0,-0,0)}}break}while(!0);ei(i)}function Cb(i,a,l,c,p,g,T,I,k,Q,te,se,Y,X){if(i.timeoutHandle=-1,se=a.subtreeFlags,(se&8192||(se&16785408)===16785408)&&(Yc={stylesheets:null,count:0,unsuspend:ak},wb(a),se=lk(),se!==null)){i.cancelPendingCommit=se(Mb.bind(null,i,a,g,l,c,p,T,I,k,te,1,Y,X)),ks(i,g,T,!Q);return}Mb(i,a,g,l,c,p,T,I,k)}function SN(i){for(var a=i;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var p=l[c],g=p.getSnapshot;p=p.value;try{if(!Jn(g(),p))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ks(i,a,l,c){a&=~Ky,a&=~to,i.suspendedLanes|=a,i.pingedLanes&=~a,c&&(i.warmLanes|=a),c=i.expirationTimes;for(var p=a;0<p;){var g=31-In(p),T=1<<g;c[g]=-1,p&=~T}l!==0&&Ur(i,l,a)}function $f(){return(rt&6)===0?(Hc(0),!1):!0}function Zy(){if(Be!==null){if(it===0)var i=Be.return;else i=Be,ji=Wa=null,gy(i),wl=null,Oc=0,i=Be;for(;i!==null;)lb(i.alternate,i),i=i.return;Be=null}}function Pl(i,a){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,qN(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Zy(),pt=i,Be=l=Vi(i.current,null),We=a,it=0,nr=null,Cs=!1,Al=xa(i,a),$y=!1,xl=Tr=Ky=to=Ps=Ot=0,qn=zc=null,Qy=!1,(a&8)!==0&&(a|=a&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=a;0<c;){var p=31-In(c),g=1<<p;a|=i[p],c&=~g}return $i=a,pf(),l}function Pb(i,a){je=null,ee.H=kf,a===Sc||a===bf?(a=KT(),it=3):a===HT?(a=KT(),it=4):it=a===Qw?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,nr=a,Be===null&&(Ot=1,jf(i,gr(a,i.current)))}function Db(){var i=ee.H;return ee.H=kf,i===null?kf:i}function Nb(){var i=ee.A;return ee.A=bN,i}function e_(){Ot=4,Cs||(We&4194048)!==We&&Er.current!==null||(Al=!0),(Ps&134217727)===0&&(to&134217727)===0||pt===null||ks(pt,We,Tr,!1)}function t_(i,a,l){var c=rt;rt|=2;var p=Db(),g=Nb();(pt!==i||We!==a)&&(Gf=null,Pl(i,a)),a=!1;var T=Ot;e:do try{if(it!==0&&Be!==null){var I=Be,k=nr;switch(it){case 8:Zy(),T=6;break e;case 3:case 2:case 9:case 6:Er.current===null&&(a=!0);var Q=it;if(it=0,nr=null,Dl(i,I,k,Q),l&&Al){T=0;break e}break;default:Q=it,it=0,nr=null,Dl(i,I,k,Q)}}AN(),T=Ot;break}catch(te){Pb(i,te)}while(!0);return a&&i.shellSuspendCounter++,ji=Wa=null,rt=c,ee.H=p,ee.A=g,Be===null&&(pt=null,We=0,pf()),T}function AN(){for(;Be!==null;)kb(Be)}function xN(i,a){var l=rt;rt|=2;var c=Db(),p=Nb();pt!==i||We!==a?(Gf=null,Hf=cr()+500,Pl(i,a)):Al=xa(i,a);e:do try{if(it!==0&&Be!==null){a=Be;var g=nr;t:switch(it){case 1:it=0,nr=null,Dl(i,a,g,1);break;case 2:case 9:if(GT(g)){it=0,nr=null,Ob(a);break}a=function(){it!==2&&it!==9||pt!==i||(it=7),ei(i)},g.then(a,a);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:GT(g)?(it=0,nr=null,Ob(a)):(it=0,nr=null,Dl(i,a,g,7));break;case 5:var T=null;switch(Be.tag){case 26:T=Be.memoizedState;case 5:case 27:var I=Be;if(!T||mI(T)){it=0,nr=null;var k=I.sibling;if(k!==null)Be=k;else{var Q=I.return;Q!==null?(Be=Q,Kf(Q)):Be=null}break t}}it=0,nr=null,Dl(i,a,g,5);break;case 6:it=0,nr=null,Dl(i,a,g,6);break;case 8:Zy(),Ot=6;break e;default:throw Error(r(462))}}RN();break}catch(te){Pb(i,te)}while(!0);return ji=Wa=null,ee.H=c,ee.A=p,rt=l,Be!==null?0:(pt=null,We=0,pf(),Ot)}function RN(){for(;Be!==null&&!xr();)kb(Be)}function kb(i){var a=ab(i.alternate,i,$i);i.memoizedProps=i.pendingProps,a===null?Kf(i):Be=a}function Ob(i){var a=i,l=a.alternate;switch(a.tag){case 15:case 0:a=eb(l,a,a.pendingProps,a.type,void 0,We);break;case 11:a=eb(l,a,a.pendingProps,a.type.render,a.ref,We);break;case 5:gy(a);default:lb(l,a),a=Be=VT(a,$i),a=ab(l,a,$i)}i.memoizedProps=i.pendingProps,a===null?Kf(i):Be=a}function Dl(i,a,l,c){ji=Wa=null,gy(a),wl=null,Oc=0;var p=a.return;try{if(yN(i,p,a,l,We)){Ot=1,jf(i,gr(l,i.current)),Be=null;return}}catch(g){if(p!==null)throw Be=p,g;Ot=1,jf(i,gr(l,i.current)),Be=null;return}a.flags&32768?(Ze||c===1?i=!0:Al||(We&536870912)!==0?i=!1:(Cs=i=!0,(c===2||c===9||c===3||c===6)&&(c=Er.current,c!==null&&c.tag===13&&(c.flags|=16384))),Vb(a,i)):Kf(a)}function Kf(i){var a=i;do{if((a.flags&32768)!==0){Vb(a,Cs);return}i=a.return;var l=vN(a.alternate,a,$i);if(l!==null){Be=l;return}if(a=a.sibling,a!==null){Be=a;return}Be=a=i}while(a!==null);Ot===0&&(Ot=5)}function Vb(i,a){do{var l=EN(i.alternate,i);if(l!==null){l.flags&=32767,Be=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(i=i.sibling,i!==null)){Be=i;return}Be=i=l}while(i!==null);Ot=6,Be=null}function Mb(i,a,l,c,p,g,T,I,k){i.cancelPendingCommit=null;do Qf();while(_n!==0);if((rt&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(g=a.lanes|a.childLanes,g|=Gg,ec(i,l,g,T,I,k),i===pt&&(Be=pt=null,We=0),Rl=a,Ns=i,Cl=l,Yy=g,Xy=p,Ab=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,NN(ba,function(){return Fb(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=ee.T,ee.T=null,p=pe.p,pe.p=2,T=rt,rt|=4;try{TN(i,a,l)}finally{rt=T,pe.p=p,ee.T=c}}_n=1,Lb(),jb(),Ub()}}function Lb(){if(_n===1){_n=0;var i=Ns,a=Rl,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=ee.T,ee.T=null;var c=pe.p;pe.p=2;var p=rt;rt|=4;try{vb(a,i);var g=f_,T=ST(i.containerInfo),I=g.focusedElem,k=g.selectionRange;if(T!==I&&I&&I.ownerDocument&&IT(I.ownerDocument.documentElement,I)){if(k!==null&&Bg(I)){var Q=k.start,te=k.end;if(te===void 0&&(te=Q),"selectionStart"in I)I.selectionStart=Q,I.selectionEnd=Math.min(te,I.value.length);else{var se=I.ownerDocument||document,Y=se&&se.defaultView||window;if(Y.getSelection){var X=Y.getSelection(),De=I.textContent.length,Re=Math.min(k.start,De),ht=k.end===void 0?Re:Math.min(k.end,De);!X.extend&&Re>ht&&(T=ht,ht=Re,Re=T);var q=bT(I,Re),j=bT(I,ht);if(q&&j&&(X.rangeCount!==1||X.anchorNode!==q.node||X.anchorOffset!==q.offset||X.focusNode!==j.node||X.focusOffset!==j.offset)){var K=se.createRange();K.setStart(q.node,q.offset),X.removeAllRanges(),Re>ht?(X.addRange(K),X.extend(j.node,j.offset)):(K.setEnd(j.node,j.offset),X.addRange(K))}}}}for(se=[],X=I;X=X.parentNode;)X.nodeType===1&&se.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<se.length;I++){var re=se[I];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}ap=!!d_,f_=d_=null}finally{rt=p,pe.p=c,ee.T=l}}i.current=a,_n=2}}function jb(){if(_n===2){_n=0;var i=Ns,a=Rl,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=ee.T,ee.T=null;var c=pe.p;pe.p=2;var p=rt;rt|=4;try{mb(i,a.alternate,a)}finally{rt=p,pe.p=c,ee.T=l}}_n=3}}function Ub(){if(_n===4||_n===3){_n=0,hs();var i=Ns,a=Rl,l=Cl,c=Ab;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?_n=5:(_n=0,Rl=Ns=null,Bb(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(Ds=null),Qo(l),a=a.stateNode,nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(Nt,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=ee.T,p=pe.p,pe.p=2,ee.T=null;try{for(var g=i.onRecoverableError,T=0;T<c.length;T++){var I=c[T];g(I.value,{componentStack:I.stack})}}finally{ee.T=a,pe.p=p}}(Cl&3)!==0&&Qf(),ei(i),p=i.pendingLanes,(l&4194090)!==0&&(p&42)!==0?i===Jy?qc++:(qc=0,Jy=i):qc=0,Hc(0)}}function Bb(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,bc(a)))}function Qf(i){return Lb(),jb(),Ub(),Fb()}function Fb(){if(_n!==5)return!1;var i=Ns,a=Yy;Yy=0;var l=Qo(Cl),c=ee.T,p=pe.p;try{pe.p=32>l?32:l,ee.T=null,l=Xy,Xy=null;var g=Ns,T=Cl;if(_n=0,Rl=Ns=null,Cl=0,(rt&6)!==0)throw Error(r(331));var I=rt;if(rt|=4,Ib(g.current),Tb(g,g.current,T,l),rt=I,Hc(0,!1),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(Nt,g)}catch{}return!0}finally{pe.p=p,ee.T=c,Bb(i,a)}}function zb(i,a,l){a=gr(l,a),a=Py(i.stateNode,a,2),i=ws(i,a,2),i!==null&&(Ii(i,2),ei(i))}function dt(i,a,l){if(i.tag===3)zb(i,i,l);else for(;a!==null;){if(a.tag===3){zb(a,i,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ds===null||!Ds.has(c))){i=gr(l,i),l=$w(2),c=ws(a,l,2),c!==null&&(Kw(l,c,a,i),Ii(c,2),ei(c));break}}a=a.return}}function n_(i,a,l){var c=i.pingCache;if(c===null){c=i.pingCache=new IN;var p=new Set;c.set(a,p)}else p=c.get(a),p===void 0&&(p=new Set,c.set(a,p));p.has(l)||($y=!0,p.add(l),i=CN.bind(null,i,a,l),a.then(i,i))}function CN(i,a,l){var c=i.pingCache;c!==null&&c.delete(a),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,pt===i&&(We&l)===l&&(Ot===4||Ot===3&&(We&62914560)===We&&300>cr()-Wy?(rt&2)===0&&Pl(i,0):Ky|=l,xl===We&&(xl=0)),ei(i)}function qb(i,a){a===0&&(a=Zu()),i=dl(i,a),i!==null&&(Ii(i,a),ei(i))}function PN(i){var a=i.memoizedState,l=0;a!==null&&(l=a.retryLane),qb(i,l)}function DN(i,a){var l=0;switch(i.tag){case 13:var c=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(a),qb(i,l)}function NN(i,a){return $e(i,a)}var Wf=null,Nl=null,r_=!1,Yf=!1,i_=!1,no=0;function ei(i){i!==Nl&&i.next===null&&(Nl===null?Wf=Nl=i:Nl=Nl.next=i),Yf=!0,r_||(r_=!0,ON())}function Hc(i,a){if(!i_&&Yf){i_=!0;do for(var l=!1,c=Wf;c!==null;){if(i!==0){var p=c.pendingLanes;if(p===0)var g=0;else{var T=c.suspendedLanes,I=c.pingedLanes;g=(1<<31-In(42|i)+1)-1,g&=p&~(T&~I),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(l=!0,Kb(c,g))}else g=We,g=Ko(c,c===pt?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||xa(c,g)||(l=!0,Kb(c,g));c=c.next}while(l);i_=!1}}function kN(){Hb()}function Hb(){Yf=r_=!1;var i=0;no!==0&&(zN()&&(i=no),no=0);for(var a=cr(),l=null,c=Wf;c!==null;){var p=c.next,g=Gb(c,a);g===0?(c.next=null,l===null?Wf=p:l.next=p,p===null&&(Nl=l)):(l=c,(i!==0||(g&3)!==0)&&(Yf=!0)),c=p}Hc(i)}function Gb(i,a){for(var l=i.suspendedLanes,c=i.pingedLanes,p=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var T=31-In(g),I=1<<T,k=p[T];k===-1?((I&l)===0||(I&c)!==0)&&(p[T]=Xu(I,a)):k<=a&&(i.expiredLanes|=I),g&=~I}if(a=pt,l=We,l=Ko(i,i===a?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,l===0||i===a&&(it===2||it===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Dt(c),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||xa(i,l)){if(a=l&-l,a===i.callbackPriority)return a;switch(c!==null&&Dt(c),Qo(l)){case 2:case 8:l=Go;break;case 32:l=ba;break;case 268435456:l=$o;break;default:l=ba}return c=$b.bind(null,i),l=$e(l,c),i.callbackPriority=a,i.callbackNode=l,a}return c!==null&&c!==null&&Dt(c),i.callbackPriority=2,i.callbackNode=null,2}function $b(i,a){if(_n!==0&&_n!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Qf()&&i.callbackNode!==l)return null;var c=We;return c=Ko(i,i===pt?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(Rb(i,c,a),Gb(i,cr()),i.callbackNode!=null&&i.callbackNode===l?$b.bind(null,i):null)}function Kb(i,a){if(Qf())return null;Rb(i,a,!0)}function ON(){HN(function(){(rt&6)!==0?$e(Wu,kN):Hb()})}function s_(){return no===0&&(no=Ju()),no}function Qb(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:el(""+i)}function Wb(i,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,i.id&&l.setAttribute("form",i.id),a.parentNode.insertBefore(l,a),i=new FormData(i),l.parentNode.removeChild(l),i}function VN(i,a,l,c,p){if(a==="submit"&&l&&l.stateNode===p){var g=Qb((p[Gt]||null).action),T=c.submitter;T&&(a=(a=T[Gt]||null)?Qb(a.formAction):T.getAttribute("formAction"),a!==null&&(g=a,T=null));var I=new tl("action","action",null,c,p);i.push({event:I,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(no!==0){var k=T?Wb(p,T):new FormData(p);Sy(l,{pending:!0,data:k,method:p.method,action:g},null,k)}}else typeof g=="function"&&(I.preventDefault(),k=T?Wb(p,T):new FormData(p),Sy(l,{pending:!0,data:k,method:p.method,action:g},g,k))},currentTarget:p}]})}}for(var a_=0;a_<Hg.length;a_++){var o_=Hg[a_],MN=o_.toLowerCase(),LN=o_[0].toUpperCase()+o_.slice(1);Dr(MN,"on"+LN)}Dr(RT,"onAnimationEnd"),Dr(CT,"onAnimationIteration"),Dr(PT,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(eN,"onTransitionRun"),Dr(tN,"onTransitionStart"),Dr(nN,"onTransitionCancel"),Dr(DT,"onTransitionEnd"),Ai("onMouseEnter",["mouseout","mouseover"]),Ai("onMouseLeave",["mouseout","mouseover"]),Ai("onPointerEnter",["pointerout","pointerover"]),Ai("onPointerLeave",["pointerout","pointerover"]),Cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gc));function Yb(i,a){a=(a&4)!==0;for(var l=0;l<i.length;l++){var c=i[l],p=c.event;c=c.listeners;e:{var g=void 0;if(a)for(var T=c.length-1;0<=T;T--){var I=c[T],k=I.instance,Q=I.currentTarget;if(I=I.listener,k!==g&&p.isPropagationStopped())break e;g=I,p.currentTarget=Q;try{g(p)}catch(te){Lf(te)}p.currentTarget=null,g=k}else for(T=0;T<c.length;T++){if(I=c[T],k=I.instance,Q=I.currentTarget,I=I.listener,k!==g&&p.isPropagationStopped())break e;g=I,p.currentTarget=Q;try{g(p)}catch(te){Lf(te)}p.currentTarget=null,g=k}}}}function Fe(i,a){var l=a[nc];l===void 0&&(l=a[nc]=new Set);var c=i+"__bubble";l.has(c)||(Xb(a,i,2,!1),l.add(c))}function l_(i,a,l){var c=0;a&&(c|=4),Xb(l,i,c,a)}var Xf="_reactListening"+Math.random().toString(36).slice(2);function u_(i){if(!i[Xf]){i[Xf]=!0,rc.forEach(function(l){l!=="selectionchange"&&(jN.has(l)||l_(l,!1,i),l_(l,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Xf]||(a[Xf]=!0,l_("selectionchange",!1,a))}}function Xb(i,a,l,c){switch(TI(a)){case 2:var p=hk;break;case 8:p=dk;break;default:p=b_}l=p.bind(null,a,l,i),p=void 0,!pr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(p=!0),c?p!==void 0?i.addEventListener(a,l,{capture:!0,passive:p}):i.addEventListener(a,l,!0):p!==void 0?i.addEventListener(a,l,{passive:p}):i.addEventListener(a,l,!1)}function c_(i,a,l,c,p){var g=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var I=c.stateNode.containerInfo;if(I===p)break;if(T===4)for(T=c.return;T!==null;){var k=T.tag;if((k===3||k===4)&&T.stateNode.containerInfo===p)return;T=T.return}for(;I!==null;){if(T=Si(I),T===null)return;if(k=T.tag,k===5||k===6||k===26||k===27){c=g=T;continue e}I=I.parentNode}}c=c.return}Jd(function(){var Q=g,te=fr(l),se=[];e:{var Y=NT.get(i);if(Y!==void 0){var X=tl,De=i;switch(i){case"keypress":if(Gr(l)===0)break e;case"keydown":case"keyup":X=ol;break;case"focusin":De="focus",X=il;break;case"focusout":De="blur",X=il;break;case"beforeblur":case"afterblur":X=il;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=mr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Mg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=of;break;case RT:case CT:case PT:X=sl;break;case DT:X=uf;break;case"scroll":case"scrollend":X=Zd;break;case"wheel":X=ll;break;case"copy":case"cut":case"paste":X=al;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=mc;break;case"toggle":case"beforetoggle":X=hf}var Re=(a&4)!==0,ht=!Re&&(i==="scroll"||i==="scrollend"),q=Re?Y!==null?Y+"Capture":null:Y;Re=[];for(var j=Q,K;j!==null;){var re=j;if(K=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||K===null||q===null||(re=Va(j,q),re!=null&&Re.push($c(j,re,K))),ht)break;j=j.return}0<Re.length&&(Y=new X(Y,De,null,l,te),se.push({event:Y,listeners:Re}))}}if((a&7)===0){e:{if(Y=i==="mouseover"||i==="pointerover",X=i==="mouseout"||i==="pointerout",Y&&l!==Ci&&(De=l.relatedTarget||l.fromElement)&&(Si(De)||De[hr]))break e;if((X||Y)&&(Y=te.window===te?te:(Y=te.ownerDocument)?Y.defaultView||Y.parentWindow:window,X?(De=l.relatedTarget||l.toElement,X=Q,De=De?Si(De):null,De!==null&&(ht=o(De),Re=De.tag,De!==ht||Re!==5&&Re!==27&&Re!==6)&&(De=null)):(X=null,De=Q),X!==De)){if(Re=mr,re="onMouseLeave",q="onMouseEnter",j="mouse",(i==="pointerout"||i==="pointerover")&&(Re=mc,re="onPointerLeave",q="onPointerEnter",j="pointer"),ht=X==null?Y:Fr(X),K=De==null?Y:Fr(De),Y=new Re(re,j+"leave",X,l,te),Y.target=ht,Y.relatedTarget=K,re=null,Si(te)===Q&&(Re=new Re(q,j+"enter",De,l,te),Re.target=K,Re.relatedTarget=ht,re=Re),ht=re,X&&De)t:{for(Re=X,q=De,j=0,K=Re;K;K=kl(K))j++;for(K=0,re=q;re;re=kl(re))K++;for(;0<j-K;)Re=kl(Re),j--;for(;0<K-j;)q=kl(q),K--;for(;j--;){if(Re===q||q!==null&&Re===q.alternate)break t;Re=kl(Re),q=kl(q)}Re=null}else Re=null;X!==null&&Jb(se,Y,X,Re,!1),De!==null&&ht!==null&&Jb(se,ht,De,Re,!0)}}e:{if(Y=Q?Fr(Q):window,X=Y.nodeName&&Y.nodeName.toLowerCase(),X==="select"||X==="input"&&Y.type==="file")var Ee=yT;else if(en(Y))if(_T)Ee=XD;else{Ee=WD;var Ue=QD}else X=Y.nodeName,!X||X.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?Q&&lc(Q.elementType)&&(Ee=yT):Ee=YD;if(Ee&&(Ee=Ee(i,Q))){Oi(se,Ee,l,te);break e}Ue&&Ue(i,Y,Q),i==="focusout"&&Q&&Y.type==="number"&&Q.memoizedProps.value!=null&&ys(Y,"number",Y.value)}switch(Ue=Q?Fr(Q):window,i){case"focusin":(en(Ue)||Ue.contentEditable==="true")&&(ul=Ue,Fg=Q,_c=null);break;case"focusout":_c=Fg=ul=null;break;case"mousedown":zg=!0;break;case"contextmenu":case"mouseup":case"dragend":zg=!1,AT(se,l,te);break;case"selectionchange":if(ZD)break;case"keydown":case"keyup":AT(se,l,te)}var Se;if(Qr)e:{switch(i){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Ke?Z(i,l)&&(Ce="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ce="onCompositionStart");Ce&&(E&&l.locale!=="ko"&&(Ke||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Ke&&(Se=cc()):(Hr=te,_s="value"in Hr?Hr.value:Hr.textContent,Ke=!0)),Ue=Jf(Q,Ce),0<Ue.length&&(Ce=new fc(Ce,i,null,l,te),se.push({event:Ce,listeners:Ue}),Se?Ce.data=Se:(Se=fe(l),Se!==null&&(Ce.data=Se)))),(Se=_?Zt(i,l):Qe(i,l))&&(Ce=Jf(Q,"onBeforeInput"),0<Ce.length&&(Ue=new fc("onBeforeInput","beforeinput",null,l,te),se.push({event:Ue,listeners:Ce}),Ue.data=Se)),VN(se,i,Q,l,te)}Yb(se,a)})}function $c(i,a,l){return{instance:i,listener:a,currentTarget:l}}function Jf(i,a){for(var l=a+"Capture",c=[];i!==null;){var p=i,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=Va(i,l),p!=null&&c.unshift($c(i,p,g)),p=Va(i,a),p!=null&&c.push($c(i,p,g))),i.tag===3)return c;i=i.return}return[]}function kl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Jb(i,a,l,c,p){for(var g=a._reactName,T=[];l!==null&&l!==c;){var I=l,k=I.alternate,Q=I.stateNode;if(I=I.tag,k!==null&&k===c)break;I!==5&&I!==26&&I!==27||Q===null||(k=Q,p?(Q=Va(l,g),Q!=null&&T.unshift($c(l,Q,k))):p||(Q=Va(l,g),Q!=null&&T.push($c(l,Q,k)))),l=l.return}T.length!==0&&i.push({event:a,listeners:T})}var UN=/\r\n?/g,BN=/\u0000|\uFFFD/g;function Zb(i){return(typeof i=="string"?i:""+i).replace(UN,`
`).replace(BN,"")}function eI(i,a){return a=Zb(a),Zb(i)===a}function Zf(){}function ct(i,a,l,c,p,g){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||dr(i,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&dr(i,""+c);break;case"className":zr(i,"class",c);break;case"tabIndex":zr(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":zr(i,l,c);break;case"style":oc(i,c,g);break;case"data":if(a!=="object"){zr(i,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){i.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=el(""+c),i.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(a!=="input"&&ct(i,a,"name",p.name,p,null),ct(i,a,"formEncType",p.formEncType,p,null),ct(i,a,"formMethod",p.formMethod,p,null),ct(i,a,"formTarget",p.formTarget,p,null)):(ct(i,a,"encType",p.encType,p,null),ct(i,a,"method",p.method,p,null),ct(i,a,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=el(""+c),i.setAttribute(l,c);break;case"onClick":c!=null&&(i.onclick=Zf);break;case"onScroll":c!=null&&Fe("scroll",i);break;case"onScrollEnd":c!=null&&Fe("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}l=el(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""+c):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":c===!0?i.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,c):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(l,c):i.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(l):i.setAttribute(l,c);break;case"popover":Fe("beforetoggle",i),Fe("toggle",i),gs(i,"popover",c);break;case"xlinkActuate":mn(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":mn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":mn(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":mn(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":mn(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":mn(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":mn(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":mn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":mn(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":gs(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Og.get(l)||l,gs(i,l,c))}}function h_(i,a,l,c,p,g){switch(l){case"style":oc(i,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof c=="string"?dr(i,c):(typeof c=="number"||typeof c=="bigint")&&dr(i,""+c);break;case"onScroll":c!=null&&Fe("scroll",i);break;case"onScrollEnd":c!=null&&Fe("scrollend",i);break;case"onClick":c!=null&&(i.onclick=Zf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wo.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),a=l.slice(2,p?l.length-7:void 0),g=i[Gt]||null,g=g!=null?g[l]:null,typeof g=="function"&&i.removeEventListener(a,g,p),typeof c=="function")){typeof g!="function"&&g!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(a,c,p);break e}l in i?i[l]=c:c===!0?i.setAttribute(l,""):gs(i,l,c)}}}function vn(i,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",i),Fe("load",i);var c=!1,p=!1,g;for(g in l)if(l.hasOwnProperty(g)){var T=l[g];if(T!=null)switch(g){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ct(i,a,g,T,l,null)}}p&&ct(i,a,"srcSet",l.srcSet,l,null),c&&ct(i,a,"src",l.src,l,null);return;case"input":Fe("invalid",i);var I=g=T=p=null,k=null,Q=null;for(c in l)if(l.hasOwnProperty(c)){var te=l[c];if(te!=null)switch(c){case"name":p=te;break;case"type":T=te;break;case"checked":k=te;break;case"defaultChecked":Q=te;break;case"value":g=te;break;case"defaultValue":I=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,a));break;default:ct(i,a,c,te,l,null)}}Na(i,g,I,k,Q,T,p,!1),Zo(i);return;case"select":Fe("invalid",i),c=T=g=null;for(p in l)if(l.hasOwnProperty(p)&&(I=l[p],I!=null))switch(p){case"value":g=I;break;case"defaultValue":T=I;break;case"multiple":c=I;default:ct(i,a,p,I,l,null)}a=g,l=T,i.multiple=!!c,a!=null?Ri(i,!!c,a,!1):l!=null&&Ri(i,!!c,l,!0);return;case"textarea":Fe("invalid",i),g=p=c=null;for(T in l)if(l.hasOwnProperty(T)&&(I=l[T],I!=null))switch(T){case"value":c=I;break;case"defaultValue":p=I;break;case"children":g=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(91));break;default:ct(i,a,T,I,l,null)}ka(i,c,p,g),Zo(i);return;case"option":for(k in l)if(l.hasOwnProperty(k)&&(c=l[k],c!=null))switch(k){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ct(i,a,k,c,l,null)}return;case"dialog":Fe("beforetoggle",i),Fe("toggle",i),Fe("cancel",i),Fe("close",i);break;case"iframe":case"object":Fe("load",i);break;case"video":case"audio":for(c=0;c<Gc.length;c++)Fe(Gc[c],i);break;case"image":Fe("error",i),Fe("load",i);break;case"details":Fe("toggle",i);break;case"embed":case"source":case"link":Fe("error",i),Fe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in l)if(l.hasOwnProperty(Q)&&(c=l[Q],c!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ct(i,a,Q,c,l,null)}return;default:if(lc(a)){for(te in l)l.hasOwnProperty(te)&&(c=l[te],c!==void 0&&h_(i,a,te,c,l,void 0));return}}for(I in l)l.hasOwnProperty(I)&&(c=l[I],c!=null&&ct(i,a,I,c,l,null))}function FN(i,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,T=null,I=null,k=null,Q=null,te=null;for(X in l){var se=l[X];if(l.hasOwnProperty(X)&&se!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":k=se;default:c.hasOwnProperty(X)||ct(i,a,X,null,c,se)}}for(var Y in c){var X=c[Y];if(se=l[Y],c.hasOwnProperty(Y)&&(X!=null||se!=null))switch(Y){case"type":g=X;break;case"name":p=X;break;case"checked":Q=X;break;case"defaultChecked":te=X;break;case"value":T=X;break;case"defaultValue":I=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,a));break;default:X!==se&&ct(i,a,Y,X,c,se)}}Xn(i,T,I,k,Q,te,g,p);return;case"select":X=T=I=Y=null;for(g in l)if(k=l[g],l.hasOwnProperty(g)&&k!=null)switch(g){case"value":break;case"multiple":X=k;default:c.hasOwnProperty(g)||ct(i,a,g,null,c,k)}for(p in c)if(g=c[p],k=l[p],c.hasOwnProperty(p)&&(g!=null||k!=null))switch(p){case"value":Y=g;break;case"defaultValue":I=g;break;case"multiple":T=g;default:g!==k&&ct(i,a,p,g,c,k)}a=I,l=T,c=X,Y!=null?Ri(i,!!l,Y,!1):!!c!=!!l&&(a!=null?Ri(i,!!l,a,!0):Ri(i,!!l,l?[]:"",!1));return;case"textarea":X=Y=null;for(I in l)if(p=l[I],l.hasOwnProperty(I)&&p!=null&&!c.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:ct(i,a,I,null,c,p)}for(T in c)if(p=c[T],g=l[T],c.hasOwnProperty(T)&&(p!=null||g!=null))switch(T){case"value":Y=p;break;case"defaultValue":X=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==g&&ct(i,a,T,p,c,g)}lt(i,Y,X);return;case"option":for(var De in l)if(Y=l[De],l.hasOwnProperty(De)&&Y!=null&&!c.hasOwnProperty(De))switch(De){case"selected":i.selected=!1;break;default:ct(i,a,De,null,c,Y)}for(k in c)if(Y=c[k],X=l[k],c.hasOwnProperty(k)&&Y!==X&&(Y!=null||X!=null))switch(k){case"selected":i.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:ct(i,a,k,Y,c,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in l)Y=l[Re],l.hasOwnProperty(Re)&&Y!=null&&!c.hasOwnProperty(Re)&&ct(i,a,Re,null,c,Y);for(Q in c)if(Y=c[Q],X=l[Q],c.hasOwnProperty(Q)&&Y!==X&&(Y!=null||X!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,a));break;default:ct(i,a,Q,Y,c,X)}return;default:if(lc(a)){for(var ht in l)Y=l[ht],l.hasOwnProperty(ht)&&Y!==void 0&&!c.hasOwnProperty(ht)&&h_(i,a,ht,void 0,c,Y);for(te in c)Y=c[te],X=l[te],!c.hasOwnProperty(te)||Y===X||Y===void 0&&X===void 0||h_(i,a,te,Y,c,X);return}}for(var q in l)Y=l[q],l.hasOwnProperty(q)&&Y!=null&&!c.hasOwnProperty(q)&&ct(i,a,q,null,c,Y);for(se in c)Y=c[se],X=l[se],!c.hasOwnProperty(se)||Y===X||Y==null&&X==null||ct(i,a,se,Y,c,X)}var d_=null,f_=null;function ep(i){return i.nodeType===9?i:i.ownerDocument}function tI(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nI(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function p_(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var m_=null;function zN(){var i=window.event;return i&&i.type==="popstate"?i===m_?!1:(m_=i,!0):(m_=null,!1)}var rI=typeof setTimeout=="function"?setTimeout:void 0,qN=typeof clearTimeout=="function"?clearTimeout:void 0,iI=typeof Promise=="function"?Promise:void 0,HN=typeof queueMicrotask=="function"?queueMicrotask:typeof iI<"u"?function(i){return iI.resolve(null).then(i).catch(GN)}:rI;function GN(i){setTimeout(function(){throw i})}function Os(i){return i==="head"}function sI(i,a){var l=a,c=0,p=0;do{var g=l.nextSibling;if(i.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"){if(0<c&&8>c){l=c;var T=i.ownerDocument;if(l&1&&Kc(T.documentElement),l&2&&Kc(T.body),l&4)for(l=T.head,Kc(l),T=l.firstChild;T;){var I=T.nextSibling,k=T.nodeName;T[Ra]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&T.rel.toLowerCase()==="stylesheet"||l.removeChild(T),T=I}}if(p===0){i.removeChild(g),th(a);return}p--}else l==="$"||l==="$?"||l==="$!"?p++:c=l.charCodeAt(0)-48;else c=0;l=g}while(l);th(a)}function g_(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":g_(l),ms(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function $N(i,a,l,c){for(;i.nodeType===1;){var p=l;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Ra])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=kr(i.nextSibling),i===null)break}return null}function KN(i,a,l){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=kr(i.nextSibling),i===null))return null;return i}function y_(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function QN(i,a){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")a();else{var c=function(){a(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function kr(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return i}var __=null;function aI(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return i;a--}else l==="/$"&&a++}i=i.previousSibling}return null}function oI(i,a,l){switch(a=ep(l),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Kc(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);ms(i)}var wr=new Map,lI=new Set;function tp(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ki=pe.d;pe.d={f:WN,r:YN,D:XN,C:JN,L:ZN,m:ek,X:nk,S:tk,M:rk};function WN(){var i=Ki.f(),a=$f();return i||a}function YN(i){var a=Br(i);a!==null&&a.tag===5&&a.type==="form"?Rw(a):Ki.r(i)}var Ol=typeof document>"u"?null:document;function uI(i,a,l){var c=Ol;if(c&&typeof a=="string"&&a){var p=$t(a);p='link[rel="'+i+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),lI.has(p)||(lI.add(p),i={rel:i,crossOrigin:l,href:a},c.querySelector(p)===null&&(a=c.createElement("link"),vn(a,"link",i),Ut(a),c.head.appendChild(a)))}}function XN(i){Ki.D(i),uI("dns-prefetch",i,null)}function JN(i,a){Ki.C(i,a),uI("preconnect",i,a)}function ZN(i,a,l){Ki.L(i,a,l);var c=Ol;if(c&&i&&a){var p='link[rel="preload"][as="'+$t(a)+'"]';a==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+$t(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+$t(l.imageSizes)+'"]')):p+='[href="'+$t(i)+'"]';var g=p;switch(a){case"style":g=Vl(i);break;case"script":g=Ml(i)}wr.has(g)||(i=y({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:i,as:a},l),wr.set(g,i),c.querySelector(p)!==null||a==="style"&&c.querySelector(Qc(g))||a==="script"&&c.querySelector(Wc(g))||(a=c.createElement("link"),vn(a,"link",i),Ut(a),c.head.appendChild(a)))}}function ek(i,a){Ki.m(i,a);var l=Ol;if(l&&i){var c=a&&typeof a.as=="string"?a.as:"script",p='link[rel="modulepreload"][as="'+$t(c)+'"][href="'+$t(i)+'"]',g=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Ml(i)}if(!wr.has(g)&&(i=y({rel:"modulepreload",href:i},a),wr.set(g,i),l.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Wc(g)))return}c=l.createElement("link"),vn(c,"link",i),Ut(c),l.head.appendChild(c)}}}function tk(i,a,l){Ki.S(i,a,l);var c=Ol;if(c&&i){var p=Nn(c).hoistableStyles,g=Vl(i);a=a||"default";var T=p.get(g);if(!T){var I={loading:0,preload:null};if(T=c.querySelector(Qc(g)))I.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":a},l),(l=wr.get(g))&&v_(i,l);var k=T=c.createElement("link");Ut(k),vn(k,"link",i),k._p=new Promise(function(Q,te){k.onload=Q,k.onerror=te}),k.addEventListener("load",function(){I.loading|=1}),k.addEventListener("error",function(){I.loading|=2}),I.loading|=4,np(T,a,c)}T={type:"stylesheet",instance:T,count:1,state:I},p.set(g,T)}}}function nk(i,a){Ki.X(i,a);var l=Ol;if(l&&i){var c=Nn(l).hoistableScripts,p=Ml(i),g=c.get(p);g||(g=l.querySelector(Wc(p)),g||(i=y({src:i,async:!0},a),(a=wr.get(p))&&E_(i,a),g=l.createElement("script"),Ut(g),vn(g,"link",i),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function rk(i,a){Ki.M(i,a);var l=Ol;if(l&&i){var c=Nn(l).hoistableScripts,p=Ml(i),g=c.get(p);g||(g=l.querySelector(Wc(p)),g||(i=y({src:i,async:!0,type:"module"},a),(a=wr.get(p))&&E_(i,a),g=l.createElement("script"),Ut(g),vn(g,"link",i),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function cI(i,a,l,c){var p=(p=Ae.current)?tp(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Vl(l.href),l=Nn(p).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Vl(l.href);var g=Nn(p).hoistableStyles,T=g.get(i);if(T||(p=p.ownerDocument||p,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,T),(g=p.querySelector(Qc(i)))&&!g._p&&(T.instance=g,T.state.loading=5),wr.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},wr.set(i,l),g||ik(p,i,l,T.state))),a&&c===null)throw Error(r(528,""));return T}if(a&&c!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Ml(l),l=Nn(p).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Vl(i){return'href="'+$t(i)+'"'}function Qc(i){return'link[rel="stylesheet"]['+i+"]"}function hI(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function ik(i,a,l,c){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=i.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),vn(a,"link",l),Ut(a),i.head.appendChild(a))}function Ml(i){return'[src="'+$t(i)+'"]'}function Wc(i){return"script[async]"+i}function dI(i,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=i.querySelector('style[data-href~="'+$t(l.href)+'"]');if(c)return a.instance=c,Ut(c),c;var p=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Ut(c),vn(c,"style",p),np(c,l.precedence,i),a.instance=c;case"stylesheet":p=Vl(l.href);var g=i.querySelector(Qc(p));if(g)return a.state.loading|=4,a.instance=g,Ut(g),g;c=hI(l),(p=wr.get(p))&&v_(c,p),g=(i.ownerDocument||i).createElement("link"),Ut(g);var T=g;return T._p=new Promise(function(I,k){T.onload=I,T.onerror=k}),vn(g,"link",c),a.state.loading|=4,np(g,l.precedence,i),a.instance=g;case"script":return g=Ml(l.src),(p=i.querySelector(Wc(g)))?(a.instance=p,Ut(p),p):(c=l,(p=wr.get(g))&&(c=y({},l),E_(c,p)),i=i.ownerDocument||i,p=i.createElement("script"),Ut(p),vn(p,"link",c),i.head.appendChild(p),a.instance=p);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,np(c,l.precedence,i));return a.instance}function np(i,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,g=p,T=0;T<c.length;T++){var I=c[T];if(I.dataset.precedence===a)g=I;else if(g!==p)break}g?g.parentNode.insertBefore(i,g.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(i,a.firstChild))}function v_(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function E_(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var rp=null;function fI(i,a,l){if(rp===null){var c=new Map,p=rp=new Map;p.set(l,c)}else p=rp,c=p.get(l),c||(c=new Map,p.set(l,c));if(c.has(i))return c;for(c.set(i,null),l=l.getElementsByTagName(i),p=0;p<l.length;p++){var g=l[p];if(!(g[Ra]||g[Jt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(a)||"";T=i+T;var I=c.get(T);I?I.push(g):c.set(T,[g])}}return c}function pI(i,a,l){i=i.ownerDocument||i,i.head.insertBefore(l,a==="title"?i.querySelector("head > title"):null)}function sk(i,a,l){if(l===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function mI(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Yc=null;function ak(){}function ok(i,a,l){if(Yc===null)throw Error(r(475));var c=Yc;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var p=Vl(l.href),g=i.querySelector(Qc(p));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=ip.bind(c),i.then(c,c)),a.state.loading|=4,a.instance=g,Ut(g);return}g=i.ownerDocument||i,l=hI(l),(p=wr.get(p))&&v_(l,p),g=g.createElement("link"),Ut(g);var T=g;T._p=new Promise(function(I,k){T.onload=I,T.onerror=k}),vn(g,"link",l),a.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(c.count++,a=ip.bind(c),i.addEventListener("load",a),i.addEventListener("error",a))}}function lk(){if(Yc===null)throw Error(r(475));var i=Yc;return i.stylesheets&&i.count===0&&T_(i,i.stylesheets),0<i.count?function(a){var l=setTimeout(function(){if(i.stylesheets&&T_(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(l)}}:null}function ip(){if(this.count--,this.count===0){if(this.stylesheets)T_(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var sp=null;function T_(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,sp=new Map,a.forEach(uk,i),sp=null,ip.call(i))}function uk(i,a){if(!(a.state.loading&4)){var l=sp.get(i);if(l)var c=l.get(null);else{l=new Map,sp.set(i,l);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var T=p[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),c=T)}c&&l.set(null,c)}p=a.instance,T=p.getAttribute("data-precedence"),g=l.get(T)||c,g===c&&l.set(null,p),l.set(T,p),this.count++,c=ip.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),g?g.parentNode.insertBefore(p,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),a.state.loading|=4}}var Xc={$$typeof:W,Provider:null,Consumer:null,_currentValue:we,_currentValue2:we,_threadCount:0};function ck(i,a,l,c,p,g,T,I){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.hiddenUpdates=bi(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function gI(i,a,l,c,p,g,T,I,k,Q,te,se){return i=new ck(i,a,l,T,I,k,Q,se),a=1,g===!0&&(a|=24),g=Zn(3,null,null,a),i.current=g,g.stateNode=i,a=ny(),a.refCount++,i.pooledCache=a,a.refCount++,g.memoizedState={element:c,isDehydrated:l,cache:a},ay(g),i}function yI(i){return i?(i=fl,i):fl}function _I(i,a,l,c,p,g){p=yI(p),c.context===null?c.context=p:c.pendingContext=p,c=Ts(a),c.payload={element:l},g=g===void 0?null:g,g!==null&&(c.callback=g),l=ws(i,c,a),l!==null&&(ir(l,i,a),xc(l,i,a))}function vI(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<a?l:a}}function w_(i,a){vI(i,a),(i=i.alternate)&&vI(i,a)}function EI(i){if(i.tag===13){var a=dl(i,67108864);a!==null&&ir(a,i,67108864),w_(i,67108864)}}var ap=!0;function hk(i,a,l,c){var p=ee.T;ee.T=null;var g=pe.p;try{pe.p=2,b_(i,a,l,c)}finally{pe.p=g,ee.T=p}}function dk(i,a,l,c){var p=ee.T;ee.T=null;var g=pe.p;try{pe.p=8,b_(i,a,l,c)}finally{pe.p=g,ee.T=p}}function b_(i,a,l,c){if(ap){var p=I_(c);if(p===null)c_(i,a,c,op,l),wI(i,c);else if(pk(p,i,a,l,c))c.stopPropagation();else if(wI(i,c),a&4&&-1<fk.indexOf(i)){for(;p!==null;){var g=Br(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=Rr(g.pendingLanes);if(T!==0){var I=g;for(I.pendingLanes|=2,I.entangledLanes|=2;T;){var k=1<<31-In(T);I.entanglements[1]|=k,T&=~k}ei(g),(rt&6)===0&&(Hf=cr()+500,Hc(0))}}break;case 13:I=dl(g,2),I!==null&&ir(I,g,2),$f(),w_(g,2)}if(g=I_(c),g===null&&c_(i,a,c,op,l),g===p)break;p=g}p!==null&&c.stopPropagation()}else c_(i,a,c,null,l)}}function I_(i){return i=fr(i),S_(i)}var op=null;function S_(i){if(op=null,i=Si(i),i!==null){var a=o(i);if(a===null)i=null;else{var l=a.tag;if(l===13){if(i=u(a),i!==null)return i;i=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return op=i,null}function TI(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Rg()){case Wu:return 2;case Go:return 8;case ba:case Cg:return 32;case $o:return 268435456;default:return 32}default:return 32}}var A_=!1,Vs=null,Ms=null,Ls=null,Jc=new Map,Zc=new Map,js=[],fk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wI(i,a){switch(i){case"focusin":case"focusout":Vs=null;break;case"dragenter":case"dragleave":Ms=null;break;case"mouseover":case"mouseout":Ls=null;break;case"pointerover":case"pointerout":Jc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zc.delete(a.pointerId)}}function eh(i,a,l,c,p,g){return i===null||i.nativeEvent!==g?(i={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:g,targetContainers:[p]},a!==null&&(a=Br(a),a!==null&&EI(a)),i):(i.eventSystemFlags|=c,a=i.targetContainers,p!==null&&a.indexOf(p)===-1&&a.push(p),i)}function pk(i,a,l,c,p){switch(a){case"focusin":return Vs=eh(Vs,i,a,l,c,p),!0;case"dragenter":return Ms=eh(Ms,i,a,l,c,p),!0;case"mouseover":return Ls=eh(Ls,i,a,l,c,p),!0;case"pointerover":var g=p.pointerId;return Jc.set(g,eh(Jc.get(g)||null,i,a,l,c,p)),!0;case"gotpointercapture":return g=p.pointerId,Zc.set(g,eh(Zc.get(g)||null,i,a,l,c,p)),!0}return!1}function bI(i){var a=Si(i.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){i.blockedOn=a,Gd(i.priority,function(){if(l.tag===13){var c=rr();c=ds(c);var p=dl(l,c);p!==null&&ir(p,l,c),w_(l,c)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function lp(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var l=I_(i.nativeEvent);if(l===null){l=i.nativeEvent;var c=new l.constructor(l.type,l);Ci=c,l.target.dispatchEvent(c),Ci=null}else return a=Br(l),a!==null&&EI(a),i.blockedOn=l,!1;a.shift()}return!0}function II(i,a,l){lp(i)&&l.delete(a)}function mk(){A_=!1,Vs!==null&&lp(Vs)&&(Vs=null),Ms!==null&&lp(Ms)&&(Ms=null),Ls!==null&&lp(Ls)&&(Ls=null),Jc.forEach(II),Zc.forEach(II)}function up(i,a){i.blockedOn===a&&(i.blockedOn=null,A_||(A_=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,mk)))}var cp=null;function SI(i){cp!==i&&(cp=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){cp===i&&(cp=null);for(var a=0;a<i.length;a+=3){var l=i[a],c=i[a+1],p=i[a+2];if(typeof c!="function"){if(S_(c||l)===null)continue;break}var g=Br(l);g!==null&&(i.splice(a,3),a-=3,Sy(g,{pending:!0,data:p,method:l.method,action:c},c,p))}}))}function th(i){function a(k){return up(k,i)}Vs!==null&&up(Vs,i),Ms!==null&&up(Ms,i),Ls!==null&&up(Ls,i),Jc.forEach(a),Zc.forEach(a);for(var l=0;l<js.length;l++){var c=js[l];c.blockedOn===i&&(c.blockedOn=null)}for(;0<js.length&&(l=js[0],l.blockedOn===null);)bI(l),l.blockedOn===null&&js.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var p=l[c],g=l[c+1],T=p[Gt]||null;if(typeof g=="function")T||SI(l);else if(T){var I=null;if(g&&g.hasAttribute("formAction")){if(p=g,T=g[Gt]||null)I=T.formAction;else if(S_(p)!==null)continue}else I=T.action;typeof I=="function"?l[c+1]=I:(l.splice(c,3),c-=3),SI(l)}}}function x_(i){this._internalRoot=i}hp.prototype.render=x_.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,c=rr();_I(l,c,i,a,null,null)},hp.prototype.unmount=x_.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;_I(i.current,2,null,i,null,null),$f(),a[hr]=null}};function hp(i){this._internalRoot=i}hp.prototype.unstable_scheduleHydration=function(i){if(i){var a=fs();i={blockedOn:null,target:i,priority:a};for(var l=0;l<js.length&&a!==0&&a<js[l].priority;l++);js.splice(l,0,i),l===0&&bI(i)}};var AI=e.version;if(AI!=="19.1.0")throw Error(r(527,AI,"19.1.0"));pe.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=f(a),i=i!==null?m(i):null,i=i===null?null:i.stateNode,i};var gk={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dp.isDisabled&&dp.supportsFiber)try{Nt=dp.inject(gk),nt=dp}catch{}}return rh.createRoot=function(i,a){if(!s(i))throw Error(r(299));var l=!1,c="",p=zw,g=qw,T=Hw,I=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks)),a=gI(i,1,!1,null,null,l,c,p,g,T,I,null),i[hr]=a.current,u_(i),new x_(a)},rh.hydrateRoot=function(i,a,l){if(!s(i))throw Error(r(299));var c=!1,p="",g=zw,T=qw,I=Hw,k=null,Q=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(I=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(k=l.unstable_transitionCallbacks),l.formState!==void 0&&(Q=l.formState)),a=gI(i,1,!0,a,l??null,c,p,g,T,I,k,Q),a.context=yI(null),l=a.current,c=rr(),c=ds(c),p=Ts(c),p.callback=null,ws(l,p,c),l=c,a.current.lanes=l,Ii(a,l),ei(a),i[hr]=a.current,u_(i),new hp(a)},rh.version="19.1.0",rh}var MI;function xk(){if(MI)return C_.exports;MI=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),C_.exports=Ak(),C_.exports}var Rk=xk(),B=m0();const Fh=_k(B);var ih={},LI;function Ck(){if(LI)return ih;LI=1,Object.defineProperty(ih,"__esModule",{value:!0}),ih.parse=u,ih.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function u(b,x){const R=new o,N=b.length;if(N<2)return R;const M=(x==null?void 0:x.decode)||y;let H=0;do{const z=b.indexOf("=",H);if(z===-1)break;const W=b.indexOf(";",H),ne=W===-1?N:W;if(z>ne){H=b.lastIndexOf(";",z-1)+1;continue}const ae=h(b,H,z),ce=f(b,z,ae),P=b.slice(ae,ce);if(R[P]===void 0){let A=h(b,z+1,ne),C=f(b,ne,A);const O=M(b.slice(A,C));R[P]=O}H=ne+1}while(H<N);return R}function h(b,x,R){do{const N=b.charCodeAt(x);if(N!==32&&N!==9)return x}while(++x<R);return R}function f(b,x,R){for(;x>R;){const N=b.charCodeAt(--x);if(N!==32&&N!==9)return x+1}return R}function m(b,x,R){const N=(R==null?void 0:R.encode)||encodeURIComponent;if(!n.test(b))throw new TypeError(`argument name is invalid: ${b}`);const M=N(x);if(!e.test(M))throw new TypeError(`argument val is invalid: ${x}`);let H=b+"="+M;if(!R)return H;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);H+="; Max-Age="+R.maxAge}if(R.domain){if(!t.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);H+="; Domain="+R.domain}if(R.path){if(!r.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);H+="; Path="+R.path}if(R.expires){if(!v(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);H+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&(H+="; HttpOnly"),R.secure&&(H+="; Secure"),R.partitioned&&(H+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":H+="; Priority=Low";break;case"medium":H+="; Priority=Medium";break;case"high":H+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":H+="; SameSite=Strict";break;case"lax":H+="; SameSite=Lax";break;case"none":H+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return H}function y(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function v(b){return s.call(b)==="[object Date]"}return ih}Ck();var jI="popstate";function Pk(n={}){function e(r,s){let{pathname:o,search:u,hash:h}=r.location;return mv("",{pathname:o,search:u,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:zh(s)}return Nk(e,t,null,n)}function xt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function pi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Dk(){return Math.random().toString(36).substring(2,10)}function UI(n,e){return{usr:n.state,key:n.key,idx:e}}function mv(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ou(e):e,state:t,key:e&&e.key||r||Dk()}}function zh({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ou(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function Nk(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,u=s.history,h="POP",f=null,m=y();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function y(){return(u.state||{idx:null}).idx}function v(){h="POP";let M=y(),H=M==null?null:M-m;m=M,f&&f({action:h,location:N.location,delta:H})}function b(M,H){h="PUSH";let z=mv(N.location,M,H);m=y()+1;let W=UI(z,m),ne=N.createHref(z);try{u.pushState(W,"",ne)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;s.location.assign(ne)}o&&f&&f({action:h,location:N.location,delta:1})}function x(M,H){h="REPLACE";let z=mv(N.location,M,H);m=y();let W=UI(z,m),ne=N.createHref(z);u.replaceState(W,"",ne),o&&f&&f({action:h,location:N.location,delta:0})}function R(M){return kk(M)}let N={get action(){return h},get location(){return n(s,u)},listen(M){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(jI,v),f=M,()=>{s.removeEventListener(jI,v),f=null}},createHref(M){return e(s,M)},createURL:R,encodeLocation(M){let H=R(M);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:b,replace:x,go(M){return u.go(M)}};return N}function kk(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),xt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:zh(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function Px(n,e,t="/"){return Ok(n,e,t,!1)}function Ok(n,e,t,r){let s=typeof e=="string"?Ou(e):e,o=Zi(s.pathname||"/",t);if(o==null)return null;let u=Dx(n);Vk(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let m=$k(o);h=Hk(u[f],m,r)}return h}function Dx(n,e=[],t=[],r=""){let s=(o,u,h)=>{let f={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};f.relativePath.startsWith("/")&&(xt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let m=Xi([r,f.relativePath]),y=t.concat(f);o.children&&o.children.length>0&&(xt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Dx(o.children,e,y,m)),!(o.path==null&&!o.index)&&e.push({path:m,score:zk(m,o.index),routesMeta:y})};return n.forEach((o,u)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))s(o,u);else for(let f of Nx(o.path))s(o,u,f)}),e}function Nx(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let u=Nx(r.join("/")),h=[];return h.push(...u.map(f=>f===""?o:[o,f].join("/"))),s&&h.push(...u),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function Vk(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:qk(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var Mk=/^:[\w-]+$/,Lk=3,jk=2,Uk=1,Bk=10,Fk=-2,BI=n=>n==="*";function zk(n,e){let t=n.split("/"),r=t.length;return t.some(BI)&&(r+=Fk),e&&(r+=jk),t.filter(s=>!BI(s)).reduce((s,o)=>s+(Mk.test(o)?Lk:o===""?Uk:Bk),r)}function qk(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function Hk(n,e,t=!1){let{routesMeta:r}=n,s={},o="/",u=[];for(let h=0;h<r.length;++h){let f=r[h],m=h===r.length-1,y=o==="/"?e:e.slice(o.length)||"/",v=Zp({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},y),b=f.route;if(!v&&m&&t&&!r[r.length-1].route.index&&(v=Zp({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!v)return null;Object.assign(s,v.params),u.push({params:s,pathname:Xi([o,v.pathname]),pathnameBase:Yk(Xi([o,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(o=Xi([o,v.pathnameBase]))}return u}function Zp(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=Gk(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let o=s[0],u=o.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:r.reduce((m,{paramName:y,isOptional:v},b)=>{if(y==="*"){let R=h[b]||"";u=o.slice(0,o.length-R.length).replace(/(.)\/+$/,"$1")}const x=h[b];return v&&!x?m[y]=void 0:m[y]=(x||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:u,pattern:n}}function Gk(n,e=!1,t=!0){pi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function $k(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return pi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Zi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function Kk(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?Ou(n):n;return{pathname:t?t.startsWith("/")?t:Qk(t,e):e,search:Xk(r),hash:Jk(s)}}function Qk(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function O_(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Wk(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function kx(n){let e=Wk(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Ox(n,e,t,r=!1){let s;typeof n=="string"?s=Ou(n):(s={...n},xt(!s.pathname||!s.pathname.includes("?"),O_("?","pathname","search",s)),xt(!s.pathname||!s.pathname.includes("#"),O_("#","pathname","hash",s)),xt(!s.search||!s.search.includes("#"),O_("#","search","hash",s)));let o=n===""||s.pathname==="",u=o?"/":s.pathname,h;if(u==null)h=t;else{let v=e.length-1;if(!r&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),v-=1;s.pathname=b.join("/")}h=v>=0?e[v]:"/"}let f=Kk(s,h),m=u&&u!=="/"&&u.endsWith("/"),y=(o||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(m||y)&&(f.pathname+="/"),f}var Xi=n=>n.join("/").replace(/\/\/+/g,"/"),Yk=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Xk=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Jk=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Zk(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Vx=["POST","PUT","PATCH","DELETE"];new Set(Vx);var eO=["GET",...Vx];new Set(eO);var Vu=B.createContext(null);Vu.displayName="DataRouter";var Nm=B.createContext(null);Nm.displayName="DataRouterState";var Mx=B.createContext({isTransitioning:!1});Mx.displayName="ViewTransition";var tO=B.createContext(new Map);tO.displayName="Fetchers";var nO=B.createContext(null);nO.displayName="Await";var Ei=B.createContext(null);Ei.displayName="Navigation";var md=B.createContext(null);md.displayName="Location";var Ti=B.createContext({outlet:null,matches:[],isDataRoute:!1});Ti.displayName="Route";var g0=B.createContext(null);g0.displayName="RouteError";function rO(n,{relative:e}={}){xt(gd(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=B.useContext(Ei),{hash:s,pathname:o,search:u}=yd(n,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:Xi([t,o])),r.createHref({pathname:h,search:u,hash:s})}function gd(){return B.useContext(md)!=null}function Lo(){return xt(gd(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(md).location}var Lx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function jx(n){B.useContext(Ei).static||B.useLayoutEffect(n)}function wi(){let{isDataRoute:n}=B.useContext(Ti);return n?gO():iO()}function iO(){xt(gd(),"useNavigate() may be used only in the context of a <Router> component.");let n=B.useContext(Vu),{basename:e,navigator:t}=B.useContext(Ei),{matches:r}=B.useContext(Ti),{pathname:s}=Lo(),o=JSON.stringify(kx(r)),u=B.useRef(!1);return jx(()=>{u.current=!0}),B.useCallback((f,m={})=>{if(pi(u.current,Lx),!u.current)return;if(typeof f=="number"){t.go(f);return}let y=Ox(f,JSON.parse(o),s,m.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Xi([e,y.pathname])),(m.replace?t.replace:t.push)(y,m.state,m)},[e,t,o,s,n])}B.createContext(null);function Ux(){let{matches:n}=B.useContext(Ti),e=n[n.length-1];return e?e.params:{}}function yd(n,{relative:e}={}){let{matches:t}=B.useContext(Ti),{pathname:r}=Lo(),s=JSON.stringify(kx(t));return B.useMemo(()=>Ox(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function sO(n,e){return Bx(n,e)}function Bx(n,e,t,r){var H;xt(gd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=B.useContext(Ei),{matches:o}=B.useContext(Ti),u=o[o.length-1],h=u?u.params:{},f=u?u.pathname:"/",m=u?u.pathnameBase:"/",y=u&&u.route;{let z=y&&y.path||"";Fx(f,!y||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let v=Lo(),b;if(e){let z=typeof e=="string"?Ou(e):e;xt(m==="/"||((H=z.pathname)==null?void 0:H.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${z.pathname}" was given in the \`location\` prop.`),b=z}else b=v;let x=b.pathname||"/",R=x;if(m!=="/"){let z=m.replace(/^\//,"").split("/");R="/"+x.replace(/^\//,"").split("/").slice(z.length).join("/")}let N=Px(n,{pathname:R});pi(y||N!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),pi(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=cO(N&&N.map(z=>Object.assign({},z,{params:Object.assign({},h,z.params),pathname:Xi([m,s.encodeLocation?s.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?m:Xi([m,s.encodeLocation?s.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),o,t,r);return e&&M?B.createElement(md.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},M):M}function aO(){let n=mO(),e=Zk(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=B.createElement(B.Fragment,null,B.createElement("p",null,"💿 Hey developer 👋"),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:o},"ErrorBoundary")," or"," ",B.createElement("code",{style:o},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),t?B.createElement("pre",{style:s},t):null,u)}var oO=B.createElement(aO,null),lO=class extends B.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?B.createElement(Ti.Provider,{value:this.props.routeContext},B.createElement(g0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function uO({routeContext:n,match:e,children:t}){let r=B.useContext(Vu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(Ti.Provider,{value:n},t)}function cO(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,o=t==null?void 0:t.errors;if(o!=null){let f=s.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);xt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let u=!1,h=-1;if(t)for(let f=0;f<s.length;f++){let m=s[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=f),m.route.id){let{loaderData:y,errors:v}=t,b=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||b){u=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}return s.reduceRight((f,m,y)=>{let v,b=!1,x=null,R=null;t&&(v=o&&m.route.id?o[m.route.id]:void 0,x=m.route.errorElement||oO,u&&(h<0&&y===0?(Fx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,R=null):h===y&&(b=!0,R=m.route.hydrateFallbackElement||null)));let N=e.concat(s.slice(0,y+1)),M=()=>{let H;return v?H=x:b?H=R:m.route.Component?H=B.createElement(m.route.Component,null):m.route.element?H=m.route.element:H=f,B.createElement(uO,{match:m,routeContext:{outlet:f,matches:N,isDataRoute:t!=null},children:H})};return t&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?B.createElement(lO,{location:t.location,revalidation:t.revalidation,component:x,error:v,children:M(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):M()},null)}function y0(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hO(n){let e=B.useContext(Vu);return xt(e,y0(n)),e}function dO(n){let e=B.useContext(Nm);return xt(e,y0(n)),e}function fO(n){let e=B.useContext(Ti);return xt(e,y0(n)),e}function _0(n){let e=fO(n),t=e.matches[e.matches.length-1];return xt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function pO(){return _0("useRouteId")}function mO(){var r;let n=B.useContext(g0),e=dO("useRouteError"),t=_0("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function gO(){let{router:n}=hO("useNavigate"),e=_0("useNavigate"),t=B.useRef(!1);return jx(()=>{t.current=!0}),B.useCallback(async(s,o={})=>{pi(t.current,Lx),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...o}))},[n,e])}var FI={};function Fx(n,e,t){!e&&!FI[n]&&(FI[n]=!0,pi(!1,t))}B.memo(yO);function yO({routes:n,future:e,state:t}){return Bx(n,void 0,t,e)}function io(n){xt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _O({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:o=!1}){xt(!gd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=B.useMemo(()=>({basename:u,navigator:s,static:o,future:{}}),[u,s,o]);typeof t=="string"&&(t=Ou(t));let{pathname:f="/",search:m="",hash:y="",state:v=null,key:b="default"}=t,x=B.useMemo(()=>{let R=Zi(f,u);return R==null?null:{location:{pathname:R,search:m,hash:y,state:v,key:b},navigationType:r}},[u,f,m,y,v,b,r]);return pi(x!=null,`<Router basename="${u}"> is not able to match the URL "${f}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:B.createElement(Ei.Provider,{value:h},B.createElement(md.Provider,{children:e,value:x}))}function vO({children:n,location:e}){return sO(gv(n),e)}function gv(n,e=[]){let t=[];return B.Children.forEach(n,(r,s)=>{if(!B.isValidElement(r))return;let o=[...e,s];if(r.type===B.Fragment){t.push.apply(t,gv(r.props.children,o));return}xt(r.type===io,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),xt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=gv(r.props.children,o)),t.push(u)}),t}var Sp="get",Ap="application/x-www-form-urlencoded";function km(n){return n!=null&&typeof n.tagName=="string"}function EO(n){return km(n)&&n.tagName.toLowerCase()==="button"}function TO(n){return km(n)&&n.tagName.toLowerCase()==="form"}function wO(n){return km(n)&&n.tagName.toLowerCase()==="input"}function bO(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function IO(n,e){return n.button===0&&(!e||e==="_self")&&!bO(n)}var fp=null;function SO(){if(fp===null)try{new FormData(document.createElement("form"),0),fp=!1}catch{fp=!0}return fp}var AO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function V_(n){return n!=null&&!AO.has(n)?(pi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ap}"`),null):n}function xO(n,e){let t,r,s,o,u;if(TO(n)){let h=n.getAttribute("action");r=h?Zi(h,e):null,t=n.getAttribute("method")||Sp,s=V_(n.getAttribute("enctype"))||Ap,o=new FormData(n)}else if(EO(n)||wO(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(r=f?Zi(f,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||Sp,s=V_(n.getAttribute("formenctype"))||V_(h.getAttribute("enctype"))||Ap,o=new FormData(h,n),!SO()){let{name:m,type:y,value:v}=n;if(y==="image"){let b=m?`${m}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else m&&o.append(m,v)}}else{if(km(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Sp,r=null,s=Ap,u=n}return o&&s==="text/plain"&&(u=o,o=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:o,body:u}}function v0(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function RO(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function CO(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function PO(n,e,t){let r=await Promise.all(n.map(async s=>{let o=e.routes[s.route.id];if(o){let u=await RO(o,t);return u.links?u.links():[]}return[]}));return OO(r.flat(1).filter(CO).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function zI(n,e,t,r,s,o){let u=(f,m)=>t[m]?f.route.id!==t[m].route.id:!0,h=(f,m)=>{var y;return t[m].pathname!==f.pathname||((y=t[m].route.path)==null?void 0:y.endsWith("*"))&&t[m].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,m)=>u(f,m)||h(f,m)):o==="data"?e.filter((f,m)=>{var v;let y=r.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(u(f,m)||h(f,m))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function DO(n,e,{includeHydrateFallback:t}={}){return NO(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function NO(n){return[...new Set(n)]}function kO(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function OO(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let o=JSON.stringify(kO(s));return t.has(o)||(t.add(o),r.push({key:o,link:s})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var VO=new Set([100,101,204,205]);function MO(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Zi(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function zx(){let n=B.useContext(Vu);return v0(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function LO(){let n=B.useContext(Nm);return v0(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var E0=B.createContext(void 0);E0.displayName="FrameworkContext";function qx(){let n=B.useContext(E0);return v0(n,"You must render this element inside a <HydratedRouter> element"),n}function jO(n,e){let t=B.useContext(E0),[r,s]=B.useState(!1),[o,u]=B.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:m,onMouseLeave:y,onTouchStart:v}=e,b=B.useRef(null);B.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let N=H=>{H.forEach(z=>{u(z.isIntersecting)})},M=new IntersectionObserver(N,{threshold:.5});return b.current&&M.observe(b.current),()=>{M.disconnect()}}},[n]),B.useEffect(()=>{if(r){let N=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(N)}}},[r]);let x=()=>{s(!0)},R=()=>{s(!1),u(!1)};return t?n!=="intent"?[o,b,{}]:[o,b,{onFocus:sh(h,x),onBlur:sh(f,R),onMouseEnter:sh(m,x),onMouseLeave:sh(y,R),onTouchStart:sh(v,x)}]:[!1,b,{}]}function sh(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function UO({page:n,...e}){let{router:t}=zx(),r=B.useMemo(()=>Px(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?B.createElement(FO,{page:n,matches:r,...e}):null}function BO(n){let{manifest:e,routeModules:t}=qx(),[r,s]=B.useState([]);return B.useEffect(()=>{let o=!1;return PO(n,e,t).then(u=>{o||s(u)}),()=>{o=!0}},[n,e,t]),r}function FO({page:n,matches:e,...t}){let r=Lo(),{manifest:s,routeModules:o}=qx(),{basename:u}=zx(),{loaderData:h,matches:f}=LO(),m=B.useMemo(()=>zI(n,e,f,s,r,"data"),[n,e,f,s,r]),y=B.useMemo(()=>zI(n,e,f,s,r,"assets"),[n,e,f,s,r]),v=B.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let R=new Set,N=!1;if(e.forEach(H=>{var W;let z=s.routes[H.route.id];!z||!z.hasLoader||(!m.some(ne=>ne.route.id===H.route.id)&&H.route.id in h&&((W=o[H.route.id])!=null&&W.shouldRevalidate)||z.hasClientLoader?N=!0:R.add(H.route.id))}),R.size===0)return[];let M=MO(n,u);return N&&R.size>0&&M.searchParams.set("_routes",e.filter(H=>R.has(H.route.id)).map(H=>H.route.id).join(",")),[M.pathname+M.search]},[u,h,r,s,m,e,n,o]),b=B.useMemo(()=>DO(y,s),[y,s]),x=BO(y);return B.createElement(B.Fragment,null,v.map(R=>B.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...t})),b.map(R=>B.createElement("link",{key:R,rel:"modulepreload",href:R,...t})),x.map(({key:R,link:N})=>B.createElement("link",{key:R,...N})))}function zO(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Hx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Hx&&(window.__reactRouterVersion="7.6.1")}catch{}function qO({basename:n,children:e,window:t}){let r=B.useRef();r.current==null&&(r.current=Pk({window:t,v5Compat:!0}));let s=r.current,[o,u]=B.useState({action:s.action,location:s.location}),h=B.useCallback(f=>{B.startTransition(()=>u(f))},[u]);return B.useLayoutEffect(()=>s.listen(h),[s,h]),B.createElement(_O,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:s})}var Gx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$x=B.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:o,replace:u,state:h,target:f,to:m,preventScrollReset:y,viewTransition:v,...b},x){let{basename:R}=B.useContext(Ei),N=typeof m=="string"&&Gx.test(m),M,H=!1;if(typeof m=="string"&&N&&(M=m,Hx))try{let C=new URL(window.location.href),O=m.startsWith("//")?new URL(C.protocol+m):new URL(m),L=Zi(O.pathname,R);O.origin===C.origin&&L!=null?m=L+O.search+O.hash:H=!0}catch{pi(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=rO(m,{relative:s}),[W,ne,ae]=jO(r,b),ce=KO(m,{replace:u,state:h,target:f,preventScrollReset:y,relative:s,viewTransition:v});function P(C){e&&e(C),C.defaultPrevented||ce(C)}let A=B.createElement("a",{...b,...ae,href:M||z,onClick:H||o?e:P,ref:zO(x,ne),target:f,"data-discover":!N&&t==="render"?"true":void 0});return W&&!N?B.createElement(B.Fragment,null,A,B.createElement(UO,{page:z})):A});$x.displayName="Link";var HO=B.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:o,to:u,viewTransition:h,children:f,...m},y){let v=yd(u,{relative:m.relative}),b=Lo(),x=B.useContext(Nm),{navigator:R,basename:N}=B.useContext(Ei),M=x!=null&&JO(v)&&h===!0,H=R.encodeLocation?R.encodeLocation(v).pathname:v.pathname,z=b.pathname,W=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(z=z.toLowerCase(),W=W?W.toLowerCase():null,H=H.toLowerCase()),W&&N&&(W=Zi(W,N)||W);const ne=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let ae=z===H||!s&&z.startsWith(H)&&z.charAt(ne)==="/",ce=W!=null&&(W===H||!s&&W.startsWith(H)&&W.charAt(H.length)==="/"),P={isActive:ae,isPending:ce,isTransitioning:M},A=ae?e:void 0,C;typeof r=="function"?C=r(P):C=[r,ae?"active":null,ce?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let O=typeof o=="function"?o(P):o;return B.createElement($x,{...m,"aria-current":A,className:C,ref:y,style:O,to:u,viewTransition:h},typeof f=="function"?f(P):f)});HO.displayName="NavLink";var GO=B.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:o,method:u=Sp,action:h,onSubmit:f,relative:m,preventScrollReset:y,viewTransition:v,...b},x)=>{let R=YO(),N=XO(h,{relative:m}),M=u.toLowerCase()==="get"?"get":"post",H=typeof h=="string"&&Gx.test(h),z=W=>{if(f&&f(W),W.defaultPrevented)return;W.preventDefault();let ne=W.nativeEvent.submitter,ae=(ne==null?void 0:ne.getAttribute("formmethod"))||u;R(ne||W.currentTarget,{fetcherKey:e,method:ae,navigate:t,replace:s,state:o,relative:m,preventScrollReset:y,viewTransition:v})};return B.createElement("form",{ref:x,method:M,action:N,onSubmit:r?f:z,...b,"data-discover":!H&&n==="render"?"true":void 0})});GO.displayName="Form";function $O(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Kx(n){let e=B.useContext(Vu);return xt(e,$O(n)),e}function KO(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:o,viewTransition:u}={}){let h=wi(),f=Lo(),m=yd(n,{relative:o});return B.useCallback(y=>{if(IO(y,e)){y.preventDefault();let v=t!==void 0?t:zh(f)===zh(m);h(n,{replace:v,state:r,preventScrollReset:s,relative:o,viewTransition:u})}},[f,h,m,t,r,e,n,s,o,u])}var QO=0,WO=()=>`__${String(++QO)}__`;function YO(){let{router:n}=Kx("useSubmit"),{basename:e}=B.useContext(Ei),t=pO();return B.useCallback(async(r,s={})=>{let{action:o,method:u,encType:h,formData:f,body:m}=xO(r,e);if(s.navigate===!1){let y=s.fetcherKey||WO();await n.fetch(y,t,s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:m,formMethod:s.method||u,formEncType:s.encType||h,flushSync:s.flushSync})}else await n.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:m,formMethod:s.method||u,formEncType:s.encType||h,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function XO(n,{relative:e}={}){let{basename:t}=B.useContext(Ei),r=B.useContext(Ti);xt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...yd(n||".",{relative:e})},u=Lo();if(n==null){o.search=u.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(y=>y==="")){h.delete("index"),f.filter(v=>v).forEach(v=>h.append("index",v));let y=h.toString();o.search=y?`?${y}`:""}}return(!n||n===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Xi([t,o.pathname])),zh(o)}function JO(n,e={}){let t=B.useContext(Mx);xt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Kx("useViewTransitionState"),s=yd(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=Zi(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Zi(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Zp(s.pathname,u)!=null||Zp(s.pathname,o)!=null}[...VO];var Gn=function(){return Gn=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Gn.apply(this,arguments)};function T0(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function qh(n,e,t){if(t||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}var gt="-ms-",bh="-moz-",tt="-webkit-",Qx="comm",Om="rule",w0="decl",ZO="@import",Wx="@keyframes",e2="@layer",Yx=Math.abs,b0=String.fromCharCode,yv=Object.assign;function t2(n,e){return dn(n,0)^45?(((e<<2^dn(n,0))<<2^dn(n,1))<<2^dn(n,2))<<2^dn(n,3):0}function Xx(n){return n.trim()}function Qi(n,e){return(n=e.exec(n))?n[0]:n}function Le(n,e,t){return n.replace(e,t)}function xp(n,e,t){return n.indexOf(e,t)}function dn(n,e){return n.charCodeAt(e)|0}function su(n,e,t){return n.slice(e,t)}function ni(n){return n.length}function Jx(n){return n.length}function mh(n,e){return e.push(n),n}function n2(n,e){return n.map(e).join("")}function qI(n,e){return n.filter(function(t){return!Qi(t,e)})}var Vm=1,au=1,Zx=0,Sr=0,Xt=0,Mu="";function Mm(n,e,t,r,s,o,u,h){return{value:n,root:e,parent:t,type:r,props:s,children:o,line:Vm,column:au,length:u,return:"",siblings:h}}function Gs(n,e){return yv(Mm("",null,null,"",null,null,0,n.siblings),n,{length:-n.length},e)}function Ll(n){for(;n.root;)n=Gs(n.root,{children:[n]});mh(n,n.siblings)}function r2(){return Xt}function i2(){return Xt=Sr>0?dn(Mu,--Sr):0,au--,Xt===10&&(au=1,Vm--),Xt}function Mr(){return Xt=Sr<Zx?dn(Mu,Sr++):0,au++,Xt===10&&(au=1,Vm++),Xt}function vo(){return dn(Mu,Sr)}function Rp(){return Sr}function Lm(n,e){return su(Mu,n,e)}function _v(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function s2(n){return Vm=au=1,Zx=ni(Mu=n),Sr=0,[]}function a2(n){return Mu="",n}function M_(n){return Xx(Lm(Sr-1,vv(n===91?n+2:n===40?n+1:n)))}function o2(n){for(;(Xt=vo())&&Xt<33;)Mr();return _v(n)>2||_v(Xt)>3?"":" "}function l2(n,e){for(;--e&&Mr()&&!(Xt<48||Xt>102||Xt>57&&Xt<65||Xt>70&&Xt<97););return Lm(n,Rp()+(e<6&&vo()==32&&Mr()==32))}function vv(n){for(;Mr();)switch(Xt){case n:return Sr;case 34:case 39:n!==34&&n!==39&&vv(Xt);break;case 40:n===41&&vv(n);break;case 92:Mr();break}return Sr}function u2(n,e){for(;Mr()&&n+Xt!==57;)if(n+Xt===84&&vo()===47)break;return"/*"+Lm(e,Sr-1)+"*"+b0(n===47?n:Mr())}function c2(n){for(;!_v(vo());)Mr();return Lm(n,Sr)}function h2(n){return a2(Cp("",null,null,null,[""],n=s2(n),0,[0],n))}function Cp(n,e,t,r,s,o,u,h,f){for(var m=0,y=0,v=u,b=0,x=0,R=0,N=1,M=1,H=1,z=0,W="",ne=s,ae=o,ce=r,P=W;M;)switch(R=z,z=Mr()){case 40:if(R!=108&&dn(P,v-1)==58){xp(P+=Le(M_(z),"&","&\f"),"&\f",Yx(m?h[m-1]:0))!=-1&&(H=-1);break}case 34:case 39:case 91:P+=M_(z);break;case 9:case 10:case 13:case 32:P+=o2(R);break;case 92:P+=l2(Rp()-1,7);continue;case 47:switch(vo()){case 42:case 47:mh(d2(u2(Mr(),Rp()),e,t,f),f);break;default:P+="/"}break;case 123*N:h[m++]=ni(P)*H;case 125*N:case 59:case 0:switch(z){case 0:case 125:M=0;case 59+y:H==-1&&(P=Le(P,/\f/g,"")),x>0&&ni(P)-v&&mh(x>32?GI(P+";",r,t,v-1,f):GI(Le(P," ","")+";",r,t,v-2,f),f);break;case 59:P+=";";default:if(mh(ce=HI(P,e,t,m,y,s,h,W,ne=[],ae=[],v,o),o),z===123)if(y===0)Cp(P,e,ce,ce,ne,o,v,h,ae);else switch(b===99&&dn(P,3)===110?100:b){case 100:case 108:case 109:case 115:Cp(n,ce,ce,r&&mh(HI(n,ce,ce,0,0,s,h,W,s,ne=[],v,ae),ae),s,ae,v,h,r?ne:ae);break;default:Cp(P,ce,ce,ce,[""],ae,0,h,ae)}}m=y=x=0,N=H=1,W=P="",v=u;break;case 58:v=1+ni(P),x=R;default:if(N<1){if(z==123)--N;else if(z==125&&N++==0&&i2()==125)continue}switch(P+=b0(z),z*N){case 38:H=y>0?1:(P+="\f",-1);break;case 44:h[m++]=(ni(P)-1)*H,H=1;break;case 64:vo()===45&&(P+=M_(Mr())),b=vo(),y=v=ni(W=P+=c2(Rp())),z++;break;case 45:R===45&&ni(P)==2&&(N=0)}}return o}function HI(n,e,t,r,s,o,u,h,f,m,y,v){for(var b=s-1,x=s===0?o:[""],R=Jx(x),N=0,M=0,H=0;N<r;++N)for(var z=0,W=su(n,b+1,b=Yx(M=u[N])),ne=n;z<R;++z)(ne=Xx(M>0?x[z]+" "+W:Le(W,/&\f/g,x[z])))&&(f[H++]=ne);return Mm(n,e,t,s===0?Om:h,f,m,y,v)}function d2(n,e,t,r){return Mm(n,e,t,Qx,b0(r2()),su(n,2,-2),0,r)}function GI(n,e,t,r,s){return Mm(n,e,t,w0,su(n,0,r),su(n,r+1,-1),r,s)}function e1(n,e,t){switch(t2(n,e)){case 5103:return tt+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return tt+n+n;case 4789:return bh+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return tt+n+bh+n+gt+n+n;case 5936:switch(dn(n,e+11)){case 114:return tt+n+gt+Le(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return tt+n+gt+Le(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return tt+n+gt+Le(n,/[svh]\w+-[tblr]{2}/,"lr")+n}case 6828:case 4268:case 2903:return tt+n+gt+n+n;case 6165:return tt+n+gt+"flex-"+n+n;case 5187:return tt+n+Le(n,/(\w+).+(:[^]+)/,tt+"box-$1$2"+gt+"flex-$1$2")+n;case 5443:return tt+n+gt+"flex-item-"+Le(n,/flex-|-self/g,"")+(Qi(n,/flex-|baseline/)?"":gt+"grid-row-"+Le(n,/flex-|-self/g,""))+n;case 4675:return tt+n+gt+"flex-line-pack"+Le(n,/align-content|flex-|-self/g,"")+n;case 5548:return tt+n+gt+Le(n,"shrink","negative")+n;case 5292:return tt+n+gt+Le(n,"basis","preferred-size")+n;case 6060:return tt+"box-"+Le(n,"-grow","")+tt+n+gt+Le(n,"grow","positive")+n;case 4554:return tt+Le(n,/([^-])(transform)/g,"$1"+tt+"$2")+n;case 6187:return Le(Le(Le(n,/(zoom-|grab)/,tt+"$1"),/(image-set)/,tt+"$1"),n,"")+n;case 5495:case 3959:return Le(n,/(image-set\([^]*)/,tt+"$1$`$1");case 4968:return Le(Le(n,/(.+:)(flex-)?(.*)/,tt+"box-pack:$3"+gt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+tt+n+n;case 4200:if(!Qi(n,/flex-|baseline/))return gt+"grid-column-align"+su(n,e)+n;break;case 2592:case 3360:return gt+Le(n,"template-","")+n;case 4384:case 3616:return t&&t.some(function(r,s){return e=s,Qi(r.props,/grid-\w+-end/)})?~xp(n+(t=t[e].value),"span",0)?n:gt+Le(n,"-start","")+n+gt+"grid-row-span:"+(~xp(t,"span",0)?Qi(t,/\d+/):+Qi(t,/\d+/)-+Qi(n,/\d+/))+";":gt+Le(n,"-start","")+n;case 4896:case 4128:return t&&t.some(function(r){return Qi(r.props,/grid-\w+-start/)})?n:gt+Le(Le(n,"-end","-span"),"span ","")+n;case 4095:case 3583:case 4068:case 2532:return Le(n,/(.+)-inline(.+)/,tt+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ni(n)-1-e>6)switch(dn(n,e+1)){case 109:if(dn(n,e+4)!==45)break;case 102:return Le(n,/(.+:)(.+)-([^]+)/,"$1"+tt+"$2-$3$1"+bh+(dn(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~xp(n,"stretch",0)?e1(Le(n,"stretch","fill-available"),e,t)+n:n}break;case 5152:case 5920:return Le(n,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,s,o,u,h,f,m){return gt+s+":"+o+m+(u?gt+s+"-span:"+(h?f:+f-+o)+m:"")+n});case 4949:if(dn(n,e+6)===121)return Le(n,":",":"+tt)+n;break;case 6444:switch(dn(n,dn(n,14)===45?18:11)){case 120:return Le(n,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+tt+(dn(n,14)===45?"inline-":"")+"box$3$1"+tt+"$2$3$1"+gt+"$2box$3")+n;case 100:return Le(n,":",":"+gt)+n}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Le(n,"scroll-","scroll-snap-")+n}return n}function em(n,e){for(var t="",r=0;r<n.length;r++)t+=e(n[r],r,n,e)||"";return t}function f2(n,e,t,r){switch(n.type){case e2:if(n.children.length)break;case ZO:case w0:return n.return=n.return||n.value;case Qx:return"";case Wx:return n.return=n.value+"{"+em(n.children,r)+"}";case Om:if(!ni(n.value=n.props.join(",")))return""}return ni(t=em(n.children,r))?n.return=n.value+"{"+t+"}":""}function p2(n){var e=Jx(n);return function(t,r,s,o){for(var u="",h=0;h<e;h++)u+=n[h](t,r,s,o)||"";return u}}function m2(n){return function(e){e.root||(e=e.return)&&n(e)}}function g2(n,e,t,r){if(n.length>-1&&!n.return)switch(n.type){case w0:n.return=e1(n.value,n.length,t);return;case Wx:return em([Gs(n,{value:Le(n.value,"@","@"+tt)})],r);case Om:if(n.length)return n2(t=n.props,function(s){switch(Qi(s,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Ll(Gs(n,{props:[Le(s,/:(read-\w+)/,":"+bh+"$1")]})),Ll(Gs(n,{props:[s]})),yv(n,{props:qI(t,r)});break;case"::placeholder":Ll(Gs(n,{props:[Le(s,/:(plac\w+)/,":"+tt+"input-$1")]})),Ll(Gs(n,{props:[Le(s,/:(plac\w+)/,":"+bh+"$1")]})),Ll(Gs(n,{props:[Le(s,/:(plac\w+)/,gt+"input-$1")]})),Ll(Gs(n,{props:[s]})),yv(n,{props:qI(t,r)});break}return""})}}var y2={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},sr={},ou=typeof process<"u"&&sr!==void 0&&(sr.REACT_APP_SC_ATTR||sr.SC_ATTR)||"data-styled",t1="active",n1="data-styled-version",jm="6.1.18",I0=`/*!sc*/
`,tm=typeof window<"u"&&typeof document<"u",_2=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&sr!==void 0&&sr.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&sr.REACT_APP_SC_DISABLE_SPEEDY!==""?sr.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&sr.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&sr!==void 0&&sr.SC_DISABLE_SPEEDY!==void 0&&sr.SC_DISABLE_SPEEDY!==""&&sr.SC_DISABLE_SPEEDY!=="false"&&sr.SC_DISABLE_SPEEDY),Um=Object.freeze([]),lu=Object.freeze({});function v2(n,e,t){return t===void 0&&(t=lu),n.theme!==t.theme&&n.theme||e||t.theme}var r1=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),E2=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,T2=/(^-|-$)/g;function $I(n){return n.replace(E2,"-").replace(T2,"")}var w2=/(a)(d)/gi,pp=52,KI=function(n){return String.fromCharCode(n+(n>25?39:97))};function Ev(n){var e,t="";for(e=Math.abs(n);e>pp;e=e/pp|0)t=KI(e%pp)+t;return(KI(e%pp)+t).replace(w2,"$1-$2")}var L_,i1=5381,Yl=function(n,e){for(var t=e.length;t;)n=33*n^e.charCodeAt(--t);return n},s1=function(n){return Yl(i1,n)};function a1(n){return Ev(s1(n)>>>0)}function b2(n){return n.displayName||n.name||"Component"}function j_(n){return typeof n=="string"&&!0}var o1=typeof Symbol=="function"&&Symbol.for,l1=o1?Symbol.for("react.memo"):60115,I2=o1?Symbol.for("react.forward_ref"):60112,S2={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},A2={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},u1={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},x2=((L_={})[I2]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},L_[l1]=u1,L_);function QI(n){return("type"in(e=n)&&e.type.$$typeof)===l1?u1:"$$typeof"in n?x2[n.$$typeof]:S2;var e}var R2=Object.defineProperty,C2=Object.getOwnPropertyNames,WI=Object.getOwnPropertySymbols,P2=Object.getOwnPropertyDescriptor,D2=Object.getPrototypeOf,YI=Object.prototype;function c1(n,e,t){if(typeof e!="string"){if(YI){var r=D2(e);r&&r!==YI&&c1(n,r,t)}var s=C2(e);WI&&(s=s.concat(WI(e)));for(var o=QI(n),u=QI(e),h=0;h<s.length;++h){var f=s[h];if(!(f in A2||t&&t[f]||u&&f in u||o&&f in o)){var m=P2(e,f);try{R2(n,f,m)}catch{}}}}return n}function uu(n){return typeof n=="function"}function S0(n){return typeof n=="object"&&"styledComponentId"in n}function po(n,e){return n&&e?"".concat(n," ").concat(e):n||e||""}function Tv(n,e){if(n.length===0)return"";for(var t=n[0],r=1;r<n.length;r++)t+=n[r];return t}function Hh(n){return n!==null&&typeof n=="object"&&n.constructor.name===Object.name&&!("props"in n&&n.$$typeof)}function wv(n,e,t){if(t===void 0&&(t=!1),!t&&!Hh(n)&&!Array.isArray(n))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)n[r]=wv(n[r],e[r]);else if(Hh(e))for(var r in e)n[r]=wv(n[r],e[r]);return n}function A0(n,e){Object.defineProperty(n,"toString",{value:e})}function _d(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(n," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var N2=function(){function n(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return n.prototype.indexOfGroup=function(e){for(var t=0,r=0;r<e;r++)t+=this.groupSizes[r];return t},n.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var r=this.groupSizes,s=r.length,o=s;e>=o;)if((o<<=1)<0)throw _d(16,"".concat(e));this.groupSizes=new Uint32Array(o),this.groupSizes.set(r),this.length=o;for(var u=s;u<o;u++)this.groupSizes[u]=0}for(var h=this.indexOfGroup(e+1),f=(u=0,t.length);u<f;u++)this.tag.insertRule(h,t[u])&&(this.groupSizes[e]++,h++)},n.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],r=this.indexOfGroup(e),s=r+t;this.groupSizes[e]=0;for(var o=r;o<s;o++)this.tag.deleteRule(r)}},n.prototype.getGroup=function(e){var t="";if(e>=this.length||this.groupSizes[e]===0)return t;for(var r=this.groupSizes[e],s=this.indexOfGroup(e),o=s+r,u=s;u<o;u++)t+="".concat(this.tag.getRule(u)).concat(I0);return t},n}(),Pp=new Map,nm=new Map,Dp=1,mp=function(n){if(Pp.has(n))return Pp.get(n);for(;nm.has(Dp);)Dp++;var e=Dp++;return Pp.set(n,e),nm.set(e,n),e},k2=function(n,e){Dp=e+1,Pp.set(n,e),nm.set(e,n)},O2="style[".concat(ou,"][").concat(n1,'="').concat(jm,'"]'),V2=new RegExp("^".concat(ou,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),M2=function(n,e,t){for(var r,s=t.split(","),o=0,u=s.length;o<u;o++)(r=s[o])&&n.registerName(e,r)},L2=function(n,e){for(var t,r=((t=e.textContent)!==null&&t!==void 0?t:"").split(I0),s=[],o=0,u=r.length;o<u;o++){var h=r[o].trim();if(h){var f=h.match(V2);if(f){var m=0|parseInt(f[1],10),y=f[2];m!==0&&(k2(y,m),M2(n,y,f[3]),n.getTag().insertRules(m,s)),s.length=0}else s.push(h)}}},XI=function(n){for(var e=document.querySelectorAll(O2),t=0,r=e.length;t<r;t++){var s=e[t];s&&s.getAttribute(ou)!==t1&&(L2(n,s),s.parentNode&&s.parentNode.removeChild(s))}};function j2(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var h1=function(n){var e=document.head,t=n||e,r=document.createElement("style"),s=function(h){var f=Array.from(h.querySelectorAll("style[".concat(ou,"]")));return f[f.length-1]}(t),o=s!==void 0?s.nextSibling:null;r.setAttribute(ou,t1),r.setAttribute(n1,jm);var u=j2();return u&&r.setAttribute("nonce",u),t.insertBefore(r,o),r},U2=function(){function n(e){this.element=h1(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(t){if(t.sheet)return t.sheet;for(var r=document.styleSheets,s=0,o=r.length;s<o;s++){var u=r[s];if(u.ownerNode===t)return u}throw _d(17)}(this.element),this.length=0}return n.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch{return!1}},n.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},n.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},n}(),B2=function(){function n(e){this.element=h1(e),this.nodes=this.element.childNodes,this.length=0}return n.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var r=document.createTextNode(t);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},n.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},n.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},n}(),F2=function(){function n(e){this.rules=[],this.length=0}return n.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},n.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},n.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},n}(),JI=tm,z2={isServer:!tm,useCSSOMInjection:!_2},d1=function(){function n(e,t,r){e===void 0&&(e=lu),t===void 0&&(t={});var s=this;this.options=Gn(Gn({},z2),e),this.gs=t,this.names=new Map(r),this.server=!!e.isServer,!this.server&&tm&&JI&&(JI=!1,XI(this)),A0(this,function(){return function(o){for(var u=o.getTag(),h=u.length,f="",m=function(v){var b=function(H){return nm.get(H)}(v);if(b===void 0)return"continue";var x=o.names.get(b),R=u.getGroup(v);if(x===void 0||!x.size||R.length===0)return"continue";var N="".concat(ou,".g").concat(v,'[id="').concat(b,'"]'),M="";x!==void 0&&x.forEach(function(H){H.length>0&&(M+="".concat(H,","))}),f+="".concat(R).concat(N,'{content:"').concat(M,'"}').concat(I0)},y=0;y<h;y++)m(y);return f}(s)})}return n.registerId=function(e){return mp(e)},n.prototype.rehydrate=function(){!this.server&&tm&&XI(this)},n.prototype.reconstructWithOptions=function(e,t){return t===void 0&&(t=!0),new n(Gn(Gn({},this.options),e),this.gs,t&&this.names||void 0)},n.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},n.prototype.getTag=function(){return this.tag||(this.tag=(e=function(t){var r=t.useCSSOMInjection,s=t.target;return t.isServer?new F2(s):r?new U2(s):new B2(s)}(this.options),new N2(e)));var e},n.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},n.prototype.registerName=function(e,t){if(mp(e),this.names.has(e))this.names.get(e).add(t);else{var r=new Set;r.add(t),this.names.set(e,r)}},n.prototype.insertRules=function(e,t,r){this.registerName(e,t),this.getTag().insertRules(mp(e),r)},n.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},n.prototype.clearRules=function(e){this.getTag().clearGroup(mp(e)),this.clearNames(e)},n.prototype.clearTag=function(){this.tag=void 0},n}(),q2=/&/g,H2=/^\s*\/\/.*$/gm;function f1(n,e){return n.map(function(t){return t.type==="rule"&&(t.value="".concat(e," ").concat(t.value),t.value=t.value.replaceAll(",",",".concat(e," ")),t.props=t.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(t.children)&&t.type!=="@keyframes"&&(t.children=f1(t.children,e)),t})}function G2(n){var e,t,r,s=lu,o=s.options,u=o===void 0?lu:o,h=s.plugins,f=h===void 0?Um:h,m=function(b,x,R){return R.startsWith(t)&&R.endsWith(t)&&R.replaceAll(t,"").length>0?".".concat(e):b},y=f.slice();y.push(function(b){b.type===Om&&b.value.includes("&")&&(b.props[0]=b.props[0].replace(q2,t).replace(r,m))}),u.prefix&&y.push(g2),y.push(f2);var v=function(b,x,R,N){x===void 0&&(x=""),R===void 0&&(R=""),N===void 0&&(N="&"),e=N,t=x,r=new RegExp("\\".concat(t,"\\b"),"g");var M=b.replace(H2,""),H=h2(R||x?"".concat(R," ").concat(x," { ").concat(M," }"):M);u.namespace&&(H=f1(H,u.namespace));var z=[];return em(H,p2(y.concat(m2(function(W){return z.push(W)})))),z};return v.hash=f.length?f.reduce(function(b,x){return x.name||_d(15),Yl(b,x.name)},i1).toString():"",v}var $2=new d1,bv=G2(),p1=Fh.createContext({shouldForwardProp:void 0,styleSheet:$2,stylis:bv});p1.Consumer;Fh.createContext(void 0);function ZI(){return B.useContext(p1)}var m1=function(){function n(e,t){var r=this;this.inject=function(s,o){o===void 0&&(o=bv);var u=r.name+o.hash;s.hasNameForId(r.id,u)||s.insertRules(r.id,u,o(r.rules,u,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,A0(this,function(){throw _d(12,String(r.name))})}return n.prototype.getName=function(e){return e===void 0&&(e=bv),this.name+e.hash},n}(),K2=function(n){return n>="A"&&n<="Z"};function eS(n){for(var e="",t=0;t<n.length;t++){var r=n[t];if(t===1&&r==="-"&&n[0]==="-")return n;K2(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var g1=function(n){return n==null||n===!1||n===""},y1=function(n){var e,t,r=[];for(var s in n){var o=n[s];n.hasOwnProperty(s)&&!g1(o)&&(Array.isArray(o)&&o.isCss||uu(o)?r.push("".concat(eS(s),":"),o,";"):Hh(o)?r.push.apply(r,qh(qh(["".concat(s," {")],y1(o),!1),["}"],!1)):r.push("".concat(eS(s),": ").concat((e=s,(t=o)==null||typeof t=="boolean"||t===""?"":typeof t!="number"||t===0||e in y2||e.startsWith("--")?String(t).trim():"".concat(t,"px")),";")))}return r};function Eo(n,e,t,r){if(g1(n))return[];if(S0(n))return[".".concat(n.styledComponentId)];if(uu(n)){if(!uu(o=n)||o.prototype&&o.prototype.isReactComponent||!e)return[n];var s=n(e);return Eo(s,e,t,r)}var o;return n instanceof m1?t?(n.inject(t,r),[n.getName(r)]):[n]:Hh(n)?y1(n):Array.isArray(n)?Array.prototype.concat.apply(Um,n.map(function(u){return Eo(u,e,t,r)})):[n.toString()]}function Q2(n){for(var e=0;e<n.length;e+=1){var t=n[e];if(uu(t)&&!S0(t))return!1}return!0}var W2=s1(jm),Y2=function(){function n(e,t,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&Q2(e),this.componentId=t,this.baseHash=Yl(W2,t),this.baseStyle=r,d1.registerId(t)}return n.prototype.generateAndInjectStyles=function(e,t,r){var s=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))s=po(s,this.staticRulesId);else{var o=Tv(Eo(this.rules,e,t,r)),u=Ev(Yl(this.baseHash,o)>>>0);if(!t.hasNameForId(this.componentId,u)){var h=r(o,".".concat(u),void 0,this.componentId);t.insertRules(this.componentId,u,h)}s=po(s,u),this.staticRulesId=u}else{for(var f=Yl(this.baseHash,r.hash),m="",y=0;y<this.rules.length;y++){var v=this.rules[y];if(typeof v=="string")m+=v;else if(v){var b=Tv(Eo(v,e,t,r));f=Yl(f,b+y),m+=b}}if(m){var x=Ev(f>>>0);t.hasNameForId(this.componentId,x)||t.insertRules(this.componentId,x,r(m,".".concat(x),void 0,this.componentId)),s=po(s,x)}}return s},n}(),_1=Fh.createContext(void 0);_1.Consumer;var U_={};function X2(n,e,t){var r=S0(n),s=n,o=!j_(n),u=e.attrs,h=u===void 0?Um:u,f=e.componentId,m=f===void 0?function(ne,ae){var ce=typeof ne!="string"?"sc":$I(ne);U_[ce]=(U_[ce]||0)+1;var P="".concat(ce,"-").concat(a1(jm+ce+U_[ce]));return ae?"".concat(ae,"-").concat(P):P}(e.displayName,e.parentComponentId):f,y=e.displayName,v=y===void 0?function(ne){return j_(ne)?"styled.".concat(ne):"Styled(".concat(b2(ne),")")}(n):y,b=e.displayName&&e.componentId?"".concat($I(e.displayName),"-").concat(e.componentId):e.componentId||m,x=r&&s.attrs?s.attrs.concat(h).filter(Boolean):h,R=e.shouldForwardProp;if(r&&s.shouldForwardProp){var N=s.shouldForwardProp;if(e.shouldForwardProp){var M=e.shouldForwardProp;R=function(ne,ae){return N(ne,ae)&&M(ne,ae)}}else R=N}var H=new Y2(t,b,r?s.componentStyle:void 0);function z(ne,ae){return function(ce,P,A){var C=ce.attrs,O=ce.componentStyle,L=ce.defaultProps,U=ce.foldedComponentIds,D=ce.styledComponentId,St=ce.target,ot=Fh.useContext(_1),ee=ZI(),pe=ce.shouldForwardProp||ee.shouldForwardProp,we=v2(P,ot,L)||lu,Oe=function(ke,Ae,ft){for(var Ge,jt=Gn(Gn({},Ae),{className:void 0,theme:ft}),ye=0;ye<ke.length;ye+=1){var ve=uu(Ge=ke[ye])?Ge(jt):Ge;for(var Ne in ve)jt[Ne]=Ne==="className"?po(jt[Ne],ve[Ne]):Ne==="style"?Gn(Gn({},jt[Ne]),ve[Ne]):ve[Ne]}return Ae.className&&(jt.className=po(jt.className,Ae.className)),jt}(C,P,we),V=Oe.as||St,ie={};for(var de in Oe)Oe[de]===void 0||de[0]==="$"||de==="as"||de==="theme"&&Oe.theme===we||(de==="forwardedAs"?ie.as=Oe.forwardedAs:pe&&!pe(de,V)||(ie[de]=Oe[de]));var he=function(ke,Ae){var ft=ZI(),Ge=ke.generateAndInjectStyles(Ae,ft.styleSheet,ft.stylis);return Ge}(O,Oe),be=po(U,D);return he&&(be+=" "+he),Oe.className&&(be+=" "+Oe.className),ie[j_(V)&&!r1.has(V)?"class":"className"]=be,A&&(ie.ref=A),B.createElement(V,ie)}(W,ne,ae)}z.displayName=v;var W=Fh.forwardRef(z);return W.attrs=x,W.componentStyle=H,W.displayName=v,W.shouldForwardProp=R,W.foldedComponentIds=r?po(s.foldedComponentIds,s.styledComponentId):"",W.styledComponentId=b,W.target=r?s.target:n,Object.defineProperty(W,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(ne){this._foldedDefaultProps=r?function(ae){for(var ce=[],P=1;P<arguments.length;P++)ce[P-1]=arguments[P];for(var A=0,C=ce;A<C.length;A++)wv(ae,C[A],!0);return ae}({},s.defaultProps,ne):ne}}),A0(W,function(){return".".concat(W.styledComponentId)}),o&&c1(W,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),W}function tS(n,e){for(var t=[n[0]],r=0,s=e.length;r<s;r+=1)t.push(e[r],n[r+1]);return t}var nS=function(n){return Object.assign(n,{isCss:!0})};function v1(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(uu(n)||Hh(n))return nS(Eo(tS(Um,qh([n],e,!0))));var r=n;return e.length===0&&r.length===1&&typeof r[0]=="string"?Eo(r):nS(Eo(tS(r,e)))}function Iv(n,e,t){if(t===void 0&&(t=lu),!e)throw _d(1,e);var r=function(s){for(var o=[],u=1;u<arguments.length;u++)o[u-1]=arguments[u];return n(e,t,v1.apply(void 0,qh([s],o,!1)))};return r.attrs=function(s){return Iv(n,e,Gn(Gn({},t),{attrs:Array.prototype.concat(t.attrs,s).filter(Boolean)}))},r.withConfig=function(s){return Iv(n,e,Gn(Gn({},t),s))},r}var E1=function(n){return Iv(X2,n)},F=E1;r1.forEach(function(n){F[n]=E1(n)});function T1(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var r=Tv(v1.apply(void 0,qh([n],e,!1))),s=a1(r);return new m1(s,r)}const J2=F.div`
height: 113px;
width: 393px;
margin: 0;
box-sizing: border-box;
background-color: #ffffff;
box-shadow: 0px 4px 4px 0px rgba(128, 128, 128, 10%);
position: absolute;
top: 0;
left: 0;
`,Z2=F.div`
`,eV=F.span`
`,tV=F.button`
background: none;
border: none;
color: #202020;
padding: 0;
margin: 0;
width: 24px;
height: 24px;
cursor: pointer;
`,nV=F.div`
height: 59px;
box-sizing: border-box;
padding: 0 20px 10px 20px;
font-size: 16px;
font-weight: 600;
color: #202020;
display: flex;
align-items: center;
gap: 8px;
height: 59px;

& > div{
display: flex;
gap: 8px;
width: 393px;
align-items: center;
}

& > div > span {
display: flex;
align-items: center;
flex: 1 1 auto;
color: #606060;
font-size: 14px;
font-weight: 400;
}
`,rV=F.div`
height: 113px;

`,iV=F.div`
  flex: 1 1 auto;
  background-color: #f8f8f8;
  border-radius: 8px;
  display: flex;
  height: 44px;

  padding: 12px;
  align-items: center;
  box-sizing: border-box;
  gap: 8px;
  
  & > textarea{
  overflow-x: auto;         
  overflow-y: hidden; 
  white-space: nowrap; 
  flex: 1 1 auto;
  resize: none;
  border: none;
  outline: none;  
  background: none;
  scrollbar-width: none;        
  -ms-overflow-style: none;    
  height: 100%;              
  line-height: 20px;   
  font-weight: 500;
  color: #404040;
  padding: 0;          
  margin: 0;
  font-size: 14px; 

}
& > textarea:placeholder{
color: #AAAAAA;
}

  & > textarea:-webkit-scrollbar {
    display: none;
  }

  & > textarea:focus{
  border: none;
  outline: none;}
`;function sV(n){const{type:e,content:t,navigatePage:r,location:s,searchValue:o,onSearchChange:u,onSearchSubmit:h}=n,f=wi();return w.jsxs(w.Fragment,{children:[w.jsxs(J2,{children:[w.jsx("img",{src:"/final-project/StatusBar.svg",alt:"스테이터스바목업이미지"}),w.jsxs(nV,{children:[e=="main"?w.jsx("img",{src:"/final-project/Logo.svg",alt:"서비스로고"}):w.jsx("img",{style:{cursor:"pointer"},src:"/final-project/BackArrowIcon.svg",alt:"뒤로가기아이콘",onClick:()=>{typeof r=="function"?r():typeof r=="string"&&f(r)}}),e=="main"?w.jsxs("div",{children:[w.jsx(Z2,{children:t||"함께먹기"}),w.jsxs(eV,{children:[w.jsx("img",{src:"/final-project/LocationIcon.svg",alt:"위치핀아이콘"}),s||"1기숙사"]}),w.jsx(tV,{onClick:()=>f("/alarm"),children:w.jsx("img",{src:"/final-project/AlarmIcon.svg"})})]}):e=="search"?w.jsx("div",{children:w.jsxs(iV,{children:[w.jsx("textarea",{placeholder:"검색어를 입력하세요",value:o,onChange:u}),w.jsx("img",{src:"/final-project/SearchIcon.svg",alt:"검색아이콘",onClick:h,style:{cursor:"pointer"}})]})}):w.jsx("div",{children:t||"페이지명"})]})]}),w.jsx(rV,{})]})}const aV=()=>{};var rS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},oV=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[t++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[t++],u=n[t++],h=n[t++],f=((s&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|u&63)}}return e.join("")},b1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const o=n[s],u=s+1<n.length,h=u?n[s+1]:0,f=s+2<n.length,m=f?n[s+2]:0,y=o>>2,v=(o&3)<<4|h>>4;let b=(h&15)<<2|m>>6,x=m&63;f||(x=64,u||(b=64)),r.push(t[y],t[v],t[b],t[x])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(w1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):oV(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const o=t[n.charAt(s++)],h=s<n.length?t[n.charAt(s)]:0;++s;const m=s<n.length?t[n.charAt(s)]:64;++s;const v=s<n.length?t[n.charAt(s)]:64;if(++s,o==null||h==null||m==null||v==null)throw new lV;const b=o<<2|h>>4;if(r.push(b),m!==64){const x=h<<4&240|m>>2;if(r.push(x),v!==64){const R=m<<6&192|v;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class lV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uV=function(n){const e=w1(n);return b1.encodeByteArray(e,!0)},rm=function(n){return uV(n).replace(/\./g,"")},x0=function(n){try{return b1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function im(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!cV(t)||(n[t]=im(n[t],e[t]));return n}function cV(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV=()=>R0().__FIREBASE_DEFAULTS__,dV=()=>{if(typeof process>"u"||typeof rS>"u")return;const n=rS.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},fV=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&x0(n[1]);return e&&JSON.parse(e)},C0=()=>{try{return aV()||hV()||dV()||fV()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},I1=()=>{var n;return(n=C0())===null||n===void 0?void 0:n.config},pV=n=>{var e;return(e=C0())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vd(n){return n.endsWith(".cloudworkstations.dev")}async function S1(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gV(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[rm(JSON.stringify(t)),rm(JSON.stringify(u)),""].join(".")}const Ih={};function yV(){const n={prod:[],emulator:[]};for(const e of Object.keys(Ih))Ih[e]?n.emulator.push(e):n.prod.push(e);return n}function _V(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let iS=!1;function A1(n,e){if(typeof window>"u"||typeof document>"u"||!vd(window.location.host)||Ih[n]===e||Ih[n]||iS)return;Ih[n]=e;function t(b){return`__firebase__banner__${b}`}const r="__firebase__banner",o=yV().prod.length>0;function u(){const b=document.getElementById(r);b&&b.remove()}function h(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function f(b,x){b.setAttribute("width","24"),b.setAttribute("id",x),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function m(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{iS=!0,u()},b}function y(b,x){b.setAttribute("id",x),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function v(){const b=_V(r),x=t("text"),R=document.getElementById(x)||document.createElement("span"),N=t("learnmore"),M=document.getElementById(N)||document.createElement("a"),H=t("preprendIcon"),z=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const W=b.element;h(W),y(M,N);const ne=m();f(z,H),W.append(z,R,M,ne),document.body.appendChild(W)}o?(R.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ct())}function Bm(){var n;const e=(n=C0())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function EV(){return typeof window<"u"||x1()}function x1(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function TV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function R1(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function P0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function C1(){const n=Ct();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function P1(){return!Bm()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function D1(){return!Bm()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function Gh(){try{return typeof indexedDB=="object"}catch{return!1}}function wV(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bV="FirebaseError";class jn extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=bV,Object.setPrototypeOf(this,jn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jo.prototype.create)}}class jo{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],u=o?IV(o,r):"Error",h=`${this.serviceName}: ${u} (${s}).`;return new jn(s,h,r)}}function IV(n,e){return n.replace(SV,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const SV=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function AV(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ra(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const o=n[s],u=e[s];if(aS(o)&&aS(u)){if(!ra(o,u))return!1}else if(o!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function aS(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Xl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function gh(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function N1(n,e){const t=new xV(n,e);return t.subscribe.bind(t)}class xV{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");RV(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=B_),s.error===void 0&&(s.error=B_),s.complete===void 0&&(s.complete=B_);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function RV(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function B_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(n){return n&&n._delegate?n._delegate:n}class mi{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new mV;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DV(e))try{this.getOrInitializeService({instanceIdentifier:so})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=so){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=so){return this.instances.has(e)}getOptions(e=so){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&u.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:PV(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=so){return this.component?this.component.multipleInstances?e:so:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PV(n){return n===so?void 0:n}function DV(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new CV(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0=[];var ze;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ze||(ze={}));const O1={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},NV=ze.INFO,kV={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},OV=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=kV[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fm{constructor(e){this.name=e,this._logLevel=NV,this._logHandler=OV,this._userLogHandler=null,D0.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?O1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}function VV(n){D0.forEach(e=>{e.setLogLevel(n)})}function MV(n,e){for(const t of D0){let r=null;e&&e.level&&(r=O1[e.level]),n===null?t.userLogHandler=null:t.userLogHandler=(s,o,...u)=>{const h=u.map(f=>{if(f==null)return null;if(typeof f=="string")return f;if(typeof f=="number"||typeof f=="boolean")return f.toString();if(f instanceof Error)return f.message;try{return JSON.stringify(f)}catch{return null}}).filter(f=>f).join(" ");o>=(r??s.logLevel)&&n({level:ze[o].toLowerCase(),message:h,args:u,type:s.name})}}}const LV=(n,e)=>e.some(t=>n instanceof t);let oS,lS;function jV(){return oS||(oS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UV(){return lS||(lS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const V1=new WeakMap,Sv=new WeakMap,M1=new WeakMap,F_=new WeakMap,N0=new WeakMap;function BV(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(Xs(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&V1.set(t,n)}).catch(()=>{}),N0.set(e,n),e}function FV(n){if(Sv.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});Sv.set(n,e)}let Av={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Sv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||M1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Xs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function zV(n){Av=n(Av)}function qV(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(z_(this),e,...t);return M1.set(r,e.sort?e.sort():[e]),Xs(r)}:UV().includes(n)?function(...e){return n.apply(z_(this),e),Xs(V1.get(this))}:function(...e){return Xs(n.apply(z_(this),e))}}function HV(n){return typeof n=="function"?qV(n):(n instanceof IDBTransaction&&FV(n),LV(n,jV())?new Proxy(n,Av):n)}function Xs(n){if(n instanceof IDBRequest)return BV(n);if(F_.has(n))return F_.get(n);const e=HV(n);return e!==n&&(F_.set(n,e),N0.set(e,n)),e}const z_=n=>N0.get(n);function GV(n,e,{blocked:t,upgrade:r,blocking:s,terminated:o}={}){const u=indexedDB.open(n,e),h=Xs(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Xs(u.result),f.oldVersion,f.newVersion,Xs(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),s&&f.addEventListener("versionchange",m=>s(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const $V=["get","getKey","getAll","getAllKeys","count"],KV=["put","add","delete","clear"],q_=new Map;function uS(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(q_.get(e))return q_.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=KV.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||$V.includes(t)))return;const o=async function(u,...h){const f=this.transaction(u,s?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(h.shift())),(await Promise.all([m[t](...h),s&&f.done]))[0]};return q_.set(e,o),o}zV(n=>({...n,get:(e,t,r)=>uS(e,t)||n.get(e,t,r),has:(e,t)=>!!uS(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(WV(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function WV(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const sm="@firebase/app",xv="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es=new Fm("@firebase/app"),YV="@firebase/app-compat",XV="@firebase/analytics-compat",JV="@firebase/analytics",ZV="@firebase/app-check-compat",eM="@firebase/app-check",tM="@firebase/auth",nM="@firebase/auth-compat",rM="@firebase/database",iM="@firebase/data-connect",sM="@firebase/database-compat",aM="@firebase/functions",oM="@firebase/functions-compat",lM="@firebase/installations",uM="@firebase/installations-compat",cM="@firebase/messaging",hM="@firebase/messaging-compat",dM="@firebase/performance",fM="@firebase/performance-compat",pM="@firebase/remote-config",mM="@firebase/remote-config-compat",gM="@firebase/storage",yM="@firebase/storage-compat",_M="@firebase/firestore",vM="@firebase/ai",EM="@firebase/firestore-compat",TM="firebase",wM="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="[DEFAULT]",bM={[sm]:"fire-core",[YV]:"fire-core-compat",[JV]:"fire-analytics",[XV]:"fire-analytics-compat",[eM]:"fire-app-check",[ZV]:"fire-app-check-compat",[tM]:"fire-auth",[nM]:"fire-auth-compat",[rM]:"fire-rtdb",[iM]:"fire-data-connect",[sM]:"fire-rtdb-compat",[aM]:"fire-fn",[oM]:"fire-fn-compat",[lM]:"fire-iid",[uM]:"fire-iid-compat",[cM]:"fire-fcm",[hM]:"fire-fcm-compat",[dM]:"fire-perf",[fM]:"fire-perf-compat",[pM]:"fire-rc",[mM]:"fire-rc-compat",[gM]:"fire-gcs",[yM]:"fire-gcs-compat",[_M]:"fire-fst",[EM]:"fire-fst-compat",[vM]:"fire-vertex","fire-js":"fire-js",[TM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=new Map,cu=new Map,hu=new Map;function $h(n,e){try{n.container.addComponent(e)}catch(t){es.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function L1(n,e){n.container.addOrOverwriteComponent(e)}function aa(n){const e=n.name;if(hu.has(e))return es.debug(`There were multiple attempts to register component ${e}.`),!1;hu.set(e,n);for(const t of sa.values())$h(t,n);for(const t of cu.values())$h(t,n);return!0}function j1(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function IM(n,e,t=ia){j1(n,e).clearInstance(t)}function U1(n){return n.options!==void 0}function Tt(n){return n==null?!1:n.settings!==void 0}function SM(){hu.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ir=new jo("app","Firebase",AM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let B1=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ir.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(n,e){const t=x0(n.split(".")[1]);if(t===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(t).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const s=JSON.parse(t).exp*1e3,o=new Date().getTime();s-o<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class xM extends B1{constructor(e,t,r,s){const o=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!0,u={name:r,automaticDataCollectionEnabled:o};if(e.apiKey!==void 0)super(e,u,s);else{const h=e;super(h.options,u,s)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:o},t),this._serverConfig.authIdToken&&cS(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&cS(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,Lr(sm,xv,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){O0(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Ir.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=wM;function k0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ia,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw Ir.create("bad-app-name",{appName:String(s)});if(t||(t=I1()),!t)throw Ir.create("no-options");const o=sa.get(s);if(o){if(ra(t,o.options)&&ra(r,o.config))return o;throw Ir.create("duplicate-app",{appName:s})}const u=new k1(s);for(const f of hu.values())u.addComponent(f);const h=new B1(t,r,u);return sa.set(s,h),h}function RM(n,e){if(EV()&&!x1())throw Ir.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!0);let t;U1(n)?t=n.options:t=n;const r=Object.assign(Object.assign({},e),t);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const s=m=>[...m].reduce((y,v)=>Math.imul(31,y)+v.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Ir.create("finalization-registry-not-supported",{});const o=""+s(JSON.stringify(r)),u=cu.get(o);if(u)return u.incRefCount(e.releaseOnDeref),u;const h=new k1(o);for(const m of hu.values())h.addComponent(m);const f=new xM(t,e,o,h);return cu.set(o,f),f}function CM(n=ia){const e=sa.get(n);if(!e&&n===ia&&I1())return k0();if(!e)throw Ir.create("no-app",{appName:n});return e}function PM(){return Array.from(sa.values())}async function O0(n){let e=!1;const t=n.name;sa.has(t)?(e=!0,sa.delete(t)):cu.has(t)&&n.decRefCount()<=0&&(cu.delete(t),e=!0),e&&(await Promise.all(n.container.getProviders().map(r=>r.delete())),n.isDeleted=!0)}function Lr(n,e,t){var r;let s=(r=bM[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),es.warn(h.join(" "));return}aa(new mi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}function F1(n,e){if(n!==null&&typeof n!="function")throw Ir.create("invalid-log-argument");MV(n,e)}function z1(n){VV(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM="firebase-heartbeat-database",NM=1,Kh="firebase-heartbeat-store";let H_=null;function q1(){return H_||(H_=GV(DM,NM,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Kh)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ir.create("idb-open",{originalErrorMessage:n.message})})),H_}async function kM(n){try{const t=(await q1()).transaction(Kh),r=await t.objectStore(Kh).get(H1(n));return await t.done,r}catch(e){if(e instanceof jn)es.warn(e.message);else{const t=Ir.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});es.warn(t.message)}}}async function hS(n,e){try{const r=(await q1()).transaction(Kh,"readwrite");await r.objectStore(Kh).put(e,H1(n)),await r.done}catch(t){if(t instanceof jn)es.warn(t.message);else{const r=Ir.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});es.warn(r.message)}}}function H1(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM=1024,VM=30;class MM{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new jM(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=dS();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>VM){const u=UM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){es.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=dS(),{heartbeatsToSend:r,unsentEntries:s}=LM(this._heartbeatsCache.heartbeats),o=rm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return es.warn(t),""}}}function dS(){return new Date().toISOString().substring(0,10)}function LM(n,e=OM){const t=[];let r=n.slice();for(const s of n){const o=t.find(u=>u.agent===s.agent);if(o){if(o.dates.push(s.date),fS(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),fS(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class jM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Gh()?wV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await kM(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return hS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return hS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function fS(n){return rm(JSON.stringify({version:2,heartbeats:n})).length}function UM(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(n){aa(new mi("platform-logger",e=>new QV(e),"PRIVATE")),aa(new mi("heartbeat",e=>new MM(e),"PRIVATE")),Lr(sm,xv,n),Lr(sm,xv,"esm2017"),Lr("fire-js","")}BM("");const FM=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:jn,SDK_VERSION:ga,_DEFAULT_ENTRY_NAME:ia,_addComponent:$h,_addOrOverwriteComponent:L1,_apps:sa,_clearComponents:SM,_components:hu,_getProvider:j1,_isFirebaseApp:U1,_isFirebaseServerApp:Tt,_registerComponent:aa,_removeServiceInstance:IM,_serverApps:cu,deleteApp:O0,getApp:CM,getApps:PM,initializeApp:k0,initializeServerApp:RM,onLog:F1,registerVersion:Lr,setLogLevel:z1},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e,t){this._delegate=e,this.firebase=t,$h(e,new mi("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),O0(this._delegate)))}_getService(e,t=ia){var r;this._delegate.checkDestroyed();const s=this._delegate.container.getProvider(e);return!s.isInitialized()&&((r=s.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&s.initialize(),s.getImmediate({identifier:t})}_removeServiceInstance(e,t=ia){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){$h(this._delegate,e)}_addOrOverwriteComponent(e){L1(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},pS=new jo("app-compat","Firebase",qM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HM(n){const e={},t={__esModule:!0,initializeApp:o,app:s,registerVersion:Lr,setLogLevel:z1,onLog:F1,apps:null,SDK_VERSION:ga,INTERNAL:{registerComponent:h,removeApp:r,useAsService:f,modularAPIs:FM}};t.default=t,Object.defineProperty(t,"apps",{get:u});function r(m){delete e[m]}function s(m){if(m=m||ia,!sS(e,m))throw pS.create("no-app",{appName:m});return e[m]}s.App=n;function o(m,y={}){const v=k0(m,y);if(sS(e,v.name))return e[v.name];const b=new n(v,t);return e[v.name]=b,b}function u(){return Object.keys(e).map(m=>e[m])}function h(m){const y=m.name,v=y.replace("-compat","");if(aa(m)&&m.type==="PUBLIC"){const b=(x=s())=>{if(typeof x[v]!="function")throw pS.create("invalid-app-argument",{appName:y});return x[v]()};m.serviceProps!==void 0&&im(b,m.serviceProps),t[v]=b,n.prototype[v]=function(...x){return this._getService.bind(this,y).apply(this,m.multipleInstances?x:[])}}return m.type==="PUBLIC"?t[v]:null}function f(m,y){return y==="serverAuth"?null:y}return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(){const n=HM(zM);n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:G1,extendNamespace:e,createSubscribe:N1,ErrorFactory:jo,deepExtend:im});function e(t){im(n,t)}return n}const GM=G1();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS=new Fm("@firebase/app-compat"),$M="@firebase/app-compat",KM="0.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QM(n){Lr($M,KM,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const n=R0();if(n.firebase!==void 0){mS.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=n.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&mS.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const Uo=GM;QM();var WM="firebase",YM="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Uo.registerVersion(WM,YM,"app-compat");const ah={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},jl={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XM(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function $1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JM=XM,ZM=$1,K1=new jo("auth","Firebase",$1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am=new Fm("@firebase/auth");function eL(n,...e){am.logLevel<=ze.WARN&&am.warn(`Auth (${ga}): ${n}`,...e)}function Np(n,...e){am.logLevel<=ze.ERROR&&am.error(`Auth (${ga}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(n,...e){throw M0(n,...e)}function rn(n,...e){return M0(n,...e)}function V0(n,e,t){const r=Object.assign(Object.assign({},ZM()),{[e]:t});return new jo("auth","Firebase",r).create(e,{appName:n.name})}function pn(n){return V0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ju(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&bn(n,"argument-error"),V0(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function M0(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return K1.create(n,...e)}function ue(n,e,...t){if(!n)throw M0(e,...t)}function li(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Np(e),new Error(e)}function jr(n,e){n||li(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function L0(){return gS()==="http:"||gS()==="https:"}function gS(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(L0()||R1()||"connection"in navigator)?navigator.onLine:!0}function nL(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,t){this.shortDelay=e,this.longDelay=t,jr(t>e,"Short delay should be less than long delay!"),this.isMobile=vV()||P0()}get(){return tL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(n,e){jr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;li("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;li("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;li("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],sL=new Ed(3e4,6e4);function Mt(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Lt(n,e,t,r,s={}){return W1(n,s,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const h=Lu(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:f},o);return TV()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&vd(n.emulatorConfig.host)&&(m.credentials="include"),Q1.fetch()(await Y1(n,n.config.apiHost,t,h),m)})}async function W1(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},rL),e);try{const s=new oL(n),o=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw yh(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[f,m]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw yh(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw yh(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw yh(n,"user-disabled",u);const y=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw V0(n,y,m);bn(n,y)}}catch(s){if(s instanceof jn)throw s;bn(n,"network-request-failed",{message:String(s)})}}async function ss(n,e,t,r,s={}){const o=await Lt(n,e,t,r,s);return"mfaPendingCredential"in o&&bn(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function Y1(n,e,t,r){const s=`${e}${t}?${r}`,o=n,u=o.config.emulator?j0(n.config,s):`${n.config.apiScheme}://${s}`;return iL.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function aL(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class oL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(rn(this.auth,"network-request-failed")),sL.get())})}}function yh(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=rn(n,e,r);return s.customData._tokenResponse=t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(n){return n!==void 0&&n.getResponse!==void 0}function _S(n){return n!==void 0&&n.enterprise!==void 0}class X1{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return aL(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lL(n){return(await Lt(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function J1(n,e){return Lt(n,"GET","/v2/recaptchaConfig",Mt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uL(n,e){return Lt(n,"POST","/v1/accounts:delete",e)}async function cL(n,e){return Lt(n,"POST","/v1/accounts:update",e)}async function om(n,e){return Lt(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function hL(n,e=!1){const t=xe(n),r=await t.getIdToken(e),s=zm(r);ue(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:Sh(G_(s.auth_time)),issuedAtTime:Sh(G_(s.iat)),expirationTime:Sh(G_(s.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function G_(n){return Number(n)*1e3}function zm(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Np("JWT malformed, contained fewer than 3 sections"),null;try{const s=x0(t);return s?JSON.parse(s):(Np("Failed to decode base64 JWT payload"),null)}catch(s){return Np("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function vS(n){const e=zm(n);return ue(e,"internal-error"),ue(typeof e.exp<"u","internal-error"),ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ts(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof jn&&dL(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function dL({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sh(this.lastLoginAt),this.creationTime=Sh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wh(n){var e;const t=n.auth,r=await n.getIdToken(),s=await ts(n,om(t,{idToken:r}));ue(s==null?void 0:s.users.length,t,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Z1(o.providerUserInfo):[],h=mL(n.providerData,u),f=n.isAnonymous,m=!(n.email&&o.passwordHash)&&!(h!=null&&h.length),y=f?m:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Rv(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(n,v)}async function pL(n){const e=xe(n);await Wh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mL(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Z1(n){return n.map(e=>{var{providerId:t}=e,r=T0(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gL(n,e){const t=await W1(n,{},async()=>{const r=Lu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,u=await Y1(n,s,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",Q1.fetch()(u,{method:"POST",headers:h,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function yL(n,e){return Lt(n,"POST","/v2/accounts:revokeToken",Mt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ue(e.idToken,"internal-error"),ue(typeof e.idToken<"u","internal-error"),ue(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ue(e.length!==0,"internal-error");const t=vS(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:o}=await gL(e,t);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:o}=t,u=new Jl;return r&&(ue(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(ue(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),o&&(ue(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Jl,this.toJSON())}_performRefresh(){return li("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bs(n,e){ue(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Vr{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,o=T0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Rv(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await ts(this,this.stsTokenManager.getToken(this.auth,e));return ue(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return hL(this,e)}reload(){return pL(this)}_assign(e){this!==e&&(ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Vr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Wh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tt(this.auth.app))return Promise.reject(pn(this.auth));const e=await this.getIdToken();return await ts(this,uL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,o,u,h,f,m,y;const v=(r=t.displayName)!==null&&r!==void 0?r:void 0,b=(s=t.email)!==null&&s!==void 0?s:void 0,x=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,R=(u=t.photoURL)!==null&&u!==void 0?u:void 0,N=(h=t.tenantId)!==null&&h!==void 0?h:void 0,M=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,H=(m=t.createdAt)!==null&&m!==void 0?m:void 0,z=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:W,emailVerified:ne,isAnonymous:ae,providerData:ce,stsTokenManager:P}=t;ue(W&&P,e,"internal-error");const A=Jl.fromJSON(this.name,P);ue(typeof W=="string",e,"internal-error"),Bs(v,e.name),Bs(b,e.name),ue(typeof ne=="boolean",e,"internal-error"),ue(typeof ae=="boolean",e,"internal-error"),Bs(x,e.name),Bs(R,e.name),Bs(N,e.name),Bs(M,e.name),Bs(H,e.name),Bs(z,e.name);const C=new Vr({uid:W,auth:e,email:b,emailVerified:ne,displayName:v,isAnonymous:ae,photoURL:R,phoneNumber:x,tenantId:N,stsTokenManager:A,createdAt:H,lastLoginAt:z});return ce&&Array.isArray(ce)&&(C.providerData=ce.map(O=>Object.assign({},O))),M&&(C._redirectEventId=M),C}static async _fromIdTokenResponse(e,t,r=!1){const s=new Jl;s.updateFromServerResponse(t);const o=new Vr({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Wh(o),o}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];ue(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?Z1(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),h=new Jl;h.updateFromIdToken(r);const f=new Vr({uid:s.localId,auth:e,stsTokenManager:h,isAnonymous:u}),m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Rv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES=new Map;function lr(n){jr(n instanceof Function,"Expected a class definition");let e=ES.get(n);return e?(jr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,ES.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}eR.type="NONE";const du=eR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function To(n,e,t){return`firebase:${n}:${e}:${t}`}class Zl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=To(this.userKey,s.apiKey,o),this.fullPersistenceKey=To("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await om(this.auth,{idToken:e}).catch(()=>{});return t?Vr._fromGetAccountInfoResponse(this.auth,t,e):null}return Vr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Zl(lr(du),e,r);const s=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=s[0]||lr(du);const u=To(r,e.config.apiKey,e.name);let h=null;for(const m of t)try{const y=await m._get(u);if(y){let v;if(typeof y=="string"){const b=await om(e,{idToken:y}).catch(()=>{});if(!b)break;v=await Vr._fromGetAccountInfoResponse(e,b,y)}else v=Vr._fromJSON(e,y);m!==o&&(h=v),o=m;break}}catch{}const f=s.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Zl(o,e,r):(o=f[0],h&&await o._set(u,h.toJSON()),await Promise.all(t.map(async m=>{if(m!==o)try{await m._remove(u)}catch{}})),new Zl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sR(e))return"Blackberry";if(aR(e))return"Webos";if(nR(e))return"Safari";if((e.includes("chrome/")||rR(e))&&!e.includes("edge/"))return"Chrome";if(Td(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function tR(n=Ct()){return/firefox\//i.test(n)}function nR(n=Ct()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rR(n=Ct()){return/crios\//i.test(n)}function iR(n=Ct()){return/iemobile/i.test(n)}function Td(n=Ct()){return/android/i.test(n)}function sR(n=Ct()){return/blackberry/i.test(n)}function aR(n=Ct()){return/webos/i.test(n)}function wd(n=Ct()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function _L(n=Ct()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}function vL(n=Ct()){var e;return wd(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function EL(){return C1()&&document.documentMode===10}function oR(n=Ct()){return wd(n)||Td(n)||aR(n)||sR(n)||/windows phone/i.test(n)||iR(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(n,e=[]){let t;switch(n){case"Browser":t=TS(Ct());break;case"Worker":t=`${TS(Ct())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ga}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((u,h)=>{try{const f=e(o);u(f)}catch(f){h(f)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wL(n,e={}){return Lt(n,"GET","/v2/passwordPolicy",Mt(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL=6;class IL{constructor(e){var t,r,s,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:bL,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,o,u,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(s=f.containsLowercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wS(this),this.idTokenSubscription=new wS(this),this.beforeStateQueue=new TL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=K1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=lr(t)),this._initializationPromise=this.queue(async()=>{var r,s,o;if(!this._deleted&&(this.persistenceManager=await Zl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await om(this,{idToken:e}),r=await Vr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Tt(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=s==null?void 0:s._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===h)&&(f!=null&&f.user)&&(s=f.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Wh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=nL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tt(this.app))return Promise.reject(pn(this));const t=e?xe(e):null;return t&&ue(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tt(this.app)?Promise.reject(pn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tt(this.app)?Promise.reject(pn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(lr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await wL(this),t=new IL(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new jo("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await yL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&lr(e)||this._popupRedirectResolver;ue(t,this,"argument-error"),this.redirectPersistenceManager=await Zl.create(this,[lr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(ue(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,s);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(Tt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&eL(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Pt(n){return xe(n)}class wS{constructor(e){this.auth=e,this.observer=null,this.addObserver=N1(t=>this.observer=t)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function AL(n){bd=n}function U0(n){return bd.loadJS(n)}function xL(){return bd.recaptchaV2Script}function RL(){return bd.recaptchaEnterpriseScript}function CL(){return bd.gapiScript}function uR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL=500,DL=6e4,gp=1e12;class NL{constructor(e){this.auth=e,this.counter=gp,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new VL(e,this.auth.name,t||{})),this.counter++,r}reset(e){var t;const r=e||gp;(t=this._widgets.get(r))===null||t===void 0||t.delete(),this._widgets.delete(r)}getResponse(e){var t;const r=e||gp;return((t=this._widgets.get(r))===null||t===void 0?void 0:t.getResponse())||""}async execute(e){var t;const r=e||gp;return(t=this._widgets.get(r))===null||t===void 0||t.execute(),""}}class kL{constructor(){this.enterprise=new OL}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class OL{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class VL{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const s=typeof e=="string"?document.getElementById(e):e;ue(s,"argument-error",{appName:t}),this.container=s,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=ML(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},DL)},PL))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function ML(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const LL="recaptcha-enterprise",Ah="NO_RECAPTCHA";class cR{constructor(e){this.type=LL,this.auth=Pt(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,h)=>{J1(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new X1(f);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,u(m.siteKey)}}).catch(f=>{h(f)})})}function s(o,u,h){const f=window.grecaptcha;_S(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(m=>{u(m)}).catch(()=>{u(Ah)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new kL().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(h=>{if(!t&&_S(window.grecaptcha))s(h,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=RL();f.length!==0&&(f+=h),U0(f).then(()=>{s(h,o,u)}).catch(m=>{u(m)})}}).catch(h=>{u(h)})})}}async function oh(n,e,t,r=!1,s=!1){const o=new cR(n);let u;if(s)u=Ah;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Js(n,e,t,r,s){var o,u;if(s==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await oh(n,e,t,t==="getOobCode");return r(n,h)}else return r(n,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await oh(n,e,t,t==="getOobCode");return r(n,f)}else return Promise.reject(h)});else if(s==="PHONE_PROVIDER")if(!((u=n._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("PHONE_PROVIDER")){const h=await oh(n,e,t);return r(n,h).catch(async f=>{var m;if(((m=n._getRecaptchaConfig())===null||m===void 0?void 0:m.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(f.code==="auth/missing-recaptcha-token"||f.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const y=await oh(n,e,t,!1,!0);return r(n,y)}return Promise.reject(f)})}else{const h=await oh(n,e,t,!1,!0);return r(n,h)}else return Promise.reject(s+" provider is not supported.")}async function jL(n){const e=Pt(n),t=await J1(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new X1(t);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new cR(e).verify()}function UL(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(lr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function BL(n,e,t){const r=Pt(n);ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(t!=null&&t.disableWarnings),o=hR(e),{host:u,port:h}=FL(e),f=h===null?"":`:${h}`,m={url:`${o}//${u}${f}/`},y=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ue(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ue(ra(m,r.config.emulator)&&ra(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,vd(u)?(S1(`${o}//${u}${f}`),A1("Auth",!0)):s||zL()}function hR(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function FL(n){const e=hR(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:bS(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:bS(u)}}}function bS(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function zL(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return li("not implemented")}_getIdTokenResponse(e){return li("not implemented")}_linkToIdToken(e,t){return li("not implemented")}_getReauthenticationResolver(e){return li("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dR(n,e){return Lt(n,"POST","/v1/accounts:resetPassword",Mt(n,e))}async function qL(n,e){return Lt(n,"POST","/v1/accounts:update",e)}async function HL(n,e){return Lt(n,"POST","/v1/accounts:signUp",e)}async function GL(n,e){return Lt(n,"POST","/v1/accounts:update",Mt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $L(n,e){return ss(n,"POST","/v1/accounts:signInWithPassword",Mt(n,e))}async function qm(n,e){return Lt(n,"POST","/v1/accounts:sendOobCode",Mt(n,e))}async function KL(n,e){return qm(n,e)}async function QL(n,e){return qm(n,e)}async function WL(n,e){return qm(n,e)}async function YL(n,e){return qm(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XL(n,e){return ss(n,"POST","/v1/accounts:signInWithEmailLink",Mt(n,e))}async function JL(n,e){return ss(n,"POST","/v1/accounts:signInWithEmailLink",Mt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh extends Uu{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Yh(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Yh(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Js(e,t,"signInWithPassword",$L,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return XL(e,{email:this._email,oobCode:this._password});default:bn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Js(e,r,"signUpPassword",HL,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return JL(e,{idToken:t,email:this._email,oobCode:this._password});default:bn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ji(n,e){return ss(n,"POST","/v1/accounts:signInWithIdp",Mt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL="http://localhost";class gi extends Uu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new gi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):bn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,o=T0(t,["providerId","signInMethod"]);if(!r||!s)return null;const u=new gi(r,s);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Ji(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ji(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ji(e,t)}buildRequest(){const e={requestUri:ZL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Lu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IS(n,e){return Lt(n,"POST","/v1/accounts:sendVerificationCode",Mt(n,e))}async function e4(n,e){return ss(n,"POST","/v1/accounts:signInWithPhoneNumber",Mt(n,e))}async function t4(n,e){const t=await ss(n,"POST","/v1/accounts:signInWithPhoneNumber",Mt(n,e));if(t.temporaryProof)throw yh(n,"account-exists-with-different-credential",t);return t}const n4={USER_NOT_FOUND:"user-not-found"};async function r4(n,e){const t=Object.assign(Object.assign({},e),{operation:"REAUTH"});return ss(n,"POST","/v1/accounts:signInWithPhoneNumber",Mt(n,t),n4)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo extends Uu{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new wo({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new wo({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return e4(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return t4(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return r4(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:s}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:s}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:s,temporaryProof:o}=e;return!r&&!t&&!s&&!o?null:new wo({verificationId:t,verificationCode:r,phoneNumber:s,temporaryProof:o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function s4(n){const e=Xl(gh(n)).link,t=e?Xl(gh(e)).deep_link_id:null,r=Xl(gh(n)).deep_link_id;return(r?Xl(gh(r)).link:null)||r||t||e||n}class Hm{constructor(e){var t,r,s,o,u,h;const f=Xl(gh(e)),m=(t=f.apiKey)!==null&&t!==void 0?t:null,y=(r=f.oobCode)!==null&&r!==void 0?r:null,v=i4((s=f.mode)!==null&&s!==void 0?s:null);ue(m&&y&&v,"argument-error"),this.apiKey=m,this.operation=v,this.code=y,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=f.lang)!==null&&u!==void 0?u:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=s4(e);try{return new Hm(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(){this.providerId=ya.PROVIDER_ID}static credential(e,t){return Yh._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Hm.parseLink(t);return ue(r,"argument-error"),Yh._fromEmailAndCode(e,r.code,r.tenantId)}}ya.PROVIDER_ID="password";ya.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ya.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu extends as{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class eu extends Bu{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return ue("providerId"in t&&"signInMethod"in t,"argument-error"),gi._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return ue(e.idToken||e.accessToken,"argument-error"),gi._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return eu.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return eu.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:s,pendingToken:o,nonce:u,providerId:h}=e;if(!r&&!s&&!t&&!o||!h)return null;try{return new eu(h)._credential({idToken:t,accessToken:r,nonce:u,pendingToken:o})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii extends Bu{constructor(){super("facebook.com")}static credential(e){return gi._fromParams({providerId:ii.PROVIDER_ID,signInMethod:ii.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ii.credentialFromTaggedObject(e)}static credentialFromError(e){return ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ii.credential(e.oauthAccessToken)}catch{return null}}}ii.FACEBOOK_SIGN_IN_METHOD="facebook.com";ii.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si extends Bu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return gi._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return si.credential(t,r)}catch{return null}}}si.GOOGLE_SIGN_IN_METHOD="google.com";si.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai extends Bu{constructor(){super("github.com")}static credential(e){return gi._fromParams({providerId:ai.PROVIDER_ID,signInMethod:ai.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ai.credentialFromTaggedObject(e)}static credentialFromError(e){return ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ai.credential(e.oauthAccessToken)}catch{return null}}}ai.GITHUB_SIGN_IN_METHOD="github.com";ai.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4="http://localhost";class fu extends Uu{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return Ji(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ji(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ji(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,pendingToken:o}=t;return!r||!s||!o||r!==s?null:new fu(r,o)}static _create(e,t){return new fu(e,t)}buildRequest(){return{requestUri:a4,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4="saml.";class lm extends as{constructor(e){ue(e.startsWith(o4),"argument-error"),super(e)}static credentialFromResult(e){return lm.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return lm.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=fu.fromJSON(e);return ue(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return fu._create(r,t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi extends Bu{constructor(){super("twitter.com")}static credential(e,t){return gi._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return oi.credentialFromTaggedObject(e)}static credentialFromError(e){return oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return oi.credential(t,r)}catch{return null}}}oi.TWITTER_SIGN_IN_METHOD="twitter.com";oi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fR(n,e){return ss(n,"POST","/v1/accounts:signUp",Mt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const o=await Vr._fromIdTokenResponse(e,r,s),u=SS(r);return new Ar({user:o,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=SS(r);return new Ar({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function SS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l4(n){var e;if(Tt(n.app))return Promise.reject(pn(n));const t=Pt(n);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new Ar({user:t.currentUser,providerId:null,operationType:"signIn"});const r=await fR(t,{returnSecureToken:!0}),s=await Ar._fromIdTokenResponse(t,"signIn",r,!0);return await t._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um extends jn{constructor(e,t,r,s){var o;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,um.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new um(e,t,r,s)}}function pR(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?um._fromErrorAndOperation(n,o,e,r):o})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u4(n,e){const t=xe(n);await Gm(!0,t,e);const{providerUserInfo:r}=await cL(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),s=mR(r||[]);return t.providerData=t.providerData.filter(o=>s.has(o.providerId)),s.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function B0(n,e,t=!1){const r=await ts(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ar._forOperation(n,"link",r)}async function Gm(n,e,t){await Wh(e);const r=mR(e.providerData),s=n===!1?"provider-already-linked":"no-such-provider";ue(r.has(t)===n,e.auth,s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gR(n,e,t=!1){const{auth:r}=n;if(Tt(r.app))return Promise.reject(pn(r));const s="reauthenticate";try{const o=await ts(n,pR(r,s,e,n),t);ue(o.idToken,r,"internal-error");const u=zm(o.idToken);ue(u,r,"internal-error");const{sub:h}=u;return ue(n.uid===h,r,"user-mismatch"),Ar._forOperation(n,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&bn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yR(n,e,t=!1){if(Tt(n.app))return Promise.reject(pn(n));const r="signIn",s=await pR(n,r,e),o=await Ar._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(o.user),o}async function $m(n,e){return yR(Pt(n),e)}async function _R(n,e){const t=xe(n);return await Gm(!1,t,e.providerId),B0(t,e)}async function vR(n,e){return gR(xe(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c4(n,e){return ss(n,"POST","/v1/accounts:signInWithCustomToken",Mt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h4(n,e){if(Tt(n.app))return Promise.reject(pn(n));const t=Pt(n),r=await c4(t,{token:e,returnSecureToken:!0}),s=await Ar._fromIdTokenResponse(t,"signIn",r);return await t._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?F0._fromServerResponse(e,t):"totpInfo"in t?z0._fromServerResponse(e,t):bn(e,"internal-error")}}class F0 extends Id{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new F0(t)}}class z0 extends Id{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new z0(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Km(n,e,t){var r;ue(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),ue(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),ue(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(ue(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(ue(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q0(n){const e=Pt(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function d4(n,e,t){const r=Pt(n),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&Km(r,s,t),await Js(r,s,"getOobCode",QL,"EMAIL_PASSWORD_PROVIDER")}async function f4(n,e,t){await dR(xe(n),{oobCode:e,newPassword:t}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&q0(n),r})}async function p4(n,e){await GL(xe(n),{oobCode:e})}async function ER(n,e){const t=xe(n),r=await dR(t,{oobCode:e}),s=r.requestType;switch(ue(s,t,"internal-error"),s){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ue(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ue(r.mfaInfo,t,"internal-error");default:ue(r.email,t,"internal-error")}let o=null;return r.mfaInfo&&(o=Id._fromServerResponse(Pt(t),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:o},operation:s}}async function m4(n,e){const{data:t}=await ER(xe(n),e);return t.email}async function g4(n,e,t){if(Tt(n.app))return Promise.reject(pn(n));const r=Pt(n),u=await Js(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",fR,"EMAIL_PASSWORD_PROVIDER").catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&q0(n),f}),h=await Ar._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function y4(n,e,t){return Tt(n.app)?Promise.reject(pn(n)):$m(xe(n),ya.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&q0(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _4(n,e,t){const r=Pt(n),s={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(u,h){ue(h.handleCodeInApp,r,"argument-error"),h&&Km(r,u,h)}o(s,t),await Js(r,s,"getOobCode",WL,"EMAIL_PASSWORD_PROVIDER")}function v4(n,e){const t=Hm.parseLink(e);return(t==null?void 0:t.operation)==="EMAIL_SIGNIN"}async function E4(n,e,t){if(Tt(n.app))return Promise.reject(pn(n));const r=xe(n),s=ya.credentialWithLink(e,t||Qh());return ue(s._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),$m(r,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T4(n,e){return Lt(n,"POST","/v1/accounts:createAuthUri",Mt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w4(n,e){const t=L0()?Qh():"http://localhost",r={identifier:e,continueUri:t},{signinMethods:s}=await T4(xe(n),r);return s||[]}async function b4(n,e){const t=xe(n),s={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&Km(t.auth,s,e);const{email:o}=await KL(t.auth,s);o!==n.email&&await n.reload()}async function I4(n,e,t){const r=xe(n),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};t&&Km(r.auth,o,t);const{email:u}=await YL(r.auth,o);u!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S4(n,e){return Lt(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A4(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=xe(n),o={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await ts(r,S4(r.auth,o));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const h=r.providerData.find(({providerId:f})=>f==="password");h&&(h.displayName=r.displayName,h.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function x4(n,e){const t=xe(n);return Tt(t.auth.app)?Promise.reject(pn(t.auth)):TR(t,e,null)}function R4(n,e){return TR(xe(n),null,e)}async function TR(n,e,t){const{auth:r}=n,o={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(o.email=e),t&&(o.password=t);const u=await ts(n,qL(r,o));await n._updateTokensIfNecessary(u,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C4(n){var e,t;if(!n)return null;const{providerId:r}=n,s=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},o=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(n!=null&&n.idToken)){const u=(t=(e=zm(n.idToken))===null||e===void 0?void 0:e.firebase)===null||t===void 0?void 0:t.sign_in_provider;if(u){const h=u!=="anonymous"&&u!=="custom"?u:null;return new tu(o,h)}}if(!r)return null;switch(r){case"facebook.com":return new P4(o,s);case"github.com":return new D4(o,s);case"google.com":return new N4(o,s);case"twitter.com":return new k4(o,s,n.screenName||null);case"custom":case"anonymous":return new tu(o,null);default:return new tu(o,r,s)}}class tu{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class wR extends tu{constructor(e,t,r,s){super(e,t,r),this.username=s}}class P4 extends tu{constructor(e,t){super(e,"facebook.com",t)}}class D4 extends wR{constructor(e,t){super(e,"github.com",t,typeof(t==null?void 0:t.login)=="string"?t==null?void 0:t.login:null)}}class N4 extends tu{constructor(e,t){super(e,"google.com",t)}}class k4 extends wR{constructor(e,t,r){super(e,"twitter.com",t,r)}}function O4(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:C4(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new mo("enroll",e,t)}static _fromMfaPendingCredential(e){return new mo("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(e!=null&&e.multiFactorSession){if(!((t=e.multiFactorSession)===null||t===void 0)&&t.pendingCredential)return mo._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return mo._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=Pt(e),s=t.customData._serverResponse,o=(s.mfaInfo||[]).map(h=>Id._fromServerResponse(r,h));ue(s.mfaPendingCredential,r,"internal-error");const u=mo._fromMfaPendingCredential(s.mfaPendingCredential);return new H0(u,o,async h=>{const f=await h._process(r,u);delete s.mfaInfo,delete s.mfaPendingCredential;const m=Object.assign(Object.assign({},s),{idToken:f.idToken,refreshToken:f.refreshToken});switch(t.operationType){case"signIn":const y=await Ar._fromIdTokenResponse(r,t.operationType,m);return await r._updateCurrentUser(y.user),y;case"reauthenticate":return ue(t.user,r,"internal-error"),Ar._forOperation(t.user,t.operationType,m);default:bn(r,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function V4(n,e){var t;const r=xe(n),s=e;return ue(e.customData.operationType,r,"argument-error"),ue((t=s.customData._serverResponse)===null||t===void 0?void 0:t.mfaPendingCredential,r,"argument-error"),H0._fromError(r,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(n,e){return Lt(n,"POST","/v2/accounts/mfaEnrollment:start",Mt(n,e))}function M4(n,e){return Lt(n,"POST","/v2/accounts/mfaEnrollment:finalize",Mt(n,e))}function L4(n,e){return Lt(n,"POST","/v2/accounts/mfaEnrollment:withdraw",Mt(n,e))}class G0{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>Id._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new G0(e)}async getSession(){return mo._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const r=e,s=await this.getSession(),o=await ts(this.user,r._process(this.user.auth,s,t));return await this.user._updateTokensIfNecessary(o),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const s=await ts(this.user,L4(this.user.auth,{idToken:r,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:o})=>o!==t),await this.user._updateTokensIfNecessary(s),await this.user.reload()}catch(s){throw s}}}const $_=new WeakMap;function j4(n){const e=xe(n);return $_.has(e)||$_.set(e,G0._fromUser(e)),$_.get(e)}const cm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(cm,"1"),this.storage.removeItem(cm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4=1e3,B4=10;class IR extends bR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=oR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);EL()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,B4):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},U4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}IR.type="LOCAL";const $0=IR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR extends bR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}SR.type="SESSION";const So=SR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F4(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new Qm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:o}=t.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const h=Array.from(u).map(async m=>m(t.origin,o)),f=await F4(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sd(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,u;return new Promise((h,f)=>{const m=Sd("",20);s.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(v){const b=v;if(b.data.eventId===m)switch(b.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(b.data.response);break;default:clearTimeout(y),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(){return window}function q4(n){Yt().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(){return typeof Yt().WorkerGlobalScope<"u"&&typeof Yt().importScripts=="function"}async function H4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function G4(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function $4(){return K0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR="firebaseLocalStorageDb",K4=1,hm="firebaseLocalStorage",xR="fbase_key";class Ad{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Wm(n,e){return n.transaction([hm],e?"readwrite":"readonly").objectStore(hm)}function Q4(){const n=indexedDB.deleteDatabase(AR);return new Ad(n).toPromise()}function Cv(){const n=indexedDB.open(AR,K4);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(hm,{keyPath:xR})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(hm)?e(r):(r.close(),await Q4(),e(await Cv()))})})}async function xS(n,e,t){const r=Wm(n,!0).put({[xR]:e,value:t});return new Ad(r).toPromise()}async function W4(n,e){const t=Wm(n,!1).get(e),r=await new Ad(t).toPromise();return r===void 0?null:r.value}function RS(n,e){const t=Wm(n,!0).delete(e);return new Ad(t).toPromise()}const Y4=800,X4=3;class RR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cv(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>X4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return K0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qm._getInstance($4()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await H4(),!this.activeServiceWorker)return;this.sender=new z4(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||G4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cv();return await xS(e,cm,"1"),await RS(e,cm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>xS(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>W4(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>RS(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=Wm(s,!1).getAll();return new Ad(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Y4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}RR.type="LOCAL";const Xh=RR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(n,e){return Lt(n,"POST","/v2/accounts/mfaSignIn:start",Mt(n,e))}function J4(n,e){return Lt(n,"POST","/v2/accounts/mfaSignIn:finalize",Mt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_=uR("rcb"),Z4=new Ed(3e4,6e4);class e6{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=Yt().grecaptcha)===null||e===void 0)&&e.render)}load(e,t=""){return ue(t6(t),e,"argument-error"),this.shouldResolveImmediately(t)&&yS(Yt().grecaptcha)?Promise.resolve(Yt().grecaptcha):new Promise((r,s)=>{const o=Yt().setTimeout(()=>{s(rn(e,"network-request-failed"))},Z4.get());Yt()[K_]=()=>{Yt().clearTimeout(o),delete Yt()[K_];const h=Yt().grecaptcha;if(!h||!yS(h)){s(rn(e,"internal-error"));return}const f=h.render;h.render=(m,y)=>{const v=f(m,y);return this.counter++,v},this.hostLanguage=t,r(h)};const u=`${xL()}?${Lu({onload:K_,render:"explicit",hl:t})}`;U0(u).catch(()=>{clearTimeout(o),s(rn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(!((t=Yt().grecaptcha)===null||t===void 0)&&t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function t6(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class n6{async load(e){return new NL(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh="recaptcha",r6={theme:"light",type:"image"};let i6=class{constructor(e,t,r=Object.assign({},r6)){this.parameters=r,this.type=xh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Pt(e),this.isInvisible=this.parameters.size==="invisible",ue(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const s=typeof t=="string"?document.getElementById(t):t;ue(s,this.auth,"argument-error"),this.container=s,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new n6:new e6,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),r=t.getResponse(e);return r||new Promise(s=>{const o=u=>{u&&(this.tokenChangeListeners.delete(o),s(u))};this.tokenChangeListeners.add(o),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){ue(!this.parameters.sitekey,this.auth,"argument-error"),ue(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ue(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),typeof e=="function")e(t);else if(typeof e=="string"){const r=Yt()[e];typeof r=="function"&&r(t)}}}assertNotDestroyed(){ue(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){ue(L0()&&!K0(),this.auth,"internal-error"),await s6(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await lL(this.auth);ue(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return ue(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function s6(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=wo._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function a6(n,e,t){if(Tt(n.app))return Promise.reject(pn(n));const r=Pt(n),s=await Ym(r,e,xe(t));return new Q0(s,o=>$m(r,o))}async function o6(n,e,t){const r=xe(n);await Gm(!1,r,"phone");const s=await Ym(r.auth,e,xe(t));return new Q0(s,o=>_R(r,o))}async function l6(n,e,t){const r=xe(n);if(Tt(r.auth.app))return Promise.reject(pn(r.auth));const s=await Ym(r.auth,e,xe(t));return new Q0(s,o=>vR(r,o))}async function Ym(n,e,t){var r;if(!n._getRecaptchaConfig())try{await jL(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const o=s.session;if("phoneNumber"in s){ue(o.type==="enroll",n,"internal-error");const u={idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Js(n,u,"mfaSmsEnrollment",async(y,v)=>{if(v.phoneEnrollmentInfo.captchaResponse===Ah){ue((t==null?void 0:t.type)===xh,y,"argument-error");const b=await Q_(y,v,t);return AS(y,b)}return AS(y,v)},"PHONE_PROVIDER").catch(y=>Promise.reject(y))).phoneSessionInfo.sessionInfo}else{ue(o.type==="signin",n,"internal-error");const u=((r=s.multiFactorHint)===null||r===void 0?void 0:r.uid)||s.multiFactorUid;ue(u,n,"missing-multi-factor-info");const h={mfaPendingCredential:o.credential,mfaEnrollmentId:u,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Js(n,h,"mfaSmsSignIn",async(v,b)=>{if(b.phoneSignInInfo.captchaResponse===Ah){ue((t==null?void 0:t.type)===xh,v,"argument-error");const x=await Q_(v,b,t);return CS(v,x)}return CS(v,b)},"PHONE_PROVIDER").catch(v=>Promise.reject(v))).phoneResponseInfo.sessionInfo}}else{const o={phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Js(n,o,"sendVerificationCode",async(m,y)=>{if(y.captchaResponse===Ah){ue((t==null?void 0:t.type)===xh,m,"argument-error");const v=await Q_(m,y,t);return IS(m,v)}return IS(m,y)},"PHONE_PROVIDER").catch(m=>Promise.reject(m))).sessionInfo}}finally{t==null||t._reset()}}async function u6(n,e){const t=xe(n);if(Tt(t.auth.app))return Promise.reject(pn(t.auth));await B0(t,e)}async function Q_(n,e,t){ue(t.type===xh,n,"argument-error");const r=await t.verify();ue(typeof r=="string",n,"argument-error");const s=Object.assign({},e);if("phoneEnrollmentInfo"in s){const o=s.phoneEnrollmentInfo.phoneNumber,u=s.phoneEnrollmentInfo.captchaResponse,h=s.phoneEnrollmentInfo.clientType,f=s.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r,captchaResponse:u,clientType:h,recaptchaVersion:f}}),s}else if("phoneSignInInfo"in s){const o=s.phoneSignInInfo.captchaResponse,u=s.phoneSignInInfo.clientType,h=s.phoneSignInInfo.recaptchaVersion;return Object.assign(s,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:o,clientType:u,recaptchaVersion:h}}),s}else return Object.assign(s,{recaptchaToken:r}),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ao=class kp{constructor(e){this.providerId=kp.PROVIDER_ID,this.auth=Pt(e)}verifyPhoneNumber(e,t){return Ym(this.auth,e,xe(t))}static credential(e,t){return wo._fromVerification(e,t)}static credentialFromResult(e){const t=e;return kp.credentialFromTaggedObject(t)}static credentialFromError(e){return kp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:r}=e;return t&&r?wo._fromTokenResponse(t,r):null}};Ao.PROVIDER_ID="phone";Ao.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bo(n,e){return e?lr(e):(ue(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0 extends Uu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ji(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ji(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ji(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function c6(n){return yR(n.auth,new W0(n),n.bypassAuthState)}function h6(n){const{auth:e,user:t}=n;return ue(t,e,"internal-error"),gR(t,new W0(n),n.bypassAuthState)}async function d6(n){const{auth:e,user:t}=n;return ue(t,e,"internal-error"),B0(t,new W0(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e,t,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:o,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return c6;case"linkViaPopup":case"linkViaRedirect":return d6;case"reauthViaPopup":case"reauthViaRedirect":return h6;default:bn(this.auth,"internal-error")}}resolve(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6=new Ed(2e3,1e4);async function p6(n,e,t){if(Tt(n.app))return Promise.reject(rn(n,"operation-not-supported-in-this-environment"));const r=Pt(n);ju(n,e,as);const s=Bo(r,t);return new Wi(r,"signInViaPopup",e,s).executeNotNull()}async function m6(n,e,t){const r=xe(n);if(Tt(r.auth.app))return Promise.reject(rn(r.auth,"operation-not-supported-in-this-environment"));ju(r.auth,e,as);const s=Bo(r.auth,t);return new Wi(r.auth,"reauthViaPopup",e,s,r).executeNotNull()}async function g6(n,e,t){const r=xe(n);ju(r.auth,e,as);const s=Bo(r.auth,t);return new Wi(r.auth,"linkViaPopup",e,s,r).executeNotNull()}class Wi extends CR{constructor(e,t,r,s,o){super(e,t,s,o),this.provider=r,this.authWindow=null,this.pollId=null,Wi.currentPopupAction&&Wi.currentPopupAction.cancel(),Wi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ue(e,this.auth,"internal-error"),e}async onExecution(){jr(this.filter.length===1,"Popup operations only handle one event");const e=Sd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(rn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(rn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(rn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,f6.get())};e()}}Wi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y6="pendingRedirect",Rh=new Map;class _6 extends CR{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Rh.get(this.auth._key());if(!e){try{const r=await v6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Rh.set(this.auth._key(),e)}return this.bypassAuthState||Rh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function v6(n,e){const t=DR(e),r=PR(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}async function Y0(n,e){return PR(n)._set(DR(e),"true")}function E6(){Rh.clear()}function X0(n,e){Rh.set(n._key(),e)}function PR(n){return lr(n._redirectPersistence)}function DR(n){return To(y6,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T6(n,e,t){return w6(n,e,t)}async function w6(n,e,t){if(Tt(n.app))return Promise.reject(pn(n));const r=Pt(n);ju(n,e,as),await r._initializationPromise;const s=Bo(r,t);return await Y0(s,r),s._openRedirect(r,e,"signInViaRedirect")}function b6(n,e,t){return I6(n,e,t)}async function I6(n,e,t){const r=xe(n);if(ju(r.auth,e,as),Tt(r.auth.app))return Promise.reject(pn(r.auth));await r.auth._initializationPromise;const s=Bo(r.auth,t);await Y0(s,r.auth);const o=await NR(r);return s._openRedirect(r.auth,e,"reauthViaRedirect",o)}function S6(n,e,t){return A6(n,e,t)}async function A6(n,e,t){const r=xe(n);ju(r.auth,e,as),await r.auth._initializationPromise;const s=Bo(r.auth,t);await Gm(!1,r,e.providerId),await Y0(s,r.auth);const o=await NR(r);return s._openRedirect(r.auth,e,"linkViaRedirect",o)}async function x6(n,e){return await Pt(n)._initializationPromise,Xm(n,e,!1)}async function Xm(n,e,t=!1){if(Tt(n.app))return Promise.reject(pn(n));const r=Pt(n),s=Bo(r,e),u=await new _6(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}async function NR(n){const e=Sd(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6=10*60*1e3;class kR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!C6(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!OR(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(rn(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=R6&&this.cachedEventUids.clear(),this.cachedEventUids.has(PS(e))}saveEventToCache(e){this.cachedEventUids.add(PS(e)),this.lastProcessedEventTime=Date.now()}}function PS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function OR({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function C6(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return OR(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VR(n,e={}){return Lt(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,D6=/^https?/;async function N6(n){if(n.config.emulator)return;const{authorizedDomains:e}=await VR(n);for(const t of e)try{if(k6(t))return}catch{}bn(n,"unauthorized-domain")}function k6(n){const e=Qh(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!D6.test(t))return!1;if(P6.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O6=new Ed(3e4,6e4);function DS(){const n=Yt().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function V6(n){return new Promise((e,t)=>{var r,s,o;function u(){DS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{DS(),t(rn(n,"network-request-failed"))},timeout:O6.get()})}if(!((s=(r=Yt().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=Yt().gapi)===null||o===void 0)&&o.load)u();else{const h=uR("iframefcb");return Yt()[h]=()=>{gapi.load?u():t(rn(n,"network-request-failed"))},U0(`${CL()}?onload=${h}`).catch(f=>t(f))}}).catch(e=>{throw Op=null,e})}let Op=null;function M6(n){return Op=Op||V6(n),Op}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L6=new Ed(5e3,15e3),j6="__/auth/iframe",U6="emulator/auth/iframe",B6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},F6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function z6(n){const e=n.config;ue(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?j0(e,U6):`https://${n.config.authDomain}/${j6}`,r={apiKey:e.apiKey,appName:n.name,v:ga},s=F6.get(n.config.apiHost);s&&(r.eid=s);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Lu(r).slice(1)}`}async function q6(n){const e=await M6(n),t=Yt().gapi;return ue(t,n,"internal-error"),e.open({where:document.body,url:z6(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:B6,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const u=rn(n,"network-request-failed"),h=Yt().setTimeout(()=>{o(u)},L6.get());function f(){Yt().clearTimeout(h),s(r)}r.ping(f).then(f,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},G6=500,$6=600,K6="_blank",Q6="http://localhost";class NS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function W6(n,e,t,r=G6,s=$6){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f=Object.assign(Object.assign({},H6),{width:r.toString(),height:s.toString(),top:o,left:u}),m=Ct().toLowerCase();t&&(h=rR(m)?K6:t),tR(m)&&(e=e||Q6,f.scrollbars="yes");const y=Object.entries(f).reduce((b,[x,R])=>`${b}${x}=${R},`,"");if(vL(m)&&h!=="_self")return Y6(e||"",h),new NS(null);const v=window.open(e||"",h,y);ue(v,n,"popup-blocked");try{v.focus()}catch{}return new NS(v)}function Y6(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X6="__/auth/handler",J6="emulator/auth/handler",Z6=encodeURIComponent("fac");async function Pv(n,e,t,r,s,o){ue(n.config.authDomain,n,"auth-domain-config-required"),ue(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ga,eventId:s};if(e instanceof as){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",AV(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries(o||{}))u[y]=v}if(e instanceof Bu){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(u.scopes=y.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const f=await n._getAppCheckToken(),m=f?`#${Z6}=${encodeURIComponent(f)}`:"";return`${e3(n)}?${Lu(h).slice(1)}${m}`}function e3({config:n}){return n.emulator?j0(n,J6):`https://${n.authDomain}/${X6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="webStorageSupport";class t3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=So,this._completeRedirectFn=Xm,this._overrideRedirectResult=X0}async _openPopup(e,t,r,s){var o;jr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await Pv(e,t,r,Qh(),s);return W6(e,u,Sd())}async _openRedirect(e,t,r,s){await this._originValidation(e);const o=await Pv(e,t,r,Qh(),s);return q4(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:o}=this.eventManagers[t];return s?Promise.resolve(s):(jr(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await q6(e),r=new kR(e);return t.register("authEvent",s=>(ue(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(W_,{type:W_},s=>{var o;const u=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[W_];u!==void 0&&t(!!u),bn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=N6(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return oR()||nR()||wd()}}const n3=t3;class r3{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return li("unexpected MultiFactorSessionType")}}}class J0 extends r3{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new J0(e)}_finalizeEnroll(e,t,r){return M4(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return J4(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class MR{constructor(){}static assertion(e){return J0._fromCredential(e)}}MR.FACTOR_ID="phone";var kS="@firebase/auth",OS="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s3(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function a3(n){aa(new mi("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;ue(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lR(n)},m=new SL(r,s,o,f);return UL(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),aa(new mi("auth-internal",e=>{const t=Pt(e.getProvider("auth").getImmediate());return(r=>new i3(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Lr(kS,OS,s3(n)),Lr(kS,OS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3=5*60;pV("authIdTokenMaxAge");function l3(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}AL({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const o=rn("internal-error");o.customData=s,t(o)},r.type="text/javascript",r.charset="UTF-8",l3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});a3("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3=2e3;async function c3(n,e,t){var r;const{BuildInfo:s}=xo();jr(e.sessionId,"AuthEvent did not contain a session ID");const o=await m3(e.sessionId),u={};return wd()?u.ibi=s.packageName:Td()?u.apn=s.packageName:bn(n,"operation-not-supported-in-this-environment"),s.displayName&&(u.appDisplayName=s.displayName),u.sessionId=o,Pv(n,t,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,u)}async function h3(n){const{BuildInfo:e}=xo(),t={};wd()?t.iosBundleId=e.packageName:Td()?t.androidPackageName=e.packageName:bn(n,"operation-not-supported-in-this-environment"),await VR(n,t)}function d3(n){const{cordova:e}=xo();return new Promise(t=>{e.plugins.browsertab.isAvailable(r=>{let s=null;r?e.plugins.browsertab.openUrl(n):s=e.InAppBrowser.open(n,_L()?"_blank":"_system","location=yes"),t(s)})})}async function f3(n,e,t){const{cordova:r}=xo();let s=()=>{};try{await new Promise((o,u)=>{let h=null;function f(){var v;o();const b=(v=r.plugins.browsertab)===null||v===void 0?void 0:v.close;typeof b=="function"&&b(),typeof(t==null?void 0:t.close)=="function"&&t.close()}function m(){h||(h=window.setTimeout(()=>{u(rn(n,"redirect-cancelled-by-user"))},u3))}function y(){(document==null?void 0:document.visibilityState)==="visible"&&m()}e.addPassiveListener(f),document.addEventListener("resume",m,!1),Td()&&document.addEventListener("visibilitychange",y,!1),s=()=>{e.removePassiveListener(f),document.removeEventListener("resume",m,!1),document.removeEventListener("visibilitychange",y,!1),h&&window.clearTimeout(h)}})}finally{s()}}function p3(n){var e,t,r,s,o,u,h,f,m,y;const v=xo();ue(typeof((e=v==null?void 0:v.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ue(typeof((t=v==null?void 0:v.BuildInfo)===null||t===void 0?void 0:t.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ue(typeof((o=(s=(r=v==null?void 0:v.cordova)===null||r===void 0?void 0:r.plugins)===null||s===void 0?void 0:s.browsertab)===null||o===void 0?void 0:o.openUrl)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ue(typeof((f=(h=(u=v==null?void 0:v.cordova)===null||u===void 0?void 0:u.plugins)===null||h===void 0?void 0:h.browsertab)===null||f===void 0?void 0:f.isAvailable)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ue(typeof((y=(m=v==null?void 0:v.cordova)===null||m===void 0?void 0:m.InAppBrowser)===null||y===void 0?void 0:y.open)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function m3(n){const e=g3(n),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(s=>s.toString(16).padStart(2,"0")).join("")}function g3(n){if(jr(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3=20;class _3 extends kR{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function v3(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:w3(),postBody:null,tenantId:n.tenantId,error:rn(n,"no-auth-event")}}function E3(n,e){return Dv()._set(Nv(n),e)}async function VS(n){const e=await Dv()._get(Nv(n));return e&&await Dv()._remove(Nv(n)),e}function T3(n,e){var t,r;const s=I3(e);if(s.includes("/__/auth/callback")){const o=Vp(s),u=o.firebaseError?b3(decodeURIComponent(o.firebaseError)):null,h=(r=(t=u==null?void 0:u.code)===null||t===void 0?void 0:t.split("auth/"))===null||r===void 0?void 0:r[1],f=h?rn(h):null;return f?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:f,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:s,postBody:null}}return null}function w3(){const n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<y3;t++){const r=Math.floor(Math.random()*e.length);n.push(e.charAt(r))}return n.join("")}function Dv(){return lr($0)}function Nv(n){return To("authEvent",n.config.apiKey,n.name)}function b3(n){try{return JSON.parse(n)}catch{return null}}function I3(n){const e=Vp(n),t=e.link?decodeURIComponent(e.link):void 0,r=Vp(t).link,s=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Vp(s).link||s||r||t||n}function Vp(n){if(!(n!=null&&n.includes("?")))return{};const[e,...t]=n.split("?");return Xl(t.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3=500;class A3{constructor(){this._redirectPersistence=So,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Xm,this._overrideRedirectResult=X0}async _initialize(e){const t=e._key();let r=this.eventManagers.get(t);return r||(r=new _3(e),this.eventManagers.set(t,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){bn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,r,s){p3(e);const o=await this._initialize(e);await o.initialized(),o.resetRedirect(),E6(),await this._originValidation(e);const u=v3(e,r,s);await E3(e,u);const h=await c3(e,u,t),f=await d3(h);return f3(e,o,f)}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=h3(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:r,handleOpenURL:s,BuildInfo:o}=xo(),u=setTimeout(async()=>{await VS(e),t.onEvent(MS())},S3),h=async y=>{clearTimeout(u);const v=await VS(e);let b=null;v&&(y!=null&&y.url)&&(b=T3(v,y.url)),t.onEvent(b||MS())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,h);const f=s,m=`${o.packageName.toLowerCase()}://`;xo().handleOpenURL=async y=>{if(y.toLowerCase().startsWith(m)&&h({url:y}),typeof f=="function")try{f(y)}catch(v){console.error(v)}}}}const x3=A3;function MS(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:rn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R3(n,e){Pt(n)._logFramework(e)}var C3="@firebase/auth-compat",P3="0.5.26";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3=1e3;function Ch(){var n;return((n=self==null?void 0:self.location)===null||n===void 0?void 0:n.protocol)||null}function N3(){return Ch()==="http:"||Ch()==="https:"}function LR(n=Ct()){return!!((Ch()==="file:"||Ch()==="ionic:"||Ch()==="capacitor:")&&n.toLowerCase().match(/iphone|ipad|ipod|android/))}function k3(){return P0()||Bm()}function O3(){return C1()&&(document==null?void 0:document.documentMode)===11}function V3(n=Ct()){return/Edge\/\d+/.test(n)}function M3(n=Ct()){return O3()||V3(n)}function jR(){try{const n=self.localStorage,e=Sd();if(n)return n.setItem(e,"1"),n.removeItem(e),M3()?Gh():!0}catch{return Z0()&&Gh()}return!1}function Z0(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Y_(){return(N3()||R1()||LR())&&!k3()&&jR()&&!Z0()}function UR(){return LR()&&typeof document<"u"}async function L3(){return UR()?new Promise(n=>{const e=setTimeout(()=>{n(!1)},D3);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})}):!1}function j3(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or={LOCAL:"local",NONE:"none",SESSION:"session"},lh=ue,BR="persistence";function U3(n,e){if(lh(Object.values(or).includes(e),n,"invalid-persistence-type"),P0()){lh(e!==or.SESSION,n,"unsupported-persistence-type");return}if(Bm()){lh(e===or.NONE,n,"unsupported-persistence-type");return}if(Z0()){lh(e===or.NONE||e===or.LOCAL&&Gh(),n,"unsupported-persistence-type");return}lh(e===or.NONE||jR(),n,"unsupported-persistence-type")}async function kv(n){await n._initializationPromise;const e=FR(),t=To(BR,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistenceType())}function B3(n,e){const t=FR();if(!t)return[];const r=To(BR,n,e);switch(t.getItem(r)){case or.NONE:return[du];case or.LOCAL:return[Xh,So];case or.SESSION:return[So];default:return[]}}function FR(){var n;try{return((n=j3())===null||n===void 0?void 0:n.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3=ue;class Qs{constructor(){this.browserResolver=lr(n3),this.cordovaResolver=lr(x3),this.underlyingResolver=null,this._redirectPersistence=So,this._completeRedirectFn=Xm,this._overrideRedirectResult=X0}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,r,s){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,r,s)}async _openRedirect(e,t,r,s){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,r,s)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return UR()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return F3(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await L3();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(n){return n.unwrap()}function z3(n){return n.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q3(n){return qR(n)}function H3(n,e){var t;const r=(t=e.customData)===null||t===void 0?void 0:t._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const s=e;s.resolver=new G3(n,V4(n,e))}else if(r){const s=qR(e),o=e;s&&(o.credential=s,o.tenantId=r.tenantId||void 0,o.email=r.email||void 0,o.phoneNumber=r.phoneNumber||void 0)}}function qR(n){const{_tokenResponse:e}=n instanceof jn?n.customData:n;if(!e)return null;if(!(n instanceof jn)&&"temporaryProof"in e&&"phoneNumber"in e)return Ao.credentialFromResult(n);const t=e.providerId;if(!t||t===ah.PASSWORD)return null;let r;switch(t){case ah.GOOGLE:r=si;break;case ah.FACEBOOK:r=ii;break;case ah.GITHUB:r=ai;break;case ah.TWITTER:r=oi;break;default:const{oauthIdToken:s,oauthAccessToken:o,oauthTokenSecret:u,pendingToken:h,nonce:f}=e;return!o&&!u&&!s&&!h?null:h?t.startsWith("saml.")?fu._create(t,h):gi._fromParams({providerId:t,signInMethod:t,pendingToken:h,idToken:s,accessToken:o}):new eu(t).credential({idToken:s,accessToken:o,rawNonce:f})}return n instanceof jn?r.credentialFromError(n):r.credentialFromResult(n)}function Hn(n,e){return e.catch(t=>{throw t instanceof jn&&H3(n,t),t}).then(t=>{const r=t.operationType,s=t.user;return{operationType:r,credential:q3(t),additionalUserInfo:O4(t),user:Jm.getOrCreate(s)}})}async function Ov(n,e){const t=await e;return{verificationId:t.verificationId,confirm:r=>Hn(n,t.confirm(r))}}class G3{constructor(e,t){this.resolver=t,this.auth=z3(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Hn(zR(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jm=class _h{constructor(e){this._delegate=e,this.multiFactor=j4(e)}static getOrCreate(e){return _h.USER_MAP.has(e)||_h.USER_MAP.set(e,new _h(e)),_h.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Hn(this.auth,_R(this._delegate,e))}async linkWithPhoneNumber(e,t){return Ov(this.auth,o6(this._delegate,e,t))}async linkWithPopup(e){return Hn(this.auth,g6(this._delegate,e,Qs))}async linkWithRedirect(e){return await kv(Pt(this.auth)),S6(this._delegate,e,Qs)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Hn(this.auth,vR(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return Ov(this.auth,l6(this._delegate,e,t))}reauthenticateWithPopup(e){return Hn(this.auth,m6(this._delegate,e,Qs))}async reauthenticateWithRedirect(e){return await kv(Pt(this.auth)),b6(this._delegate,e,Qs)}sendEmailVerification(e){return b4(this._delegate,e)}async unlink(e){return await u4(this._delegate,e),this}updateEmail(e){return x4(this._delegate,e)}updatePassword(e){return R4(this._delegate,e)}updatePhoneNumber(e){return u6(this._delegate,e)}updateProfile(e){return A4(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return I4(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};Jm.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh=ue;class Vv{constructor(e,t){if(this.app=e,t.isInitialized()){this._delegate=t.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;uh(r,"invalid-api-key",{appName:e.name}),uh(r,"invalid-api-key",{appName:e.name});const s=typeof window<"u"?Qs:void 0;this._delegate=t.initialize({options:{persistence:$3(r,e.name),popupRedirectResolver:s}}),this._delegate._updateErrorMap(JM),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Jm.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){BL(this._delegate,e,t)}applyActionCode(e){return p4(this._delegate,e)}checkActionCode(e){return ER(this._delegate,e)}confirmPasswordReset(e,t){return f4(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return Hn(this._delegate,g4(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return w4(this._delegate,e)}isSignInWithEmailLink(e){return v4(this._delegate,e)}async getRedirectResult(){uh(Y_(),this._delegate,"operation-not-supported-in-this-environment");const e=await x6(this._delegate,Qs);return e?Hn(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){R3(this._delegate,e)}onAuthStateChanged(e,t,r){const{next:s,error:o,complete:u}=LS(e,t,r);return this._delegate.onAuthStateChanged(s,o,u)}onIdTokenChanged(e,t,r){const{next:s,error:o,complete:u}=LS(e,t,r);return this._delegate.onIdTokenChanged(s,o,u)}sendSignInLinkToEmail(e,t){return _4(this._delegate,e,t)}sendPasswordResetEmail(e,t){return d4(this._delegate,e,t||void 0)}async setPersistence(e){U3(this._delegate,e);let t;switch(e){case or.SESSION:t=So;break;case or.LOCAL:t=await lr(Xh)._isAvailable()?Xh:$0;break;case or.NONE:t=du;break;default:return bn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Hn(this._delegate,l4(this._delegate))}signInWithCredential(e){return Hn(this._delegate,$m(this._delegate,e))}signInWithCustomToken(e){return Hn(this._delegate,h4(this._delegate,e))}signInWithEmailAndPassword(e,t){return Hn(this._delegate,y4(this._delegate,e,t))}signInWithEmailLink(e,t){return Hn(this._delegate,E4(this._delegate,e,t))}signInWithPhoneNumber(e,t){return Ov(this._delegate,a6(this._delegate,e,t))}async signInWithPopup(e){return uh(Y_(),this._delegate,"operation-not-supported-in-this-environment"),Hn(this._delegate,p6(this._delegate,e,Qs))}async signInWithRedirect(e){return uh(Y_(),this._delegate,"operation-not-supported-in-this-environment"),await kv(this._delegate),T6(this._delegate,e,Qs)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return m4(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}Vv.Persistence=or;function LS(n,e,t){let r=n;typeof n!="function"&&({next:r,error:e,complete:t}=n);const s=r;return{next:u=>s(u&&Jm.getOrCreate(u)),error:e,complete:t}}function $3(n,e){const t=B3(n,e);if(typeof self<"u"&&!t.includes(Xh)&&t.push(Xh),typeof window<"u")for(const r of[$0,So])t.includes(r)||t.push(r);return t.includes(du)||t.push(du),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{static credential(e,t){return Ao.credential(e,t)}constructor(){this.providerId="phone",this._delegate=new Ao(zR(Uo.auth()))}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}eE.PHONE_SIGN_IN_METHOD=Ao.PHONE_SIGN_IN_METHOD;eE.PROVIDER_ID=Ao.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3=ue;class Q3{constructor(e,t,r=Uo.app()){var s;K3((s=r.options)===null||s===void 0?void 0:s.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new i6(r.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3="auth-compat";function Y3(n){n.INTERNAL.registerComponent(new mi(W3,e=>{const t=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new Vv(t,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:jl.EMAIL_SIGNIN,PASSWORD_RESET:jl.PASSWORD_RESET,RECOVER_EMAIL:jl.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:jl.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:jl.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:jl.VERIFY_EMAIL}},EmailAuthProvider:ya,FacebookAuthProvider:ii,GithubAuthProvider:ai,GoogleAuthProvider:si,OAuthProvider:eu,SAMLAuthProvider:lm,PhoneAuthProvider:eE,PhoneMultiFactorGenerator:MR,RecaptchaVerifier:Q3,TwitterAuthProvider:oi,Auth:Vv,AuthCredential:Uu,Error:jn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion(C3,P3)}Y3(Uo);var jS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zs,HR;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,A){function C(){}C.prototype=A.prototype,P.D=A.prototype,P.prototype=new C,P.prototype.constructor=P,P.C=function(O,L,U){for(var D=Array(arguments.length-2),St=2;St<arguments.length;St++)D[St-2]=arguments[St];return A.prototype[L].apply(O,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(P,A,C){C||(C=0);var O=Array(16);if(typeof A=="string")for(var L=0;16>L;++L)O[L]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(L=0;16>L;++L)O[L]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=P.g[0],C=P.g[1],L=P.g[2];var U=P.g[3],D=A+(U^C&(L^U))+O[0]+3614090360&4294967295;A=C+(D<<7&4294967295|D>>>25),D=U+(L^A&(C^L))+O[1]+3905402710&4294967295,U=A+(D<<12&4294967295|D>>>20),D=L+(C^U&(A^C))+O[2]+606105819&4294967295,L=U+(D<<17&4294967295|D>>>15),D=C+(A^L&(U^A))+O[3]+3250441966&4294967295,C=L+(D<<22&4294967295|D>>>10),D=A+(U^C&(L^U))+O[4]+4118548399&4294967295,A=C+(D<<7&4294967295|D>>>25),D=U+(L^A&(C^L))+O[5]+1200080426&4294967295,U=A+(D<<12&4294967295|D>>>20),D=L+(C^U&(A^C))+O[6]+2821735955&4294967295,L=U+(D<<17&4294967295|D>>>15),D=C+(A^L&(U^A))+O[7]+4249261313&4294967295,C=L+(D<<22&4294967295|D>>>10),D=A+(U^C&(L^U))+O[8]+1770035416&4294967295,A=C+(D<<7&4294967295|D>>>25),D=U+(L^A&(C^L))+O[9]+2336552879&4294967295,U=A+(D<<12&4294967295|D>>>20),D=L+(C^U&(A^C))+O[10]+4294925233&4294967295,L=U+(D<<17&4294967295|D>>>15),D=C+(A^L&(U^A))+O[11]+2304563134&4294967295,C=L+(D<<22&4294967295|D>>>10),D=A+(U^C&(L^U))+O[12]+1804603682&4294967295,A=C+(D<<7&4294967295|D>>>25),D=U+(L^A&(C^L))+O[13]+4254626195&4294967295,U=A+(D<<12&4294967295|D>>>20),D=L+(C^U&(A^C))+O[14]+2792965006&4294967295,L=U+(D<<17&4294967295|D>>>15),D=C+(A^L&(U^A))+O[15]+1236535329&4294967295,C=L+(D<<22&4294967295|D>>>10),D=A+(L^U&(C^L))+O[1]+4129170786&4294967295,A=C+(D<<5&4294967295|D>>>27),D=U+(C^L&(A^C))+O[6]+3225465664&4294967295,U=A+(D<<9&4294967295|D>>>23),D=L+(A^C&(U^A))+O[11]+643717713&4294967295,L=U+(D<<14&4294967295|D>>>18),D=C+(U^A&(L^U))+O[0]+3921069994&4294967295,C=L+(D<<20&4294967295|D>>>12),D=A+(L^U&(C^L))+O[5]+3593408605&4294967295,A=C+(D<<5&4294967295|D>>>27),D=U+(C^L&(A^C))+O[10]+38016083&4294967295,U=A+(D<<9&4294967295|D>>>23),D=L+(A^C&(U^A))+O[15]+3634488961&4294967295,L=U+(D<<14&4294967295|D>>>18),D=C+(U^A&(L^U))+O[4]+3889429448&4294967295,C=L+(D<<20&4294967295|D>>>12),D=A+(L^U&(C^L))+O[9]+568446438&4294967295,A=C+(D<<5&4294967295|D>>>27),D=U+(C^L&(A^C))+O[14]+3275163606&4294967295,U=A+(D<<9&4294967295|D>>>23),D=L+(A^C&(U^A))+O[3]+4107603335&4294967295,L=U+(D<<14&4294967295|D>>>18),D=C+(U^A&(L^U))+O[8]+1163531501&4294967295,C=L+(D<<20&4294967295|D>>>12),D=A+(L^U&(C^L))+O[13]+2850285829&4294967295,A=C+(D<<5&4294967295|D>>>27),D=U+(C^L&(A^C))+O[2]+4243563512&4294967295,U=A+(D<<9&4294967295|D>>>23),D=L+(A^C&(U^A))+O[7]+1735328473&4294967295,L=U+(D<<14&4294967295|D>>>18),D=C+(U^A&(L^U))+O[12]+2368359562&4294967295,C=L+(D<<20&4294967295|D>>>12),D=A+(C^L^U)+O[5]+4294588738&4294967295,A=C+(D<<4&4294967295|D>>>28),D=U+(A^C^L)+O[8]+2272392833&4294967295,U=A+(D<<11&4294967295|D>>>21),D=L+(U^A^C)+O[11]+1839030562&4294967295,L=U+(D<<16&4294967295|D>>>16),D=C+(L^U^A)+O[14]+4259657740&4294967295,C=L+(D<<23&4294967295|D>>>9),D=A+(C^L^U)+O[1]+2763975236&4294967295,A=C+(D<<4&4294967295|D>>>28),D=U+(A^C^L)+O[4]+1272893353&4294967295,U=A+(D<<11&4294967295|D>>>21),D=L+(U^A^C)+O[7]+4139469664&4294967295,L=U+(D<<16&4294967295|D>>>16),D=C+(L^U^A)+O[10]+3200236656&4294967295,C=L+(D<<23&4294967295|D>>>9),D=A+(C^L^U)+O[13]+681279174&4294967295,A=C+(D<<4&4294967295|D>>>28),D=U+(A^C^L)+O[0]+3936430074&4294967295,U=A+(D<<11&4294967295|D>>>21),D=L+(U^A^C)+O[3]+3572445317&4294967295,L=U+(D<<16&4294967295|D>>>16),D=C+(L^U^A)+O[6]+76029189&4294967295,C=L+(D<<23&4294967295|D>>>9),D=A+(C^L^U)+O[9]+3654602809&4294967295,A=C+(D<<4&4294967295|D>>>28),D=U+(A^C^L)+O[12]+3873151461&4294967295,U=A+(D<<11&4294967295|D>>>21),D=L+(U^A^C)+O[15]+530742520&4294967295,L=U+(D<<16&4294967295|D>>>16),D=C+(L^U^A)+O[2]+3299628645&4294967295,C=L+(D<<23&4294967295|D>>>9),D=A+(L^(C|~U))+O[0]+4096336452&4294967295,A=C+(D<<6&4294967295|D>>>26),D=U+(C^(A|~L))+O[7]+1126891415&4294967295,U=A+(D<<10&4294967295|D>>>22),D=L+(A^(U|~C))+O[14]+2878612391&4294967295,L=U+(D<<15&4294967295|D>>>17),D=C+(U^(L|~A))+O[5]+4237533241&4294967295,C=L+(D<<21&4294967295|D>>>11),D=A+(L^(C|~U))+O[12]+1700485571&4294967295,A=C+(D<<6&4294967295|D>>>26),D=U+(C^(A|~L))+O[3]+2399980690&4294967295,U=A+(D<<10&4294967295|D>>>22),D=L+(A^(U|~C))+O[10]+4293915773&4294967295,L=U+(D<<15&4294967295|D>>>17),D=C+(U^(L|~A))+O[1]+2240044497&4294967295,C=L+(D<<21&4294967295|D>>>11),D=A+(L^(C|~U))+O[8]+1873313359&4294967295,A=C+(D<<6&4294967295|D>>>26),D=U+(C^(A|~L))+O[15]+4264355552&4294967295,U=A+(D<<10&4294967295|D>>>22),D=L+(A^(U|~C))+O[6]+2734768916&4294967295,L=U+(D<<15&4294967295|D>>>17),D=C+(U^(L|~A))+O[13]+1309151649&4294967295,C=L+(D<<21&4294967295|D>>>11),D=A+(L^(C|~U))+O[4]+4149444226&4294967295,A=C+(D<<6&4294967295|D>>>26),D=U+(C^(A|~L))+O[11]+3174756917&4294967295,U=A+(D<<10&4294967295|D>>>22),D=L+(A^(U|~C))+O[2]+718787259&4294967295,L=U+(D<<15&4294967295|D>>>17),D=C+(U^(L|~A))+O[9]+3951481745&4294967295,P.g[0]=P.g[0]+A&4294967295,P.g[1]=P.g[1]+(L+(D<<21&4294967295|D>>>11))&4294967295,P.g[2]=P.g[2]+L&4294967295,P.g[3]=P.g[3]+U&4294967295}r.prototype.u=function(P,A){A===void 0&&(A=P.length);for(var C=A-this.blockSize,O=this.B,L=this.h,U=0;U<A;){if(L==0)for(;U<=C;)s(this,P,U),U+=this.blockSize;if(typeof P=="string"){for(;U<A;)if(O[L++]=P.charCodeAt(U++),L==this.blockSize){s(this,O),L=0;break}}else for(;U<A;)if(O[L++]=P[U++],L==this.blockSize){s(this,O),L=0;break}}this.h=L,this.o+=A},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var A=1;A<P.length-8;++A)P[A]=0;var C=8*this.o;for(A=P.length-8;A<P.length;++A)P[A]=C&255,C/=256;for(this.u(P),P=Array(16),A=C=0;4>A;++A)for(var O=0;32>O;O+=8)P[C++]=this.g[A]>>>O&255;return P};function o(P,A){var C=h;return Object.prototype.hasOwnProperty.call(C,P)?C[P]:C[P]=A(P)}function u(P,A){this.h=A;for(var C=[],O=!0,L=P.length-1;0<=L;L--){var U=P[L]|0;O&&U==A||(C[L]=U,O=!1)}this.g=C}var h={};function f(P){return-128<=P&&128>P?o(P,function(A){return new u([A|0],0>A?-1:0)}):new u([P|0],0>P?-1:0)}function m(P){if(isNaN(P)||!isFinite(P))return v;if(0>P)return M(m(-P));for(var A=[],C=1,O=0;P>=C;O++)A[O]=P/C|0,C*=4294967296;return new u(A,0)}function y(P,A){if(P.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(P.charAt(0)=="-")return M(y(P.substring(1),A));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=m(Math.pow(A,8)),O=v,L=0;L<P.length;L+=8){var U=Math.min(8,P.length-L),D=parseInt(P.substring(L,L+U),A);8>U?(U=m(Math.pow(A,U)),O=O.j(U).add(m(D))):(O=O.j(C),O=O.add(m(D)))}return O}var v=f(0),b=f(1),x=f(16777216);n=u.prototype,n.m=function(){if(N(this))return-M(this).m();for(var P=0,A=1,C=0;C<this.g.length;C++){var O=this.i(C);P+=(0<=O?O:4294967296+O)*A,A*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(R(this))return"0";if(N(this))return"-"+M(this).toString(P);for(var A=m(Math.pow(P,6)),C=this,O="";;){var L=ne(C,A).g;C=H(C,L.j(A));var U=((0<C.g.length?C.g[0]:C.h)>>>0).toString(P);if(C=L,R(C))return U+O;for(;6>U.length;)U="0"+U;O=U+O}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function R(P){if(P.h!=0)return!1;for(var A=0;A<P.g.length;A++)if(P.g[A]!=0)return!1;return!0}function N(P){return P.h==-1}n.l=function(P){return P=H(this,P),N(P)?-1:R(P)?0:1};function M(P){for(var A=P.g.length,C=[],O=0;O<A;O++)C[O]=~P.g[O];return new u(C,~P.h).add(b)}n.abs=function(){return N(this)?M(this):this},n.add=function(P){for(var A=Math.max(this.g.length,P.g.length),C=[],O=0,L=0;L<=A;L++){var U=O+(this.i(L)&65535)+(P.i(L)&65535),D=(U>>>16)+(this.i(L)>>>16)+(P.i(L)>>>16);O=D>>>16,U&=65535,D&=65535,C[L]=D<<16|U}return new u(C,C[C.length-1]&-2147483648?-1:0)};function H(P,A){return P.add(M(A))}n.j=function(P){if(R(this)||R(P))return v;if(N(this))return N(P)?M(this).j(M(P)):M(M(this).j(P));if(N(P))return M(this.j(M(P)));if(0>this.l(x)&&0>P.l(x))return m(this.m()*P.m());for(var A=this.g.length+P.g.length,C=[],O=0;O<2*A;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(var L=0;L<P.g.length;L++){var U=this.i(O)>>>16,D=this.i(O)&65535,St=P.i(L)>>>16,ot=P.i(L)&65535;C[2*O+2*L]+=D*ot,z(C,2*O+2*L),C[2*O+2*L+1]+=U*ot,z(C,2*O+2*L+1),C[2*O+2*L+1]+=D*St,z(C,2*O+2*L+1),C[2*O+2*L+2]+=U*St,z(C,2*O+2*L+2)}for(O=0;O<A;O++)C[O]=C[2*O+1]<<16|C[2*O];for(O=A;O<2*A;O++)C[O]=0;return new u(C,0)};function z(P,A){for(;(P[A]&65535)!=P[A];)P[A+1]+=P[A]>>>16,P[A]&=65535,A++}function W(P,A){this.g=P,this.h=A}function ne(P,A){if(R(A))throw Error("division by zero");if(R(P))return new W(v,v);if(N(P))return A=ne(M(P),A),new W(M(A.g),M(A.h));if(N(A))return A=ne(P,M(A)),new W(M(A.g),A.h);if(30<P.g.length){if(N(P)||N(A))throw Error("slowDivide_ only works with positive integers.");for(var C=b,O=A;0>=O.l(P);)C=ae(C),O=ae(O);var L=ce(C,1),U=ce(O,1);for(O=ce(O,2),C=ce(C,2);!R(O);){var D=U.add(O);0>=D.l(P)&&(L=L.add(C),U=D),O=ce(O,1),C=ce(C,1)}return A=H(P,L.j(A)),new W(L,A)}for(L=v;0<=P.l(A);){for(C=Math.max(1,Math.floor(P.m()/A.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),U=m(C),D=U.j(A);N(D)||0<D.l(P);)C-=O,U=m(C),D=U.j(A);R(U)&&(U=b),L=L.add(U),P=H(P,D)}return new W(L,P)}n.A=function(P){return ne(this,P).h},n.and=function(P){for(var A=Math.max(this.g.length,P.g.length),C=[],O=0;O<A;O++)C[O]=this.i(O)&P.i(O);return new u(C,this.h&P.h)},n.or=function(P){for(var A=Math.max(this.g.length,P.g.length),C=[],O=0;O<A;O++)C[O]=this.i(O)|P.i(O);return new u(C,this.h|P.h)},n.xor=function(P){for(var A=Math.max(this.g.length,P.g.length),C=[],O=0;O<A;O++)C[O]=this.i(O)^P.i(O);return new u(C,this.h^P.h)};function ae(P){for(var A=P.g.length+1,C=[],O=0;O<A;O++)C[O]=P.i(O)<<1|P.i(O-1)>>>31;return new u(C,P.h)}function ce(P,A){var C=A>>5;A%=32;for(var O=P.g.length-C,L=[],U=0;U<O;U++)L[U]=0<A?P.i(U+C)>>>A|P.i(U+C+1)<<32-A:P.i(U+C);return new u(L,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,HR=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=y,Zs=u}).apply(typeof jS<"u"?jS:typeof self<"u"?self:typeof window<"u"?window:{});var yp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var GR,vh,$R,Mp,Mv,KR,QR,WR;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,_,E){return d==Array.prototype||d==Object.prototype||(d[_]=E.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof yp=="object"&&yp];for(var _=0;_<d.length;++_){var E=d[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function s(d,_){if(_)e:{var E=r;d=d.split(".");for(var S=0;S<d.length-1;S++){var G=d[S];if(!(G in E))break e;E=E[G]}d=d[d.length-1],S=E[d],_=_(S),_!=S&&_!=null&&e(E,d,{configurable:!0,writable:!0,value:_})}}function o(d,_){d instanceof String&&(d+="");var E=0,S=!1,G={next:function(){if(!S&&E<d.length){var Z=E++;return{value:_(Z,d[Z]),done:!1}}return S=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}s("Array.prototype.values",function(d){return d||function(){return o(this,function(_,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(d){var _=typeof d;return _=_!="object"?_:d?Array.isArray(d)?"array":_:"null",_=="array"||_=="object"&&typeof d.length=="number"}function m(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function y(d,_,E){return d.call.apply(d.bind,arguments)}function v(d,_,E){if(!d)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,S),d.apply(_,G)}}return function(){return d.apply(_,arguments)}}function b(d,_,E){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:v,b.apply(null,arguments)}function x(d,_){var E=Array.prototype.slice.call(arguments,1);return function(){var S=E.slice();return S.push.apply(S,arguments),d.apply(this,S)}}function R(d,_){function E(){}E.prototype=_.prototype,d.aa=_.prototype,d.prototype=new E,d.prototype.constructor=d,d.Qb=function(S,G,Z){for(var fe=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)fe[Ke-2]=arguments[Ke];return _.prototype[G].apply(S,fe)}}function N(d){const _=d.length;if(0<_){const E=Array(_);for(let S=0;S<_;S++)E[S]=d[S];return E}return[]}function M(d,_){for(let E=1;E<arguments.length;E++){const S=arguments[E];if(f(S)){const G=d.length||0,Z=S.length||0;d.length=G+Z;for(let fe=0;fe<Z;fe++)d[G+fe]=S[fe]}else d.push(S)}}class H{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function z(d){return/^[\s\xa0]*$/.test(d)}function W(){var d=h.navigator;return d&&(d=d.userAgent)?d:""}function ne(d){return ne[" "](d),d}ne[" "]=function(){};var ae=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function ce(d,_,E){for(const S in d)_.call(E,d[S],S,d)}function P(d,_){for(const E in d)_.call(void 0,d[E],E,d)}function A(d){const _={};for(const E in d)_[E]=d[E];return _}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(d,_){let E,S;for(let G=1;G<arguments.length;G++){S=arguments[G];for(E in S)d[E]=S[E];for(let Z=0;Z<C.length;Z++)E=C[Z],Object.prototype.hasOwnProperty.call(S,E)&&(d[E]=S[E])}}function L(d){var _=1;d=d.split(":");const E=[];for(;0<_&&d.length;)E.push(d.shift()),_--;return d.length&&E.push(d.join(":")),E}function U(d){h.setTimeout(()=>{throw d},0)}function D(){var d=Oe;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class St{constructor(){this.h=this.g=null}add(_,E){const S=ot.get();S.set(_,E),this.h?this.h.next=S:this.g=S,this.h=S}}var ot=new H(()=>new ee,d=>d.reset());class ee{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let pe,we=!1,Oe=new St,V=()=>{const d=h.Promise.resolve(void 0);pe=()=>{d.then(ie)}};var ie=()=>{for(var d;d=D();){try{d.h.call(d.g)}catch(E){U(E)}var _=ot;_.j(d),100>_.h&&(_.h++,d.next=_.g,_.g=d)}we=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var be=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};h.addEventListener("test",E,_),h.removeEventListener("test",E,_)}catch{}return d}();function ke(d,_){if(he.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var E=this.type=d.type,S=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget){if(ae){e:{try{ne(_.nodeName);var G=!0;break e}catch{}G=!1}G||(_=null)}}else E=="mouseover"?_=d.fromElement:E=="mouseout"&&(_=d.toElement);this.relatedTarget=_,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Ae[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&ke.aa.h.call(this)}}R(ke,he);var Ae={2:"touch",3:"pen",4:"mouse"};ke.prototype.h=function(){ke.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ft="closure_listenable_"+(1e6*Math.random()|0),Ge=0;function jt(d,_,E,S,G){this.listener=d,this.proxy=null,this.src=_,this.type=E,this.capture=!!S,this.ha=G,this.key=++Ge,this.da=this.fa=!1}function ye(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ve(d){this.src=d,this.g={},this.h=0}ve.prototype.add=function(d,_,E,S,G){var Z=d.toString();d=this.g[Z],d||(d=this.g[Z]=[],this.h++);var fe=$e(d,_,S,G);return-1<fe?(_=d[fe],E||(_.fa=!1)):(_=new jt(_,this.src,Z,!!S,G),_.fa=E,d.push(_)),_};function Ne(d,_){var E=_.type;if(E in d.g){var S=d.g[E],G=Array.prototype.indexOf.call(S,_,void 0),Z;(Z=0<=G)&&Array.prototype.splice.call(S,G,1),Z&&(ye(_),d.g[E].length==0&&(delete d.g[E],d.h--))}}function $e(d,_,E,S){for(var G=0;G<d.length;++G){var Z=d[G];if(!Z.da&&Z.listener==_&&Z.capture==!!E&&Z.ha==S)return G}return-1}var Dt="closure_lm_"+(1e6*Math.random()|0),xr={};function hs(d,_,E,S,G){if(Array.isArray(_)){for(var Z=0;Z<_.length;Z++)hs(d,_[Z],E,S,G);return null}return E=qd(E),d&&d[ft]?d.K(_,E,m(S)?!!S.capture:!1,G):cr(d,_,E,!1,S,G)}function cr(d,_,E,S,G,Z){if(!_)throw Error("Invalid event type");var fe=m(G)?!!G.capture:!!G,Ke=$o(d);if(Ke||(d[Dt]=Ke=new ve(d)),E=Ke.add(_,E,S,fe,Z),E.proxy)return E;if(S=Rg(),E.proxy=S,S.src=d,S.listener=E,d.addEventListener)be||(G=fe),G===void 0&&(G=!1),d.addEventListener(_.toString(),S,G);else if(d.attachEvent)d.attachEvent(ba(_.toString()),S);else if(d.addListener&&d.removeListener)d.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Rg(){function d(E){return _.call(d.src,d.listener,E)}const _=Cg;return d}function Wu(d,_,E,S,G){if(Array.isArray(_))for(var Z=0;Z<_.length;Z++)Wu(d,_[Z],E,S,G);else S=m(S)?!!S.capture:!!S,E=qd(E),d&&d[ft]?(d=d.i,_=String(_).toString(),_ in d.g&&(Z=d.g[_],E=$e(Z,E,S,G),-1<E&&(ye(Z[E]),Array.prototype.splice.call(Z,E,1),Z.length==0&&(delete d.g[_],d.h--)))):d&&(d=$o(d))&&(_=d.g[_.toString()],d=-1,_&&(d=$e(_,E,S,G)),(E=-1<d?_[d]:null)&&Go(E))}function Go(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[ft])Ne(_.i,d);else{var E=d.type,S=d.proxy;_.removeEventListener?_.removeEventListener(E,S,d.capture):_.detachEvent?_.detachEvent(ba(E),S):_.addListener&&_.removeListener&&_.removeListener(S),(E=$o(_))?(Ne(E,d),E.h==0&&(E.src=null,_[Dt]=null)):ye(d)}}}function ba(d){return d in xr?xr[d]:xr[d]="on"+d}function Cg(d,_){if(d.da)d=!0;else{_=new ke(_,this);var E=d.listener,S=d.ha||d.src;d.fa&&Go(d),d=E.call(S,_)}return d}function $o(d){return d=d[Dt],d instanceof ve?d:null}var Yu="__closure_events_fn_"+(1e9*Math.random()>>>0);function qd(d){return typeof d=="function"?d:(d[Yu]||(d[Yu]=function(_){return d.handleEvent(_)}),d[Yu])}function Nt(){de.call(this),this.i=new ve(this),this.M=this,this.F=null}R(Nt,de),Nt.prototype[ft]=!0,Nt.prototype.removeEventListener=function(d,_,E,S){Wu(this,d,_,E,S)};function nt(d,_){var E,S=d.F;if(S)for(E=[];S;S=S.F)E.push(S);if(d=d.M,S=_.type||_,typeof _=="string")_=new he(_,d);else if(_ instanceof he)_.target=_.target||d;else{var G=_;_=new he(S,d),O(_,G)}if(G=!0,E)for(var Z=E.length-1;0<=Z;Z--){var fe=_.g=E[Z];G=Yn(fe,S,!0,_)&&G}if(fe=_.g=d,G=Yn(fe,S,!0,_)&&G,G=Yn(fe,S,!1,_)&&G,E)for(Z=0;Z<E.length;Z++)fe=_.g=E[Z],G=Yn(fe,S,!1,_)&&G}Nt.prototype.N=function(){if(Nt.aa.N.call(this),this.i){var d=this.i,_;for(_ in d.g){for(var E=d.g[_],S=0;S<E.length;S++)ye(E[S]);delete d.g[_],d.h--}}this.F=null},Nt.prototype.K=function(d,_,E,S){return this.i.add(String(d),_,!1,E,S)},Nt.prototype.L=function(d,_,E,S){return this.i.add(String(d),_,!0,E,S)};function Yn(d,_,E,S){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();for(var G=!0,Z=0;Z<_.length;++Z){var fe=_[Z];if(fe&&!fe.da&&fe.capture==E){var Ke=fe.listener,Zt=fe.ha||fe.src;fe.fa&&Ne(d.i,fe),G=Ke.call(Zt,S)!==!1&&G}}return G&&!S.defaultPrevented}function In(d,_,E){if(typeof d=="function")E&&(d=b(d,E));else if(d&&typeof d.handleEvent=="function")d=b(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:h.setTimeout(d,_||0)}function Hd(d){d.g=In(()=>{d.g=null,d.i&&(d.i=!1,Hd(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class Pg extends de{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Hd(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ia(d){de.call(this),this.h=d,this.g={}}R(Ia,de);var Sa=[];function Aa(d){ce(d.g,function(_,E){this.g.hasOwnProperty(E)&&Go(_)},d),d.g={}}Ia.prototype.N=function(){Ia.aa.N.call(this),Aa(this)},Ia.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rr=h.JSON.stringify,Ko=h.JSON.parse,xa=class{stringify(d){return h.JSON.stringify(d,void 0)}parse(d){return h.JSON.parse(d,void 0)}};function Xu(){}Xu.prototype.h=null;function Ju(d){return d.h||(d.h=d.i())}function Zu(){}var bi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ii(){he.call(this,"d")}R(Ii,he);function ec(){he.call(this,"c")}R(ec,he);var Ur={},tc=null;function ds(){return tc=tc||new Nt}Ur.La="serverreachability";function Qo(d){he.call(this,Ur.La,d)}R(Qo,he);function fs(d){const _=ds();nt(_,new Qo(_))}Ur.STAT_EVENT="statevent";function Gd(d,_){he.call(this,Ur.STAT_EVENT,d),this.stat=_}R(Gd,he);function _t(d){const _=ds();nt(_,new Gd(_,d))}Ur.Ma="timingevent";function Jt(d,_){he.call(this,Ur.Ma,d),this.size=_}R(Jt,he);function Gt(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){d()},_)}function hr(){this.g=!0}hr.prototype.xa=function(){this.g=!1};function nc(d,_,E,S,G,Z){d.info(function(){if(d.g)if(Z)for(var fe="",Ke=Z.split("&"),Zt=0;Zt<Ke.length;Zt++){var Qe=Ke[Zt].split("=");if(1<Qe.length){var on=Qe[0];Qe=Qe[1];var en=on.split("_");fe=2<=en.length&&en[1]=="type"?fe+(on+"="+Qe+"&"):fe+(on+"=redacted&")}}else fe=null;else fe=Z;return"XMLHTTP REQ ("+S+") [attempt "+G+"]: "+_+`
`+E+`
`+fe})}function Dg(d,_,E,S,G,Z,fe){d.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+G+"]: "+_+`
`+E+`
`+Z+" "+fe})}function ps(d,_,E,S){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+Ra(d,E)+(S?" "+S:"")})}function $d(d,_){d.info(function(){return"TIMEOUT: "+_})}hr.prototype.info=function(){};function Ra(d,_){if(!d.g)return _;if(!_)return null;try{var E=JSON.parse(_);if(E){for(d=0;d<E.length;d++)if(Array.isArray(E[d])){var S=E[d];if(!(2>S.length)){var G=S[1];if(Array.isArray(G)&&!(1>G.length)){var Z=G[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var fe=1;fe<G.length;fe++)G[fe]=""}}}}return Rr(E)}catch{return _}}var ms={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Si={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Br;function Fr(){}R(Fr,Xu),Fr.prototype.g=function(){return new XMLHttpRequest},Fr.prototype.i=function(){return{}},Br=new Fr;function Nn(d,_,E,S){this.j=d,this.i=_,this.l=E,this.R=S||1,this.U=new Ia(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ut}function Ut(){this.i=null,this.g="",this.h=!1}var rc={},Wo={};function Cr(d,_,E){d.L=1,d.v=ka(Xn(_)),d.m=E,d.P=!0,Ai(d,null)}function Ai(d,_){d.F=Date.now(),Ca(d),d.A=Xn(d.v);var E=d.A,S=d.R;Array.isArray(S)||(S=[String(S)]),uc(E.i,"t",S),d.C=0,E=d.j.J,d.h=new Ut,d.g=uf(d.j,E?_:null,!d.m),0<d.O&&(d.M=new Pg(b(d.Y,d,d.g),d.O)),_=d.U,E=d.g,S=d.ca;var G="readystatechange";Array.isArray(G)||(G&&(Sa[0]=G.toString()),G=Sa);for(var Z=0;Z<G.length;Z++){var fe=hs(E,G[Z],S||_.handleEvent,!1,_.h||_);if(!fe)break;_.g[fe.key]=fe}_=d.H?A(d.H):{},d.m?(d.u||(d.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,_)):(d.u="GET",d.g.ea(d.A,d.u,null,_)),fs(),nc(d.i,d.u,d.A,d.l,d.R,d.m)}Nn.prototype.ca=function(d){d=d.target;const _=this.M;_&&mr(d)==3?_.j():this.Y(d)},Nn.prototype.Y=function(d){try{if(d==this.g)e:{const en=mr(this.g);var _=this.g.Ba();const Oi=this.g.Z();if(!(3>en)&&(en!=3||this.g&&(this.h.h||this.g.oa()||ef(this.g)))){this.J||en!=4||_==7||(_==8||0>=Oi?fs(3):fs(2)),gs(this);var E=this.g.Z();this.X=E;t:if(Kd(this)){var S=ef(this.g);d="";var G=S.length,Z=mr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mn(this),zr(this);var fe="";break t}this.h.i=new h.TextDecoder}for(_=0;_<G;_++)this.h.h=!0,d+=this.h.i.decode(S[_],{stream:!(Z&&_==G-1)});S.length=0,this.h.g+=d,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=E==200,Dg(this.i,this.u,this.A,this.l,this.R,en,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Ke,Zt=this.g;if((Ke=Zt.g?Zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(Ke)){var Qe=Ke;break t}}Qe=null}if(E=Qe)ps(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pa(this,E);else{this.o=!1,this.s=3,_t(12),mn(this),zr(this);break e}}if(this.P){E=!0;let gn;for(;!this.J&&this.C<fe.length;)if(gn=Qd(this,fe),gn==Wo){en==4&&(this.s=4,_t(14),E=!1),ps(this.i,this.l,null,"[Incomplete Response]");break}else if(gn==rc){this.s=4,_t(15),ps(this.i,this.l,fe,"[Invalid Chunk]"),E=!1;break}else ps(this.i,this.l,gn,null),Pa(this,gn);if(Kd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),en!=4||fe.length!=0||this.h.h||(this.s=1,_t(16),E=!1),this.o=this.o&&E,!E)ps(this.i,this.l,fe,"[Invalid Chunked Response]"),mn(this),zr(this);else if(0<fe.length&&!this.W){this.W=!0;var on=this.j;on.g==this&&on.ba&&!on.M&&(on.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),Fa(on),on.M=!0,_t(11))}}else ps(this.i,this.l,fe,null),Pa(this,fe);en==4&&mn(this),this.o&&!this.J&&(en==4?af(this.j,this):(this.o=!1,Ca(this)))}else Mg(this.g),E==400&&0<fe.indexOf("Unknown SID")?(this.s=3,_t(12)):(this.s=0,_t(13)),mn(this),zr(this)}}}catch{}finally{}};function Kd(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Qd(d,_){var E=d.C,S=_.indexOf(`
`,E);return S==-1?Wo:(E=Number(_.substring(E,S)),isNaN(E)?rc:(S+=1,S+E>_.length?Wo:(_=_.slice(S,S+E),d.C=S+E,_)))}Nn.prototype.cancel=function(){this.J=!0,mn(this)};function Ca(d){d.S=Date.now()+d.I,Wd(d,d.I)}function Wd(d,_){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Gt(b(d.ba,d),_)}function gs(d){d.B&&(h.clearTimeout(d.B),d.B=null)}Nn.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?($d(this.i,this.A),this.L!=2&&(fs(),_t(17)),mn(this),this.s=2,zr(this)):Wd(this,this.S-d)};function zr(d){d.j.G==0||d.J||af(d.j,d)}function mn(d){gs(d);var _=d.M;_&&typeof _.ma=="function"&&_.ma(),d.M=null,Aa(d.U),d.g&&(_=d.g,d.g=null,_.abort(),_.ma())}function Pa(d,_){try{var E=d.j;if(E.G!=0&&(E.g==d||ic(E.h,d))){if(!d.K&&ic(E.h,d)&&E.G==3){try{var S=E.Da.g.parse(_)}catch{S=null}if(Array.isArray(S)&&S.length==3){var G=S;if(G[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<d.F)ol(E),sl(E);else break e;pc(E),_t(18)}}else E.za=G[1],0<E.za-E.T&&37500>G[2]&&E.F&&E.v==0&&!E.C&&(E.C=Gt(b(E.Za,E),6e3));if(1>=Xo(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else ki(E,11)}else if((d.K||E.g==d)&&ol(E),!z(_))for(G=E.Da.g.parse(_),_=0;_<G.length;_++){let Qe=G[_];if(E.T=Qe[0],Qe=Qe[1],E.G==2)if(Qe[0]=="c"){E.K=Qe[1],E.ia=Qe[2];const on=Qe[3];on!=null&&(E.la=on,E.j.info("VER="+E.la));const en=Qe[4];en!=null&&(E.Aa=en,E.j.info("SVER="+E.Aa));const Oi=Qe[5];Oi!=null&&typeof Oi=="number"&&0<Oi&&(S=1.5*Oi,E.L=S,E.j.info("backChannelRequestTimeoutMs_="+S)),S=E;const gn=d.g;if(gn){const Wr=gn.g?gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wr){var Z=S.h;Z.g||Wr.indexOf("spdy")==-1&&Wr.indexOf("quic")==-1&&Wr.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(Jo(Z,Z.h),Z.h=null))}if(S.D){const gc=gn.g?gn.g.getResponseHeader("X-HTTP-Session-Id"):null;gc&&(S.ya=gc,lt(S.I,S.D,gc))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-d.F,E.j.info("Handshake RTT: "+E.R+"ms")),S=E;var fe=d;if(S.qa=lf(S,S.J?S.ia:null,S.W),fe.K){kn(S.h,fe);var Ke=fe,Zt=S.L;Zt&&(Ke.I=Zt),Ke.B&&(gs(Ke),Ca(Ke)),S.g=fe}else rf(S);0<E.i.length&&al(E)}else Qe[0]!="stop"&&Qe[0]!="close"||ki(E,7);else E.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?ki(E,7):dc(E):Qe[0]!="noop"&&E.l&&E.l.ta(Qe),E.v=0)}}fs(4)}catch{}}var Yd=class{constructor(d,_){this.g=d,this.map=_}};function xi(d){this.l=d||10,h.PerformanceNavigationTiming?(d=h.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Yo(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Xo(d){return d.h?1:d.g?d.g.size:0}function ic(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function Jo(d,_){d.g?d.g.add(_):d.h=_}function kn(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}xi.prototype.cancel=function(){if(this.i=sc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function sc(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const E of d.g.values())_=_.concat(E.D);return _}return N(d.i)}function Ng(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(f(d)){for(var _=[],E=d.length,S=0;S<E;S++)_.push(d[S]);return _}_=[],E=0;for(S in d)_[E++]=d[S];return _}function Zo(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(f(d)||typeof d=="string"){var _=[];d=d.length;for(var E=0;E<d;E++)_.push(E);return _}_=[],E=0;for(const S in d)_[E++]=S;return _}}}function ac(d,_){if(d.forEach&&typeof d.forEach=="function")d.forEach(_,void 0);else if(f(d)||typeof d=="string")Array.prototype.forEach.call(d,_,void 0);else for(var E=Zo(d),S=Ng(d),G=S.length,Z=0;Z<G;Z++)_.call(void 0,S[Z],E&&E[Z],d)}var Da=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kg(d,_){if(d){d=d.split("&");for(var E=0;E<d.length;E++){var S=d[E].indexOf("="),G=null;if(0<=S){var Z=d[E].substring(0,S);G=d[E].substring(S+1)}else Z=d[E];_(Z,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function $t(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof $t){this.h=d.h,Na(this,d.j),this.o=d.o,this.g=d.g,ys(this,d.s),this.l=d.l;var _=d.i,E=new Ci;E.i=_.i,_.g&&(E.g=new Map(_.g),E.h=_.h),Ri(this,E),this.m=d.m}else d&&(_=String(d).match(Da))?(this.h=!1,Na(this,_[1]||"",!0),this.o=dr(_[2]||""),this.g=dr(_[3]||"",!0),ys(this,_[4]),this.l=dr(_[5]||"",!0),Ri(this,_[6]||"",!0),this.m=dr(_[7]||"")):(this.h=!1,this.i=new Ci(null,this.h))}$t.prototype.toString=function(){var d=[],_=this.j;_&&d.push(Oa(_,oc,!0),":");var E=this.g;return(E||_=="file")&&(d.push("//"),(_=this.o)&&d.push(Oa(_,oc,!0),"@"),d.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&d.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(Oa(E,E.charAt(0)=="/"?Og:lc,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",Oa(E,el)),d.join("")};function Xn(d){return new $t(d)}function Na(d,_,E){d.j=E?dr(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function ys(d,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);d.s=_}else d.s=null}function Ri(d,_,E){_ instanceof Ci?(d.i=_,Jd(d.i,d.h)):(E||(_=Oa(_,Vg)),d.i=new Ci(_,d.h))}function lt(d,_,E){d.i.set(_,E)}function ka(d){return lt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function dr(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Oa(d,_,E){return typeof d=="string"?(d=encodeURI(d).replace(_,Xd),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Xd(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var oc=/[#\/\?@]/g,lc=/[#\?:]/g,Og=/[#\?]/g,Vg=/[#\?@]/g,el=/#/g;function Ci(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function fr(d){d.g||(d.g=new Map,d.h=0,d.i&&kg(d.i,function(_,E){d.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}n=Ci.prototype,n.add=function(d,_){fr(this),this.i=null,d=qr(this,d);var E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(_),this.h+=1,this};function Pi(d,_){fr(d),_=qr(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function Di(d,_){return fr(d),_=qr(d,_),d.g.has(_)}n.forEach=function(d,_){fr(this),this.g.forEach(function(E,S){E.forEach(function(G){d.call(_,G,S,this)},this)},this)},n.na=function(){fr(this);const d=Array.from(this.g.values()),_=Array.from(this.g.keys()),E=[];for(let S=0;S<_.length;S++){const G=d[S];for(let Z=0;Z<G.length;Z++)E.push(_[S])}return E},n.V=function(d){fr(this);let _=[];if(typeof d=="string")Di(this,d)&&(_=_.concat(this.g.get(qr(this,d))));else{d=Array.from(this.g.values());for(let E=0;E<d.length;E++)_=_.concat(d[E])}return _},n.set=function(d,_){return fr(this),this.i=null,d=qr(this,d),Di(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},n.get=function(d,_){return d?(d=this.V(d),0<d.length?String(d[0]):_):_};function uc(d,_,E){Pi(d,_),0<E.length&&(d.i=null,d.g.set(qr(d,_),N(E)),d.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(var E=0;E<_.length;E++){var S=_[E];const Z=encodeURIComponent(String(S)),fe=this.V(S);for(S=0;S<fe.length;S++){var G=Z;fe[S]!==""&&(G+="="+encodeURIComponent(String(fe[S]))),d.push(G)}}return this.i=d.join("&")};function qr(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function Jd(d,_){_&&!d.j&&(fr(d),d.i=null,d.g.forEach(function(E,S){var G=S.toLowerCase();S!=G&&(Pi(this,S),uc(this,G,E))},d)),d.j=_}function Va(d,_){const E=new hr;if(h.Image){const S=new Image;S.onload=x(pr,E,"TestLoadImage: loaded",!0,_,S),S.onerror=x(pr,E,"TestLoadImage: error",!1,_,S),S.onabort=x(pr,E,"TestLoadImage: abort",!1,_,S),S.ontimeout=x(pr,E,"TestLoadImage: timeout",!1,_,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=d}else _(!1)}function Pr(d,_){const E=new hr,S=new AbortController,G=setTimeout(()=>{S.abort(),pr(E,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:S.signal}).then(Z=>{clearTimeout(G),Z.ok?pr(E,"TestPingServer: ok",!0,_):pr(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(G),pr(E,"TestPingServer: error",!1,_)})}function pr(d,_,E,S,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),S(E)}catch{}}function Ma(){this.g=new xa}function Hr(d,_,E){const S=E||"";try{ac(d,function(G,Z){let fe=G;m(G)&&(fe=Rr(G)),_.push(S+Z+"="+encodeURIComponent(fe))})}catch(G){throw _.push(S+"type="+encodeURIComponent("_badmap")),G}}function _s(d){this.l=d.Ub||null,this.j=d.eb||!1}R(_s,Xu),_s.prototype.g=function(){return new Ni(this.l,this.j)},_s.prototype.i=function(d){return function(){return d}}({});function Ni(d,_){Nt.call(this),this.D=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(Ni,Nt),n=Ni.prototype,n.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=_,this.readyState=1,$r(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(_.body=d),(this.D||h).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gr(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,$r(this)),this.g&&(this.readyState=3,$r(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;cc(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function cc(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?Gr(this):$r(this),this.readyState==3&&cc(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,Gr(this))},n.Qa=function(d){this.g&&(this.response=d,Gr(this))},n.ga=function(){this.g&&Gr(this)};function Gr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,$r(d)}n.setRequestHeader=function(d,_){this.u.append(d,_)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=_.next();return d.join(`\r
`)};function $r(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Ni.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function hc(d){let _="";return ce(d,function(E,S){_+=S,_+=":",_+=E,_+=`\r
`}),_}function an(d,_,E){e:{for(S in E){var S=!1;break e}S=!0}S||(E=hc(E),typeof d=="string"?E!=null&&encodeURIComponent(String(E)):lt(d,_,E))}function et(d){Nt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(et,Nt);var tl=/^https?$/i,La=["POST","PUT"];n=et.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,_,E,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Br.g(),this.v=this.o?Ju(this.o):Ju(Br),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(Z){Zd(this,Z);return}if(d=E||"",E=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var G in S)E.set(G,S[G]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Z of S.keys())E.set(Z,S.get(Z));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(E.keys()).find(Z=>Z.toLowerCase()=="content-type"),G=h.FormData&&d instanceof h.FormData,!(0<=Array.prototype.indexOf.call(La,_,void 0))||S||G||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,fe]of E)this.g.setRequestHeader(Z,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ja(this),this.u=!0,this.g.send(d),this.u=!1}catch(Z){Zd(this,Z)}};function Zd(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.m=5,nl(d),Kr(d)}function nl(d){d.A||(d.A=!0,nt(d,"complete"),nt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,nt(this,"complete"),nt(this,"abort"),Kr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Kr(this,!0)),et.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?rl(this):this.bb())},n.bb=function(){rl(this)};function rl(d){if(d.h&&typeof u<"u"&&(!d.v[1]||mr(d)!=4||d.Z()!=2)){if(d.u&&mr(d)==4)In(d.Ea,0,d);else if(nt(d,"readystatechange"),mr(d)==4){d.h=!1;try{const fe=d.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var S;if(S=fe===0){var G=String(d.D).match(Da)[1]||null;!G&&h.self&&h.self.location&&(G=h.self.location.protocol.slice(0,-1)),S=!tl.test(G?G.toLowerCase():"")}E=S}if(E)nt(d,"complete"),nt(d,"success");else{d.m=6;try{var Z=2<mr(d)?d.g.statusText:""}catch{Z=""}d.l=Z+" ["+d.Z()+"]",nl(d)}}finally{Kr(d)}}}}function Kr(d,_){if(d.g){ja(d);const E=d.g,S=d.v[0]?()=>{}:null;d.g=null,d.v=null,_||nt(d,"ready");try{E.onreadystatechange=S}catch{}}}function ja(d){d.I&&(h.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function mr(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<mr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),Ko(_)}};function ef(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Mg(d){const _={};d=(d.g&&2<=mr(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<d.length;S++){if(z(d[S]))continue;var E=L(d[S]);const G=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Z=_[G]||[];_[G]=Z,Z.push(E)}P(_,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ua(d,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||_}function il(d){this.Aa=0,this.i=[],this.j=new hr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ua("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ua("baseRetryDelayMs",5e3,d),this.cb=Ua("retryDelaySeedMs",1e4,d),this.Wa=Ua("forwardChannelMaxRetries",2,d),this.wa=Ua("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new xi(d&&d.concurrentRequestLimit),this.Da=new Ma,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=il.prototype,n.la=8,n.G=1,n.connect=function(d,_,E,S){_t(0),this.W=d,this.H=_||{},E&&S!==void 0&&(this.H.OSID=E,this.H.OAID=S),this.F=this.X,this.I=lf(this,null,this.W),al(this)};function dc(d){if(tf(d),d.G==3){var _=d.U++,E=Xn(d.I);if(lt(E,"SID",d.K),lt(E,"RID",_),lt(E,"TYPE","terminate"),Ba(d,E),_=new Nn(d,d.j,_),_.L=2,_.v=ka(Xn(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(_.v.toString(),"")}catch{}!E&&h.Image&&(new Image().src=_.v,E=!0),E||(_.g=uf(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Ca(_)}of(d)}function sl(d){d.g&&(Fa(d),d.g.cancel(),d.g=null)}function tf(d){sl(d),d.u&&(h.clearTimeout(d.u),d.u=null),ol(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&h.clearTimeout(d.s),d.s=null)}function al(d){if(!Yo(d.h)&&!d.s){d.s=!0;var _=d.Ga;pe||V(),we||(pe(),we=!0),Oe.add(_,d),d.B=0}}function Lg(d,_){return Xo(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=_.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Gt(b(d.Ga,d,_),mc(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const G=new Nn(this,this.j,d);let Z=this.o;if(this.S&&(Z?(Z=A(Z),O(Z,this.S)):Z=this.S),this.m!==null||this.O||(G.H=Z,Z=null),this.P)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var S=this.i[E];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(_+=S,4096<_){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=nf(this,G,_),E=Xn(this.I),lt(E,"RID",d),lt(E,"CVER",22),this.D&&lt(E,"X-HTTP-Session-Id",this.D),Ba(this,E),Z&&(this.O?_="headers="+encodeURIComponent(String(hc(Z)))+"&"+_:this.m&&an(E,this.m,Z)),Jo(this.h,G),this.Ua&&lt(E,"TYPE","init"),this.P?(lt(E,"$req",_),lt(E,"SID","null"),G.T=!0,Cr(G,E,null)):Cr(G,E,_),this.G=2}}else this.G==3&&(d?fc(this,d):this.i.length==0||Yo(this.h)||fc(this))};function fc(d,_){var E;_?E=_.l:E=d.U++;const S=Xn(d.I);lt(S,"SID",d.K),lt(S,"RID",E),lt(S,"AID",d.T),Ba(d,S),d.m&&d.o&&an(S,d.m,d.o),E=new Nn(d,d.j,E,d.B+1),d.m===null&&(E.H=d.o),_&&(d.i=_.D.concat(d.i)),_=nf(d,E,1e3),E.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Jo(d.h,E),Cr(E,S,_)}function Ba(d,_){d.H&&ce(d.H,function(E,S){lt(_,S,E)}),d.l&&ac({},function(E,S){lt(_,S,E)})}function nf(d,_,E){E=Math.min(d.i.length,E);var S=d.l?b(d.l.Na,d.l,d):null;e:{var G=d.i;let Z=-1;for(;;){const fe=["count="+E];Z==-1?0<E?(Z=G[0].g,fe.push("ofs="+Z)):Z=0:fe.push("ofs="+Z);let Ke=!0;for(let Zt=0;Zt<E;Zt++){let Qe=G[Zt].g;const on=G[Zt].map;if(Qe-=Z,0>Qe)Z=Math.max(0,G[Zt].g-100),Ke=!1;else try{Hr(on,fe,"req"+Qe+"_")}catch{S&&S(on)}}if(Ke){S=fe.join("&");break e}}}return d=d.i.splice(0,E),_.D=d,S}function rf(d){if(!d.g&&!d.u){d.Y=1;var _=d.Fa;pe||V(),we||(pe(),we=!0),Oe.add(_,d),d.v=0}}function pc(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Gt(b(d.Fa,d),mc(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,sf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Gt(b(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_t(10),sl(this),sf(this))};function Fa(d){d.A!=null&&(h.clearTimeout(d.A),d.A=null)}function sf(d){d.g=new Nn(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var _=Xn(d.qa);lt(_,"RID","rpc"),lt(_,"SID",d.K),lt(_,"AID",d.T),lt(_,"CI",d.F?"0":"1"),!d.F&&d.ja&&lt(_,"TO",d.ja),lt(_,"TYPE","xmlhttp"),Ba(d,_),d.m&&d.o&&an(_,d.m,d.o),d.L&&(d.g.I=d.L);var E=d.g;d=d.ia,E.L=1,E.v=ka(Xn(_)),E.m=null,E.P=!0,Ai(E,d)}n.Za=function(){this.C!=null&&(this.C=null,sl(this),pc(this),_t(19))};function ol(d){d.C!=null&&(h.clearTimeout(d.C),d.C=null)}function af(d,_){var E=null;if(d.g==_){ol(d),Fa(d),d.g=null;var S=2}else if(ic(d.h,_))E=_.D,kn(d.h,_),S=1;else return;if(d.G!=0){if(_.o)if(S==1){E=_.m?_.m.length:0,_=Date.now()-_.F;var G=d.B;S=ds(),nt(S,new Jt(S,E)),al(d)}else rf(d);else if(G=_.s,G==3||G==0&&0<_.X||!(S==1&&Lg(d,_)||S==2&&pc(d)))switch(E&&0<E.length&&(_=d.h,_.i=_.i.concat(E)),G){case 1:ki(d,5);break;case 4:ki(d,10);break;case 3:ki(d,6);break;default:ki(d,2)}}}function mc(d,_){let E=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(E*=2),E*_}function ki(d,_){if(d.j.info("Error code "+_),_==2){var E=b(d.fb,d),S=d.Xa;const G=!S;S=new $t(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Na(S,"https"),ka(S),G?Va(S.toString(),E):Pr(S.toString(),E)}else _t(2);d.G=0,d.l&&d.l.sa(_),of(d),tf(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function of(d){if(d.G=0,d.ka=[],d.l){const _=sc(d.h);(_.length!=0||d.i.length!=0)&&(M(d.ka,_),M(d.ka,d.i),d.h.i.length=0,N(d.i),d.i.length=0),d.l.ra()}}function lf(d,_,E){var S=E instanceof $t?Xn(E):new $t(E);if(S.g!="")_&&(S.g=_+"."+S.g),ys(S,S.s);else{var G=h.location;S=G.protocol,_=_?_+"."+G.hostname:G.hostname,G=+G.port;var Z=new $t(null);S&&Na(Z,S),_&&(Z.g=_),G&&ys(Z,G),E&&(Z.l=E),S=Z}return E=d.D,_=d.ya,E&&_&&lt(S,E,_),lt(S,"VER",d.la),Ba(d,S),S}function uf(d,_,E){if(_&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Ca&&!d.pa?new et(new _s({eb:E})):new et(d.pa),_.Ha(d.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function cf(){}n=cf.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ll(){}ll.prototype.g=function(d,_){return new On(d,_)};function On(d,_){Nt.call(this),this.g=new il(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(d?d["X-WebChannel-Client-Profile"]=_.va:d={"X-WebChannel-Client-Profile":_.va}),this.g.S=d,(d=_&&_.Sb)&&!z(d)&&(this.g.m=d),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!z(_)&&(this.g.D=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new Qr(this)}R(On,Nt),On.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},On.prototype.close=function(){dc(this.g)},On.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.u&&(E={},E.__data__=Rr(d),d=E);_.i.push(new Yd(_.Ya++,d)),_.G==3&&al(_)},On.prototype.N=function(){this.g.l=null,delete this.j,dc(this.g),delete this.g,On.aa.N.call(this)};function hf(d){Ii.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const E in _){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}R(hf,Ii);function df(){ec.call(this),this.status=1}R(df,ec);function Qr(d){this.g=d}R(Qr,cf),Qr.prototype.ua=function(){nt(this.g,"a")},Qr.prototype.ta=function(d){nt(this.g,new hf(d))},Qr.prototype.sa=function(d){nt(this.g,new df)},Qr.prototype.ra=function(){nt(this.g,"b")},ll.prototype.createWebChannel=ll.prototype.g,On.prototype.send=On.prototype.o,On.prototype.open=On.prototype.m,On.prototype.close=On.prototype.close,WR=function(){return new ll},QR=function(){return ds()},KR=Ur,Mv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ms.NO_ERROR=0,ms.TIMEOUT=8,ms.HTTP_ERROR=6,Mp=ms,Si.COMPLETE="complete",$R=Si,Zu.EventType=bi,bi.OPEN="a",bi.CLOSE="b",bi.ERROR="c",bi.MESSAGE="d",Nt.prototype.listen=Nt.prototype.K,vh=Zu,et.prototype.listenOnce=et.prototype.L,et.prototype.getLastError=et.prototype.Ka,et.prototype.getLastErrorCode=et.prototype.Ba,et.prototype.getStatus=et.prototype.Z,et.prototype.getResponseJson=et.prototype.Oa,et.prototype.getResponseText=et.prototype.oa,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Ha,GR=et}).apply(typeof yp<"u"?yp:typeof self<"u"?self:typeof window<"u"?window:{});const US="@firebase/firestore",BS="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fu="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=new Fm("@firebase/firestore");function Gl(){return oa.logLevel}function X3(n){oa.setLogLevel(n)}function le(n,...e){if(oa.logLevel<=ze.DEBUG){const t=e.map(tE);oa.debug(`Firestore (${Fu}): ${n}`,...t)}}function zt(n,...e){if(oa.logLevel<=ze.ERROR){const t=e.map(tE);oa.error(`Firestore (${Fu}): ${n}`,...t)}}function yi(n,...e){if(oa.logLevel<=ze.WARN){const t=e.map(tE);oa.warn(`Firestore (${Fu}): ${n}`,...t)}}function tE(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,YR(n,r,t)}function YR(n,e,t){let r=`FIRESTORE (${Fu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw zt(r),new Error(r)}function Te(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||YR(e,s,r)}function J3(n,e){n||_e(57014,e)}function ge(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends jn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Z3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(fn.UNAUTHENTICATED))}shutdown(){}}class ej{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class tj{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Te(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let o=new wn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new wn,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const f=o;e.enqueueRetryable(async()=>{await f.promise,await s(this.currentUser)})},h=f=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new wn)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Te(typeof r.accessToken=="string",31837,{l:r}),new XR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string",2055,{h:e}),new fn(e)}}class nj{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class rj{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new nj(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(fn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class FS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ij{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Tt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Te(this.o===void 0,3512);const r=o=>{o.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,le("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new FS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Te(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new FS(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sj(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=sj(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<t&&(r+=e.charAt(s[o]%62))}return r}}function Pe(n,e){return n<e?-1:n>e?1:0}function Lv(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),s=e.codePointAt(t);if(r!==s){if(r<128&&s<128)return Pe(r,s);{const o=nE(),u=aj(o.encode(zS(n,t)),o.encode(zS(e,t)));return u!==0?u:Pe(r,s)}}t+=r>65535?2:1}return Pe(n.length,e.length)}function zS(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function aj(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Pe(n[t],e[t]);return Pe(n.length,e.length)}function pu(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}function ZR(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS=-62135596800,HS=1e6;class It{static now(){return It.fromMillis(Date.now())}static fromDate(e){return It.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*HS);return new It(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new oe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new oe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<qS)throw new oe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/HS}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-qS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new It(0,0))}static max(){return new Ie(new It(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS="__name__";class ti{constructor(e,t,r){t===void 0?t=0:t>e.length&&_e(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&_e(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return ti.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ti?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const o=ti.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return Pe(e.length,t.length)}static compareSegments(e,t){const r=ti.isNumericId(e),s=ti.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?ti.extractNumericId(e).compare(ti.extractNumericId(t)):Lv(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Zs.fromString(e.substring(4,e.length-2))}}class qe extends ti{construct(e,t,r){return new qe(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new oe(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new qe(t)}static emptyPath(){return new qe([])}}const oj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wt extends ti{construct(e,t,r){return new wt(e,t,r)}static isValidIdentifier(e){return oj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===GS}static keyField(){return new wt([GS])}static fromServerFormat(e){const t=[];let r="",s=0;const o=()=>{if(r.length===0)throw new oe(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new oe(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new oe(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else h==="`"?(u=!u,s++):h!=="."||u?(r+=h,s++):(o(),s++)}if(o(),u)throw new oe(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wt(t)}static emptyPath(){return new wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(qe.fromString(e))}static fromName(e){return new me(qe.fromString(e).popFirst(5))}static empty(){return new me(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return qe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new qe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu=-1;class dm{constructor(e,t,r,s){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=s}}function jv(n){return n.fields.find(e=>e.kind===2)}function ao(n){return n.fields.filter(e=>e.kind!==2)}dm.UNKNOWN_ID=-1;class Lp{constructor(e,t){this.fieldPath=e,this.kind=t}}class Jh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Jh(0,ur.min())}}function eC(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Ie.fromTimestamp(r===1e9?new It(t+1,0):new It(t,r));return new ur(s,me.empty(),e)}function tC(n){return new ur(n.readTime,n.key,mu)}class ur{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ur(Ie.min(),me.empty(),mu)}static max(){return new ur(Ie.max(),me.empty(),mu)}}function rE(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=me.comparator(n.documentKey,e.documentKey),t!==0?t:Pe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _a(n){if(n.code!==J.FAILED_PRECONDITION||n.message!==nC)throw n;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new $((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof $?t:$.resolve(t)}catch(t){return $.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):$.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):$.reject(t)}static resolve(e){return new $((t,r)=>{t(e)})}static reject(e){return new $((t,r)=>{r(e)})}static waitFor(e){return new $((t,r)=>{let s=0,o=0,u=!1;e.forEach(h=>{++s,h.next(()=>{++o,u&&o===s&&t()},f=>r(f))}),u=!0,o===s&&t()})}static or(e){let t=$.resolve(!1);for(const r of e)t=t.next(s=>s?$.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,o)=>{r.push(t.call(this,s,o))}),this.waitFor(r)}static mapArray(e,t){return new $((r,s)=>{const o=e.length,u=new Array(o);let h=0;for(let f=0;f<o;f++){const m=f;t(e[m]).next(y=>{u[m]=y,++h,h===o&&r(u)},y=>s(y))}})}static doWhile(e,t){return new $((r,s)=>{const o=()=>{e()===!0?t().next(()=>{o()},s):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar="SimpleDb";class Zm{static open(e,t,r,s){try{return new Zm(t,e.transaction(s,r))}catch(o){throw new Ph(t,o)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new wn,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new Ph(e,t.error)):this.S.resolve()},this.transaction.onerror=r=>{const s=iE(r.target.error);this.S.reject(new Ph(e,s))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(le(ar,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}v(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new uj(t)}}class di{static delete(e){return le(ar,"Removing database:",e),lo(R0().indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!Gh())return!1;if(di.F())return!0;const e=Ct(),t=di.M(e),r=0<t&&t<10,s=iC(e),o=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.O)==="YES"}static N(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.B=r,this.L=null,di.M(Ct())===12.2&&zt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async k(e){return this.db||(le(ar,"Opening database:",this.name),this.db=await new Promise((t,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=o=>{const u=o.target.result;t(u)},s.onblocked=()=>{r(new Ph(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const u=o.target.error;u.name==="VersionError"?r(new oe(J.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u.name==="InvalidStateError"?r(new oe(J.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u)):r(new Ph(e,u))},s.onupgradeneeded=o=>{le(ar,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const u=o.target.result;if(this.L!==null&&this.L!==o.oldVersion)throw new Error(`refusing to open IndexedDB database due to potential corruption of the IndexedDB database data; this corruption could be caused by clicking the "clear site data" button in a web browser; try reloading the web page to re-initialize the IndexedDB database: lastClosedDbVersion=${this.L}, event.oldVersion=${o.oldVersion}, event.newVersion=${o.newVersion}, db.version=${u.version}`);this.B.q(u,s.transaction,o.oldVersion,this.version).next(()=>{le(ar,"Database upgrade to version "+this.version+" complete")})}}),this.db.addEventListener("close",t=>{const r=t.target;this.L=r.version},{passive:!0})),this.$&&(this.db.onversionchange=t=>this.$(t)),this.db}U(e){this.$=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,s){const o=t==="readonly";let u=0;for(;;){++u;try{this.db=await this.k(e);const h=Zm.open(this.db,e,o?"readonly":"readwrite",r),f=s(h).next(m=>(h.v(),m)).catch(m=>(h.abort(m),$.reject(m))).toPromise();return f.catch(()=>{}),await h.D,f}catch(h){const f=h,m=f.name!=="FirebaseError"&&u<3;if(le(ar,"Transaction failed with error:",f.message,"Retrying:",m),this.close(),!m)return Promise.reject(f)}}}close(){this.db&&this.db.close(),this.db=void 0}}function iC(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class lj{constructor(e){this.K=e,this.W=!1,this.G=null}get isDone(){return this.W}get j(){return this.G}set cursor(e){this.K=e}done(){this.W=!0}H(e){this.G=e}delete(){return lo(this.K.delete())}}class Ph extends oe{constructor(e,t){super(J.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function va(n){return n.name==="IndexedDbTransactionError"}class uj{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(le(ar,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(le(ar,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),lo(r)}add(e){return le(ar,"ADD",this.store.name,e,e),lo(this.store.add(e))}get(e){return lo(this.store.get(e)).next(t=>(t===void 0&&(t=null),le(ar,"GET",this.store.name,e,t),t))}delete(e){return le(ar,"DELETE",this.store.name,e),lo(this.store.delete(e))}count(){return le(ar,"COUNT",this.store.name),lo(this.store.count())}J(e,t){const r=this.options(e,t),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const o=s.getAll(r.range);return new $((u,h)=>{o.onerror=f=>{h(f.target.error)},o.onsuccess=f=>{u(f.target.result)}})}{const o=this.cursor(r),u=[];return this.Y(o,(h,f)=>{u.push(f)}).next(()=>u)}}Z(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new $((s,o)=>{r.onerror=u=>{o(u.target.error)},r.onsuccess=u=>{s(u.target.result)}})}X(e,t){le(ar,"DELETE ALL",this.store.name);const r=this.options(e,t);r.ee=!1;const s=this.cursor(r);return this.Y(s,(o,u,h)=>h.delete())}te(e,t){let r;t?r=e:(r={},t=e);const s=this.cursor(r);return this.Y(s,t)}ne(e){const t=this.cursor({});return new $((r,s)=>{t.onerror=o=>{const u=iE(o.target.error);s(u)},t.onsuccess=o=>{const u=o.target.result;u?e(u.primaryKey,u.value).next(h=>{h?u.continue():r()}):r()}})}Y(e,t){const r=[];return new $((s,o)=>{e.onerror=u=>{o(u.target.error)},e.onsuccess=u=>{const h=u.target.result;if(!h)return void s();const f=new lj(h),m=t(h.primaryKey,h.value,f);if(m instanceof $){const y=m.catch(v=>(f.done(),$.reject(v)));r.push(y)}f.isDone?s():f.j===null?h.continue():h.continue(f.j)}}).next(()=>$.waitFor(r))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.ee?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function lo(n){return new $((e,t)=>{n.onsuccess=r=>{const s=r.target.result;e(s)},n.onerror=r=>{const s=iE(r.target.error);t(s)}})}let $S=!1;function iE(n){const e=di.M(Ct());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new oe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return $S||($S=!0,setTimeout(()=>{throw r},0)),r}}return n}const Dh="IndexBackfiller";class cj{constructor(e,t){this.asyncQueue=e,this.re=t,this.task=null}start(){this.ie(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ie(e){le(Dh,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const t=await this.re.se();le(Dh,`Documents written: ${t}`)}catch(t){va(t)?le(Dh,"Ignoring IndexedDB error during index backfill: ",t):await _a(t)}await this.ie(6e4)})}}class hj{constructor(e,t){this.localStore=e,this.persistence=t}async se(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.oe(t,e))}oe(e,t){const r=new Set;let s=t,o=!0;return $.doWhile(()=>o===!0&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(u!==null&&!r.has(u))return le(Dh,`Processing collection: ${u}`),this._e(e,u,s).next(h=>{s-=h,r.add(u)});o=!1})).next(()=>t-s)}_e(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(s=>this.localStore.localDocuments.getNextDocuments(e,t,s,r).next(o=>{const u=o.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.ae(s,o)).next(h=>(le(Dh,`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>u.size)}))}ae(e,t){let r=e;return t.changes.forEach((s,o)=>{const u=tC(o);rE(u,r)>0&&(r=u)}),new ur(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}$n.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea=-1;function xd(n){return n==null}function Zh(n){return n===0&&1/n==-1/0}function sC(n){return typeof n=="number"&&Number.isInteger(n)&&!Zh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm="";function Pn(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=KS(e)),e=dj(n.get(t),e);return KS(e)}function dj(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const o=n.charAt(s);switch(o){case"\0":t+="";break;case fm:t+="";break;default:t+=o}}return t}function KS(n){return n+fm+""}function ui(n){const e=n.length;if(Te(e>=2,64408,{path:n}),e===2)return Te(n.charAt(0)===fm&&n.charAt(1)==="",56145,{path:n}),qe.emptyPath();const t=e-2,r=[];let s="";for(let o=0;o<e;){const u=n.indexOf(fm,o);switch((u<0||u>t)&&_e(50515,{path:n}),n.charAt(u+1)){case"":const h=n.substring(o,u);let f;s.length===0?f=h:(s+=h,f=s,s=""),r.push(f);break;case"":s+=n.substring(o,u),s+="\0";break;case"":s+=n.substring(o,u+1);break;default:_e(61167,{path:n})}o=u+2}return new qe(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo="remoteDocuments",Rd="owner",Ul="owner",ed="mutationQueues",fj="userId",Or="mutations",QS="batchId",go="userMutationsIndex",WS=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(n,e){return[n,Pn(e)]}function aC(n,e,t){return[n,Pn(e),t]}const pj={},gu="documentMutations",pm="remoteDocumentsV14",mj=["prefixPath","collectionGroup","readTime","documentId"],Up="documentKeyIndex",gj=["prefixPath","collectionGroup","documentId"],oC="collectionGroupIndex",yj=["collectionGroup","readTime","prefixPath","documentId"],td="remoteDocumentGlobal",Uv="remoteDocumentGlobalKey",yu="targets",lC="queryTargetsIndex",_j=["canonicalId","targetId"],_u="targetDocuments",vj=["targetId","path"],sE="documentTargetsIndex",Ej=["path","targetId"],mm="targetGlobalKey",bo="targetGlobal",nd="collectionParents",Tj=["collectionId","parent"],vu="clientMetadata",wj="clientId",eg="bundles",bj="bundleId",tg="namedQueries",Ij="name",aE="indexConfiguration",Sj="indexId",Bv="collectionGroupIndex",Aj="collectionGroup",Nh="indexState",xj=["indexId","uid"],uC="sequenceNumberIndex",Rj=["uid","sequenceNumber"],kh="indexEntries",Cj=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],cC="documentKeyIndex",Pj=["indexId","uid","orderedDocumentKey"],ng="documentOverlays",Dj=["userId","collectionPath","documentId"],Fv="collectionPathOverlayIndex",Nj=["userId","collectionPath","largestBatchId"],hC="collectionGroupOverlayIndex",kj=["userId","collectionGroup","largestBatchId"],oE="globals",Oj="name",dC=[ed,Or,gu,oo,yu,Rd,bo,_u,vu,td,nd,eg,tg],Vj=[...dC,ng],fC=[ed,Or,gu,pm,yu,Rd,bo,_u,vu,td,nd,eg,tg,ng],pC=fC,lE=[...pC,aE,Nh,kh],Mj=lE,mC=[...lE,oE],Lj=mC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv extends rC{constructor(e,t){super(),this.he=e,this.currentSequenceNumber=t}}function sn(n,e){const t=ge(n);return di.N(t.he,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ea(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function gC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,t){this.comparator=e,this.root=t||En.EMPTY}insert(e,t){return new mt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,En.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,En.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _p(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _p(this.root,e,this.comparator,!1)}getReverseIterator(){return new _p(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _p(this.root,e,this.comparator,!0)}}class _p{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class En{constructor(e,t,r,s,o){this.key=e,this.value=t,this.color=r??En.RED,this.left=s??En.EMPTY,this.right=o??En.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,o){return new En(e??this.key,t??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,r),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return En.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return En.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,En.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,En.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}En.EMPTY=null,En.RED=!0,En.BLACK=!1;En.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,t,r,s,o){return this}insert(e,t,r){return new En(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new XS(this.data.getIterator())}getIteratorFrom(e){return new XS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof at)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new at(this.comparator);return t.data=e,t}}class XS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Bl(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.fields=e,e.sort(wt.comparator)}static empty(){return new Kn([])}unionWith(e){let t=new at(wt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Kn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return pu(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jj(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new yC("Invalid base64 string: "+o):o}}(e);return new Vt(t)}static fromUint8Array(e){const t=function(s){let o="";for(let u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o}(e);return new Vt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vt.EMPTY_BYTE_STRING=new Vt("");const Uj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ns(n){if(Te(!!n,39018),typeof n=="string"){let e=0;const t=Uj.exec(n);if(Te(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Et(n.seconds),nanos:Et(n.nanos)}}function Et(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function rs(n){return typeof n=="string"?Vt.fromBase64String(n):Vt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C="server_timestamp",vC="__type__",EC="__previous_value__",TC="__local_write_time__";function rg(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[vC])===null||t===void 0?void 0:t.stringValue)===_C}function ig(n){const e=n.mapValue.fields[EC];return rg(e)?ig(e):e}function rd(n){const e=ns(n.mapValue.fields[TC].timestampValue);return new It(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{constructor(e,t,r,s,o,u,h,f,m,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=y}}const qv="(default)";class la{constructor(e,t){this.projectId=e,this.database=t||qv}static empty(){return new la("","")}get isDefaultDatabase(){return this.database===qv}isEqual(e){return e instanceof la&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="__type__",wC="__max__",Ws={mapValue:{fields:{__type__:{stringValue:wC}}}},cE="__vector__",Eu="value",Bp={nullValue:"NULL_VALUE"};function ua(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?rg(n)?4:bC(n)?9007199254740991:sg(n)?10:11:_e(28295,{value:n})}function _i(n,e){if(n===e)return!0;const t=ua(n);if(t!==ua(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return rd(n).isEqual(rd(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const u=ns(s.timestampValue),h=ns(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,o){return rs(s.bytesValue).isEqual(rs(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,o){return Et(s.geoPointValue.latitude)===Et(o.geoPointValue.latitude)&&Et(s.geoPointValue.longitude)===Et(o.geoPointValue.longitude)}(n,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return Et(s.integerValue)===Et(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const u=Et(s.doubleValue),h=Et(o.doubleValue);return u===h?Zh(u)===Zh(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return pu(n.arrayValue.values||[],e.arrayValue.values||[],_i);case 10:case 11:return function(s,o){const u=s.mapValue.fields||{},h=o.mapValue.fields||{};if(YS(u)!==YS(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!_i(u[f],h[f])))return!1;return!0}(n,e);default:return _e(52216,{left:n})}}function id(n,e){return(n.values||[]).find(t=>_i(t,e))!==void 0}function ca(n,e){if(n===e)return 0;const t=ua(n),r=ua(e);if(t!==r)return Pe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Pe(n.booleanValue,e.booleanValue);case 2:return function(o,u){const h=Et(o.integerValue||o.doubleValue),f=Et(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(n,e);case 3:return JS(n.timestampValue,e.timestampValue);case 4:return JS(rd(n),rd(e));case 5:return Lv(n.stringValue,e.stringValue);case 6:return function(o,u){const h=rs(o),f=rs(u);return h.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const h=o.split("/"),f=u.split("/");for(let m=0;m<h.length&&m<f.length;m++){const y=Pe(h[m],f[m]);if(y!==0)return y}return Pe(h.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const h=Pe(Et(o.latitude),Et(u.latitude));return h!==0?h:Pe(Et(o.longitude),Et(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return ZS(n.arrayValue,e.arrayValue);case 10:return function(o,u){var h,f,m,y;const v=o.fields||{},b=u.fields||{},x=(h=v[Eu])===null||h===void 0?void 0:h.arrayValue,R=(f=b[Eu])===null||f===void 0?void 0:f.arrayValue,N=Pe(((m=x==null?void 0:x.values)===null||m===void 0?void 0:m.length)||0,((y=R==null?void 0:R.values)===null||y===void 0?void 0:y.length)||0);return N!==0?N:ZS(x,R)}(n.mapValue,e.mapValue);case 11:return function(o,u){if(o===Ws.mapValue&&u===Ws.mapValue)return 0;if(o===Ws.mapValue)return 1;if(u===Ws.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),m=u.fields||{},y=Object.keys(m);f.sort(),y.sort();for(let v=0;v<f.length&&v<y.length;++v){const b=Lv(f[v],y[v]);if(b!==0)return b;const x=ca(h[f[v]],m[y[v]]);if(x!==0)return x}return Pe(f.length,y.length)}(n.mapValue,e.mapValue);default:throw _e(23264,{Pe:t})}}function JS(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Pe(n,e);const t=ns(n),r=ns(e),s=Pe(t.seconds,r.seconds);return s!==0?s:Pe(t.nanos,r.nanos)}function ZS(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const o=ca(t[s],r[s]);if(o)return o}return Pe(t.length,r.length)}function Tu(n){return Hv(n)}function Hv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=ns(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return rs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return me.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const o of t.values||[])s?s=!1:r+=",",r+=Hv(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const u of r)o?o=!1:s+=",",s+=`${u}:${Hv(t.fields[u])}`;return s+"}"}(n.mapValue):_e(61005,{value:n})}function Fp(n){switch(ua(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ig(n);return e?16+Fp(e):16;case 5:return 2*n.stringValue.length;case 6:return rs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,o)=>s+Fp(o),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return Ea(r.fields,(o,u)=>{s+=o.length+Fp(u)}),s}(n.mapValue);default:throw _e(13486,{value:n})}}function Ro(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Gv(n){return!!n&&"integerValue"in n}function sd(n){return!!n&&"arrayValue"in n}function eA(n){return!!n&&"nullValue"in n}function tA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function zp(n){return!!n&&"mapValue"in n}function sg(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[uE])===null||t===void 0?void 0:t.stringValue)===cE}function Oh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ea(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Oh(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Oh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function bC(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===wC}const IC={mapValue:{fields:{[uE]:{stringValue:cE},[Eu]:{arrayValue:{}}}}};function Fj(n){return"nullValue"in n?Bp:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ro(la.empty(),me.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?sg(n)?IC:{mapValue:{}}:_e(35942,{value:n})}function zj(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ro(la.empty(),me.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?IC:"mapValue"in n?sg(n)?{mapValue:{}}:Ws:_e(61959,{value:n})}function nA(n,e){const t=ca(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function rA(n,e){const t=ca(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.value=e}static empty(){return new Tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!zp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Oh(t)}setAll(e){let t=wt.emptyPath(),r={},s=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,r,s),r={},s=[],t=h.popLast()}u?r[h.lastSegment()]=Oh(u):s.push(h.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,s)}delete(e){const t=this.field(e.popLast());zp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return _i(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];zp(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Ea(t,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new Tn(Oh(this.value))}}function SC(n){const e=[];return Ea(n.fields,(t,r)=>{const s=new wt([t]);if(zp(r)){const o=SC(r.mapValue).fields;if(o.length===0)e.push(s);else for(const u of o)e.push(s.child(u))}else e.push(s)}),new Kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,t,r,s,o,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new yt(e,0,Ie.min(),Ie.min(),Ie.min(),Tn.empty(),0)}static newFoundDocument(e,t,r,s){return new yt(e,1,t,Ie.min(),r,s,0)}static newNoDocument(e,t){return new yt(e,2,t,Ie.min(),Ie.min(),Tn.empty(),0)}static newUnknownDocument(e,t){return new yt(e,3,t,Ie.min(),Ie.min(),Tn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,t){this.position=e,this.inclusive=t}}function iA(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const o=e[s],u=n.position[s];if(o.field.isKeyField()?r=me.comparator(me.fromName(u.referenceValue),t.key):r=ca(u,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function sA(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!_i(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,t="asc"){this.field=e,this.dir=t}}function qj(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{}class He extends AC{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Hj(e,t,r):t==="array-contains"?new Kj(e,r):t==="in"?new NC(e,r):t==="not-in"?new Qj(e,r):t==="array-contains-any"?new Wj(e,r):new He(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Gj(e,r):new $j(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ca(t,this.value)):t!==null&&ua(this.value)===ua(t)&&this.matchesComparison(ca(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class st extends AC{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new st(e,t)}matches(e){return wu(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function wu(n){return n.op==="and"}function $v(n){return n.op==="or"}function hE(n){return xC(n)&&wu(n)}function xC(n){for(const e of n.filters)if(e instanceof st)return!1;return!0}function Kv(n){if(n instanceof He)return n.field.canonicalString()+n.op.toString()+Tu(n.value);if(hE(n))return n.filters.map(e=>Kv(e)).join(",");{const e=n.filters.map(t=>Kv(t)).join(",");return`${n.op}(${e})`}}function RC(n,e){return n instanceof He?function(r,s){return s instanceof He&&r.op===s.op&&r.field.isEqual(s.field)&&_i(r.value,s.value)}(n,e):n instanceof st?function(r,s){return s instanceof st&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,u,h)=>o&&RC(u,s.filters[h]),!0):!1}(n,e):void _e(19439)}function CC(n,e){const t=n.filters.concat(e);return st.create(t,n.op)}function PC(n){return n instanceof He?function(t){return`${t.field.canonicalString()} ${t.op} ${Tu(t.value)}`}(n):n instanceof st?function(t){return t.op.toString()+" {"+t.getFilters().map(PC).join(" ,")+"}"}(n):"Filter"}class Hj extends He{constructor(e,t,r){super(e,t,r),this.key=me.fromName(r.referenceValue)}matches(e){const t=me.comparator(e.key,this.key);return this.matchesComparison(t)}}class Gj extends He{constructor(e,t){super(e,"in",t),this.keys=DC("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class $j extends He{constructor(e,t){super(e,"not-in",t),this.keys=DC("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function DC(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>me.fromName(r.referenceValue))}class Kj extends He{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return sd(t)&&id(t.arrayValue,this.value)}}class NC extends He{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&id(this.value.arrayValue,t)}}class Qj extends He{constructor(e,t){super(e,"not-in",t)}matches(e){if(id(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!id(this.value.arrayValue,t)}}class Wj extends He{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!sd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>id(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(e,t=null,r=[],s=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=u,this.endAt=h,this.Ie=null}}function Qv(n,e=null,t=[],r=[],s=null,o=null,u=null){return new Yj(n,e,t,r,s,o,u)}function Co(n){const e=ge(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Kv(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),xd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Tu(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Tu(r)).join(",")),e.Ie=t}return e.Ie}function Cd(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!qj(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!RC(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!sA(n.startAt,e.startAt)&&sA(n.endAt,e.endAt)}function gm(n){return me.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function ym(n,e){return n.filters.filter(t=>t instanceof He&&t.field.isEqual(e))}function aA(n,e,t){let r=Bp,s=!0;for(const o of ym(n,e)){let u=Bp,h=!0;switch(o.op){case"<":case"<=":u=Fj(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,h=!1;break;case"!=":case"not-in":u=Bp}nA({value:r,inclusive:s},{value:u,inclusive:h})<0&&(r=u,s=h)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];nA({value:r,inclusive:s},{value:u,inclusive:t.inclusive})<0&&(r=u,s=t.inclusive);break}}return{value:r,inclusive:s}}function oA(n,e,t){let r=Ws,s=!0;for(const o of ym(n,e)){let u=Ws,h=!0;switch(o.op){case">=":case">":u=zj(o.value),h=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,h=!1;break;case"!=":case"not-in":u=Ws}rA({value:r,inclusive:s},{value:u,inclusive:h})>0&&(r=u,s=h)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];rA({value:r,inclusive:s},{value:u,inclusive:t.inclusive})>0&&(r=u,s=t.inclusive);break}}return{value:r,inclusive:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,t=null,r=[],s=[],o=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function kC(n,e,t,r,s,o,u,h){return new os(n,e,t,r,s,o,u,h)}function zu(n){return new os(n)}function lA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function dE(n){return n.collectionGroup!==null}function nu(n){const e=ge(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new at(wt.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(m=>{m.isInequality()&&(h=h.add(m.field))})}),h})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new ad(o,r))}),t.has(wt.keyField().canonicalString())||e.Ee.push(new ad(wt.keyField(),r))}return e.Ee}function Un(n){const e=ge(n);return e.de||(e.de=Xj(e,nu(n))),e.de}function Xj(n,e){if(n.limitType==="F")return Qv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new ad(s.field,o)});const t=n.endAt?new ha(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ha(n.startAt.position,n.startAt.inclusive):null;return Qv(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Wv(n,e){const t=n.filters.concat([e]);return new os(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function _m(n,e,t){return new os(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Pd(n,e){return Cd(Un(n),Un(e))&&n.limitType===e.limitType}function OC(n){return`${Co(Un(n))}|lt:${n.limitType}`}function $l(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>PC(s)).join(", ")}]`),xd(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>Tu(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>Tu(s)).join(",")),`Target(${r})`}(Un(n))}; limitType=${n.limitType})`}function Dd(n,e){return e.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):me.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,s){for(const o of nu(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(u,h,f){const m=iA(u,h,f);return u.inclusive?m<=0:m<0}(r.startAt,nu(r),s)||r.endAt&&!function(u,h,f){const m=iA(u,h,f);return u.inclusive?m>=0:m>0}(r.endAt,nu(r),s))}(n,e)}function VC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function MC(n){return(e,t)=>{let r=!1;for(const s of nu(n)){const o=Jj(s,e,t);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function Jj(n,e,t){const r=n.field.isKeyField()?me.comparator(e.key,t.key):function(o,u,h){const f=u.data.field(o),m=h.data.field(o);return f!==null&&m!==null?ca(f,m):_e(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return _e(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ea(this.inner,(t,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return gC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj=new mt(me.comparator);function Qn(){return Zj}const LC=new mt(me.comparator);function Eh(...n){let e=LC;for(const t of n)e=e.insert(t.key,t);return e}function jC(n){let e=LC;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ci(){return Vh()}function UC(){return Vh()}function Vh(){return new ls(n=>n.toString(),(n,e)=>n.isEqual(e))}const eU=new mt(me.comparator),tU=new at(me.comparator);function Ve(...n){let e=tU;for(const t of n)e=e.add(t);return e}const nU=new at(Pe);function fE(){return nU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zh(e)?"-0":e}}function BC(n){return{integerValue:""+n}}function FC(n,e){return sC(e)?BC(e):pE(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(){this._=void 0}}function rU(n,e,t){return n instanceof bu?function(s,o){const u={fields:{[vC]:{stringValue:_C},[TC]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&rg(o)&&(o=ig(o)),o&&(u.fields[EC]=o),{mapValue:u}}(t,e):n instanceof Po?qC(n,e):n instanceof Do?HC(n,e):function(s,o){const u=zC(s,o),h=uA(u)+uA(s.Re);return Gv(u)&&Gv(s.Re)?BC(h):pE(s.serializer,h)}(n,e)}function iU(n,e,t){return n instanceof Po?qC(n,e):n instanceof Do?HC(n,e):t}function zC(n,e){return n instanceof Iu?function(r){return Gv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class bu extends ag{}class Po extends ag{constructor(e){super(),this.elements=e}}function qC(n,e){const t=GC(e);for(const r of n.elements)t.some(s=>_i(s,r))||t.push(r);return{arrayValue:{values:t}}}class Do extends ag{constructor(e){super(),this.elements=e}}function HC(n,e){let t=GC(e);for(const r of n.elements)t=t.filter(s=>!_i(s,r));return{arrayValue:{values:t}}}class Iu extends ag{constructor(e,t){super(),this.serializer=e,this.Re=t}}function uA(n){return Et(n.integerValue||n.doubleValue)}function GC(n){return sd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,t){this.field=e,this.transform=t}}function sU(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof Po&&s instanceof Po||r instanceof Do&&s instanceof Do?pu(r.elements,s.elements,_i):r instanceof Iu&&s instanceof Iu?_i(r.Re,s.Re):r instanceof bu&&s instanceof bu}(n.transform,e.transform)}class aU{constructor(e,t){this.version=e,this.transformResults=t}}class bt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new bt}static exists(e){return new bt(void 0,e)}static updateTime(e){return new bt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qp(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class og{}function $C(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Hu(n.key,bt.none()):new qu(n.key,n.data,bt.none());{const t=n.data,r=Tn.empty();let s=new at(wt.comparator);for(let o of e.fields)if(!s.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?r.delete(o):r.set(o,u),s=s.add(o)}return new us(n.key,r,new Kn(s.toArray()),bt.none())}}function oU(n,e,t){n instanceof qu?function(s,o,u){const h=s.value.clone(),f=hA(s.fieldTransforms,o,u.transformResults);h.setAll(f),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof us?function(s,o,u){if(!qp(s.precondition,o))return void o.convertToUnknownDocument(u.version);const h=hA(s.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(KC(s)),f.setAll(h),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(s,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Mh(n,e,t,r){return n instanceof qu?function(o,u,h,f){if(!qp(o.precondition,u))return h;const m=o.value.clone(),y=dA(o.fieldTransforms,f,u);return m.setAll(y),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(n,e,t,r):n instanceof us?function(o,u,h,f){if(!qp(o.precondition,u))return h;const m=dA(o.fieldTransforms,f,u),y=u.data;return y.setAll(KC(o)),y.setAll(m),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(n,e,t,r):function(o,u,h){return qp(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,e,t)}function lU(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),o=zC(r.transform,s||null);o!=null&&(t===null&&(t=Tn.empty()),t.set(r.field,o))}return t||null}function cA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&pu(r,s,(o,u)=>sU(o,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class qu extends og{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class us extends og{constructor(e,t,r,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function KC(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function hA(n,e,t){const r=new Map;Te(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let s=0;s<t.length;s++){const o=n[s],u=o.transform,h=e.data.field(o.field);r.set(o.field,iU(u,h,t[s]))}return r}function dA(n,e,t){const r=new Map;for(const s of n){const o=s.transform,u=t.data.field(s.field);r.set(s.field,rU(o,u,e))}return r}class Hu extends og{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mE extends og{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&oU(o,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Mh(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Mh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=UC();return this.mutations.forEach(s=>{const o=e.get(s.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=t.has(s.key)?null:h;const f=$C(u,h);f!==null&&r.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(Ie.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ve())}isEqual(e){return this.batchId===e.batchId&&pu(this.mutations,e.mutations,(t,r)=>cA(t,r))&&pu(this.baseMutations,e.baseMutations,(t,r)=>cA(t,r))}}class yE{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Te(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return eU}();const o=e.mutations;for(let u=0;u<o.length;u++)s=s.insert(o[u].key,r[u].version);return new yE(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wt,Ye;function QC(n){switch(n){case J.OK:return _e(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return _e(15467,{code:n})}}function WC(n){if(n===void 0)return zt("GRPC error has no .code"),J.UNKNOWN;switch(n){case Wt.OK:return J.OK;case Wt.CANCELLED:return J.CANCELLED;case Wt.UNKNOWN:return J.UNKNOWN;case Wt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Wt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Wt.INTERNAL:return J.INTERNAL;case Wt.UNAVAILABLE:return J.UNAVAILABLE;case Wt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Wt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Wt.NOT_FOUND:return J.NOT_FOUND;case Wt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Wt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Wt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Wt.ABORTED:return J.ABORTED;case Wt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Wt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Wt.DATA_LOSS:return J.DATA_LOSS;default:return _e(39323,{code:n})}}(Ye=Wt||(Wt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cU=new Zs([4294967295,4294967295],0);function fA(n){const e=nE().encode(n),t=new HR;return t.update(e),new Uint8Array(t.digest())}function pA(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Zs([t,r],0),new Zs([s,o],0)]}class vE{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Th(`Invalid padding: ${t}`);if(r<0)throw new Th(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Th(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Th(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Zs.fromNumber(this.pe)}we(e,t,r){let s=e.add(t.multiply(Zs.fromNumber(r)));return s.compare(cU)===1&&(s=new Zs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=fA(e),[r,s]=pA(t);for(let o=0;o<this.hashCount;o++){const u=this.we(r,s,o);if(!this.Se(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new vE(o,s,t);return r.forEach(h=>u.insert(h)),u}insert(e){if(this.pe===0)return;const t=fA(e),[r,s]=pA(t);for(let o=0;o<this.hashCount;o++){const u=this.we(r,s,o);this.be(u)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Th extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,t,r,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Od.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new kd(Ie.min(),s,new mt(Pe),Qn(),Ve())}}class Od{constructor(e,t,r,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Od(r,t,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e,t,r,s){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=s}}class YC{constructor(e,t){this.targetId=e,this.Ce=t}}class XC{constructor(e,t,r=Vt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class mA{constructor(){this.Fe=0,this.Me=gA(),this.xe=Vt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ve(),t=Ve(),r=Ve();return this.Me.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:_e(38017,{changeType:o})}}),new Od(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=gA()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Te(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class hU{constructor(e){this.ze=e,this.je=new Map,this.He=Qn(),this.Je=vp(),this.Ye=vp(),this.Ze=new mt(Pe)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:_e(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,s)=>{this.it(s)&&t(s)})}ot(e){const t=e.targetId,r=e.Ce.count,s=this._t(t);if(s){const o=s.target;if(gm(o))if(r===0){const u=new me(o.path);this.tt(t,u,yt.newNoDocument(u,Ie.min()))}else Te(r===1,20013,{expectedCount:r});else{const u=this.ut(t);if(u!==r){const h=this.ct(e),f=h?this.lt(h,e,u):1;if(f!==0){this.st(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,m)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=t;let u,h;try{u=rs(r).toUint8Array()}catch(f){if(f instanceof yC)return yi("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new vE(u,s,o)}catch(f){return yi(f instanceof Th?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.pe===0?null:h}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let s=0;return r.forEach(o=>{const u=this.ze.Pt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.tt(t,o,null),s++)}),s}It(e){const t=new Map;this.je.forEach((o,u)=>{const h=this._t(u);if(h){if(o.current&&gm(h.target)){const f=new me(h.target.path);this.Et(f).has(u)||this.dt(u,f)||this.tt(u,f,yt.newNoDocument(f,e))}o.Le&&(t.set(u,o.qe()),o.Qe())}});let r=Ve();this.Ye.forEach((o,u)=>{let h=!0;u.forEachWhile(f=>{const m=this._t(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(o))}),this.He.forEach((o,u)=>u.setReadTime(e));const s=new kd(e,t,this.Ze,this.He,r);return this.He=Qn(),this.Je=vp(),this.Ye=vp(),this.Ze=new mt(Pe),s}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,t)?s.$e(t,1):s.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new mA,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new at(Pe),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new at(Pe),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||le("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new mA),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function vp(){return new mt(me.comparator)}function gA(){return new mt(me.comparator)}const dU={asc:"ASCENDING",desc:"DESCENDING"},fU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pU={and:"AND",or:"OR"};class mU{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Yv(n,e){return n.useProto3Json||xd(e)?e:{value:e}}function Su(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JC(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function gU(n,e){return Su(n,e.toTimestamp())}function qt(n){return Te(!!n,49232),Ie.fromTimestamp(function(t){const r=ns(t);return new It(r.seconds,r.nanos)}(n))}function EE(n,e){return Xv(n,e).canonicalString()}function Xv(n,e){const t=function(s){return new qe(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function ZC(n){const e=qe.fromString(n);return Te(uP(e),10190,{key:e.toString()}),e}function od(n,e){return EE(n.databaseId,e.path)}function fi(n,e){const t=ZC(e);if(t.get(1)!==n.databaseId.projectId)throw new oe(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new oe(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new me(nP(t))}function eP(n,e){return EE(n.databaseId,e)}function tP(n){const e=ZC(n);return e.length===4?qe.emptyPath():nP(e)}function Jv(n){return new qe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function nP(n){return Te(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function yA(n,e,t){return{name:od(n,e),fields:t.value.mapValue.fields}}function rP(n,e,t){const r=fi(n,e.name),s=qt(e.updateTime),o=e.createTime?qt(e.createTime):Ie.min(),u=new Tn({mapValue:{fields:e.fields}}),h=yt.newFoundDocument(r,s,o,u);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function yU(n,e){return"found"in e?function(r,s){Te(!!s.found,43571),s.found.name,s.found.updateTime;const o=fi(r,s.found.name),u=qt(s.found.updateTime),h=s.found.createTime?qt(s.found.createTime):Ie.min(),f=new Tn({mapValue:{fields:s.found.fields}});return yt.newFoundDocument(o,u,h,f)}(n,e):"missing"in e?function(r,s){Te(!!s.missing,3894),Te(!!s.readTime,22933);const o=fi(r,s.missing),u=qt(s.readTime);return yt.newNoDocument(o,u)}(n,e):_e(7234,{result:e})}function _U(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:_e(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(m,y){return m.useProto3Json?(Te(y===void 0||typeof y=="string",58123),Vt.fromBase64String(y||"")):(Te(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Vt.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(m){const y=m.code===void 0?J.UNKNOWN:WC(m.code);return new oe(y,m.message||"")}(u);t=new XC(r,s,o,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=fi(n,r.document.name),o=qt(r.document.updateTime),u=r.document.createTime?qt(r.document.createTime):Ie.min(),h=new Tn({mapValue:{fields:r.document.fields}}),f=yt.newFoundDocument(s,o,u,h),m=r.targetIds||[],y=r.removedTargetIds||[];t=new Hp(m,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=fi(n,r.document),o=r.readTime?qt(r.readTime):Ie.min(),u=yt.newNoDocument(s,o),h=r.removedTargetIds||[];t=new Hp([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=fi(n,r.document),o=r.removedTargetIds||[];t=new Hp([],o,s,null)}else{if(!("filter"in e))return _e(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,u=new uU(s,o),h=r.targetId;t=new YC(h,u)}}return t}function ld(n,e){let t;if(e instanceof qu)t={update:yA(n,e.key,e.value)};else if(e instanceof Hu)t={delete:od(n,e.key)};else if(e instanceof us)t={update:yA(n,e.key,e.data),updateMask:IU(e.fieldMask)};else{if(!(e instanceof mE))return _e(16599,{ft:e.type});t={verify:od(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const h=u.transform;if(h instanceof bu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Po)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Do)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Iu)return{fieldPath:u.field.canonicalString(),increment:h.Re};throw _e(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:gU(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:_e(27497)}(n,e.precondition)),t}function Zv(n,e){const t=e.currentDocument?function(o){return o.updateTime!==void 0?bt.updateTime(qt(o.updateTime)):o.exists!==void 0?bt.exists(o.exists):bt.none()}(e.currentDocument):bt.none(),r=e.updateTransforms?e.updateTransforms.map(s=>function(u,h){let f=null;if("setToServerValue"in h)Te(h.setToServerValue==="REQUEST_TIME",16630,{proto:h}),f=new bu;else if("appendMissingElements"in h){const y=h.appendMissingElements.values||[];f=new Po(y)}else if("removeAllFromArray"in h){const y=h.removeAllFromArray.values||[];f=new Do(y)}else"increment"in h?f=new Iu(u,h.increment):_e(16584,{proto:h});const m=wt.fromServerFormat(h.fieldPath);return new Nd(m,f)}(n,s)):[];if(e.update){e.update.name;const s=fi(n,e.update.name),o=new Tn({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=function(f){const m=f.fieldPaths||[];return new Kn(m.map(y=>wt.fromServerFormat(y)))}(e.updateMask);return new us(s,o,u,t,r)}return new qu(s,o,t,r)}if(e.delete){const s=fi(n,e.delete);return new Hu(s,t)}if(e.verify){const s=fi(n,e.verify);return new mE(s,t)}return _e(1463,{proto:e})}function vU(n,e){return n&&n.length>0?(Te(e!==void 0,14353),n.map(t=>function(s,o){let u=s.updateTime?qt(s.updateTime):qt(o);return u.isEqual(Ie.min())&&(u=qt(o)),new aU(u,s.transformResults||[])}(t,e))):[]}function iP(n,e){return{documents:[eP(n,e.path)]}}function sP(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=eP(n,s);const o=function(m){if(m.length!==0)return lP(st.create(m,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(m){if(m.length!==0)return m.map(y=>function(b){return{field:Kl(b.field),direction:TU(b.dir)}}(y))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=Yv(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{gt:t,parent:s}}function aP(n){let e=tP(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Te(r===1,65062);const y=t.from[0];y.allDescendants?s=y.collectionId:e=e.child(y.collectionId)}let o=[];t.where&&(o=function(v){const b=oP(v);return b instanceof st&&hE(b)?b.getFilters():[b]}(t.where));let u=[];t.orderBy&&(u=function(v){return v.map(b=>function(R){return new ad(Ql(R.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(b))}(t.orderBy));let h=null;t.limit&&(h=function(v){let b;return b=typeof v=="object"?v.value:v,xd(b)?null:b}(t.limit));let f=null;t.startAt&&(f=function(v){const b=!!v.before,x=v.values||[];return new ha(x,b)}(t.startAt));let m=null;return t.endAt&&(m=function(v){const b=!v.before,x=v.values||[];return new ha(x,b)}(t.endAt)),kC(e,s,u,o,h,"F",f,m)}function EU(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:s})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function oP(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Ql(t.unaryFilter.field);return He.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ql(t.unaryFilter.field);return He.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ql(t.unaryFilter.field);return He.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ql(t.unaryFilter.field);return He.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}}(n):n.fieldFilter!==void 0?function(t){return He.create(Ql(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return st.create(t.compositeFilter.filters.map(r=>oP(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return _e(1026)}}(t.compositeFilter.op))}(n):_e(30097,{filter:n})}function TU(n){return dU[n]}function wU(n){return fU[n]}function bU(n){return pU[n]}function Kl(n){return{fieldPath:n.canonicalString()}}function Ql(n){return wt.fromServerFormat(n.fieldPath)}function lP(n){return n instanceof He?function(t){if(t.op==="=="){if(tA(t.value))return{unaryFilter:{field:Kl(t.field),op:"IS_NAN"}};if(eA(t.value))return{unaryFilter:{field:Kl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(tA(t.value))return{unaryFilter:{field:Kl(t.field),op:"IS_NOT_NAN"}};if(eA(t.value))return{unaryFilter:{field:Kl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kl(t.field),op:wU(t.op),value:t.value}}}(n):n instanceof st?function(t){const r=t.getFilters().map(s=>lP(s));return r.length===1?r[0]:{compositeFilter:{op:bU(t.op),filters:r}}}(n):_e(54877,{filter:n})}function IU(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function uP(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,t,r,s,o=Ie.min(),u=Ie.min(),h=Vt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Yi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e){this.wt=e}}function SU(n,e){let t;if(e.document)t=rP(n.wt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=me.fromSegments(e.noDocument.path),s=ko(e.noDocument.readTime);t=yt.newNoDocument(r,s),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return _e(56709);{const r=me.fromSegments(e.unknownDocument.path),s=ko(e.unknownDocument.version);t=yt.newUnknownDocument(r,s)}}return e.readTime&&t.setReadTime(function(s){const o=new It(s[0],s[1]);return Ie.fromTimestamp(o)}(e.readTime)),t}function _A(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:vm(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(o,u){return{name:od(o,u.key),fields:u.data.value.mapValue.fields,updateTime:Su(o,u.version.toTimestamp()),createTime:Su(o,u.createTime.toTimestamp())}}(n.wt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:No(e.version)};else{if(!e.isUnknownDocument())return _e(57904,{document:e});r.unknownDocument={path:t.path.toArray(),version:No(e.version)}}return r}function vm(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function No(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ko(n){const e=new It(n.seconds,n.nanoseconds);return Ie.fromTimestamp(e)}function uo(n,e){const t=(e.baseMutations||[]).map(o=>Zv(n.wt,o));for(let o=0;o<e.mutations.length-1;++o){const u=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const h=e.mutations[o+1];u.updateTransforms=h.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map(o=>Zv(n.wt,o)),s=It.fromMillis(e.localWriteTimeMs);return new gE(e.batchId,s,t,r)}function wh(n){const e=ko(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?ko(n.lastLimboFreeSnapshotVersion):Ie.min();let r;return r=function(o){return o.documents!==void 0}(n.query)?function(o){const u=o.documents.length;return Te(u===1,1966,{count:u}),Un(zu(tP(o.documents[0])))}(n.query):function(o){return Un(aP(o))}(n.query),new Yi(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Vt.fromBase64String(n.resumeToken))}function hP(n,e){const t=No(e.snapshotVersion),r=No(e.lastLimboFreeSnapshotVersion);let s;s=gm(e.target)?iP(n.wt,e.target):sP(n.wt,e.target).gt;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Co(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function TE(n){const e=aP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?_m(e,e.limit,"L"):e}function X_(n,e){return new _E(e.largestBatchId,Zv(n.wt,e.overlayMutation))}function vA(n,e){const t=e.path.lastSegment();return[n,Pn(e.path.popLast()),t]}function EA(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:No(r.readTime),documentKey:Pn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{getBundleMetadata(e,t){return TA(e).get(t).next(r=>{if(r)return function(o){return{id:o.bundleId,createTime:ko(o.createTime),version:o.version}}(r)})}saveBundleMetadata(e,t){return TA(e).put(function(s){return{bundleId:s.id,createTime:No(qt(s.createTime)),version:s.version}}(t))}getNamedQuery(e,t){return wA(e).get(t).next(r=>{if(r)return function(o){return{name:o.name,query:TE(o.bundledQuery),readTime:ko(o.readTime)}}(r)})}saveNamedQuery(e,t){return wA(e).put(function(s){return{name:s.name,readTime:No(qt(s.readTime)),bundledQuery:s.bundledQuery}}(t))}}function TA(n){return sn(n,eg)}function wA(n){return sn(n,tg)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,t){this.serializer=e,this.userId=t}static St(e,t){const r=t.uid||"";return new lg(e,r)}getOverlay(e,t){return ch(e).get(vA(this.userId,t)).next(r=>r?X_(this.serializer,r):null)}getOverlays(e,t){const r=ci();return $.forEach(t,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,t,r){const s=[];return r.forEach((o,u)=>{const h=new _E(t,u);s.push(this.bt(e,h))}),$.waitFor(s)}removeOverlaysForBatchId(e,t,r){const s=new Set;t.forEach(u=>s.add(Pn(u.getCollectionPath())));const o=[];return s.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);o.push(ch(e).X(Fv,h))}),$.waitFor(o)}getOverlaysForCollection(e,t,r){const s=ci(),o=Pn(t),u=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return ch(e).J(Fv,u).next(h=>{for(const f of h){const m=X_(this.serializer,f);s.set(m.getKey(),m)}return s})}getOverlaysForCollectionGroup(e,t,r,s){const o=ci();let u;const h=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return ch(e).te({index:hC,range:h},(f,m,y)=>{const v=X_(this.serializer,m);o.size()<s||v.largestBatchId===u?(o.set(v.getKey(),v),u=v.largestBatchId):y.done()}).next(()=>o)}bt(e,t){return ch(e).put(function(s,o,u){const[h,f,m]=vA(o,u.mutation.key);return{userId:o,collectionPath:f,documentId:m,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:ld(s.wt,u.mutation)}}(this.serializer,this.userId,t))}}function ch(n){return sn(n,ng)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{Dt(e){return sn(e,oE)}getSessionToken(e){return this.Dt(e).get("sessionToken").next(t=>{const r=t==null?void 0:t.value;return r?Vt.fromUint8Array(r):Vt.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.Dt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(Et(e.integerValue));else if("doubleValue"in e){const r=Et(e.doubleValue);isNaN(r)?this.Mt(t,13):(this.Mt(t,15),Zh(r)?t.xt(0):t.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(t,20),typeof r=="string"&&(r=ns(r)),t.Ot(`${r.seconds||""}`),t.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(rs(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Mt(t,45),t.xt(r.latitude||0),t.xt(r.longitude||0)}else"mapValue"in e?bC(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):sg(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):_e(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){const r=e.fields||{};this.Mt(t,55);for(const s of Object.keys(r))this.Nt(s,t),this.Ct(r[s],t)}qt(e,t){var r,s;const o=e.fields||{};this.Mt(t,53);const u=Eu,h=((s=(r=o[u].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.length)||0;this.Mt(t,15),t.xt(Et(h)),this.Nt(u,t),this.Ct(o[u],t)}$t(e,t){const r=e.values||[];this.Mt(t,50);for(const s of r)this.Ct(s,t)}kt(e,t){this.Mt(t,37),me.fromName(e).path.forEach(r=>{this.Mt(t,60),this.Kt(r,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}}co.Wt=new co;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl=255;function RU(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function bA(n){const e=64-function(r){let s=0;for(let o=0;o<8;++o){const u=RU(255&r[o]);if(s+=u,u!==8)break}return s}(n);return Math.ceil(e/8)}class CU{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Gt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.zt(r.value),r=t.next();this.jt()}Ht(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Jt(r.value),r=t.next();this.Yt()}Zt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.zt(r);else if(r<2048)this.zt(960|r>>>6),this.zt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.zt(480|r>>>12),this.zt(128|63&r>>>6),this.zt(128|63&r);else{const s=t.codePointAt(0);this.zt(240|s>>>18),this.zt(128|63&s>>>12),this.zt(128|63&s>>>6),this.zt(128|63&s)}}this.jt()}Xt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const s=t.codePointAt(0);this.Jt(240|s>>>18),this.Jt(128|63&s>>>12),this.Jt(128|63&s>>>6),this.Jt(128|63&s)}}this.Yt()}en(e){const t=this.tn(e),r=bA(t);this.nn(1+r),this.buffer[this.position++]=255&r;for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=255&t[s]}rn(e){const t=this.tn(e),r=bA(t);this.nn(1+r),this.buffer[this.position++]=~(255&r);for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=~(255&t[s])}sn(){this._n(Fl),this._n(255)}an(){this.un(Fl),this.un(255)}reset(){this.position=0}seed(e){this.nn(e.length),this.buffer.set(e,this.position),this.position+=e.length}cn(){return this.buffer.slice(0,this.position)}tn(e){const t=function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)}(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let s=1;s<t.length;++s)t[s]^=r?255:0;return t}zt(e){const t=255&e;t===0?(this._n(0),this._n(255)):t===Fl?(this._n(Fl),this._n(0)):this._n(t)}Jt(e){const t=255&e;t===0?(this.un(0),this.un(255)):t===Fl?(this.un(Fl),this.un(0)):this.un(e)}jt(){this._n(0),this._n(1)}Yt(){this.un(0),this.un(1)}_n(e){this.nn(1),this.buffer[this.position++]=e}un(e){this.nn(1),this.buffer[this.position++]=~e}nn(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class PU{constructor(e){this.ln=e}Lt(e){this.ln.Gt(e)}Ot(e){this.ln.Zt(e)}xt(e){this.ln.en(e)}Ft(){this.ln.sn()}}class DU{constructor(e){this.ln=e}Lt(e){this.ln.Ht(e)}Ot(e){this.ln.Xt(e)}xt(e){this.ln.rn(e)}Ft(){this.ln.an()}}class hh{constructor(){this.ln=new CU,this.hn=new PU(this.ln),this.Pn=new DU(this.ln)}seed(e){this.ln.seed(e)}Tn(e){return e===0?this.hn:this.Pn}cn(){return this.ln.cn()}reset(){this.ln.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,t,r,s){this.In=e,this.En=t,this.dn=r,this.An=s}Rn(){const e=this.An.length,t=e===0||this.An[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.An,0),t!==e?r.set([0],this.An.length):++r[r.length-1],new ho(this.In,this.En,this.dn,r)}Vn(e,t,r){return{indexId:this.In,uid:e,arrayValue:Gp(this.dn),directionalValue:Gp(this.An),orderedDocumentKey:Gp(t),documentKey:r.path.toArray()}}mn(e,t,r){const s=this.Vn(e,t,r);return[s.indexId,s.uid,s.arrayValue,s.directionalValue,s.orderedDocumentKey,s.documentKey]}}function Fs(n,e){let t=n.In-e.In;return t!==0?t:(t=IA(n.dn,e.dn),t!==0?t:(t=IA(n.An,e.An),t!==0?t:me.comparator(n.En,e.En)))}function IA(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}function Gp(n){return D1()?function(t){let r="";for(let s=0;s<t.length;s++)r+=String.fromCharCode(t[s]);return r}(n):n}function SA(n){return typeof n!="string"?n:function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(n)}class AA{constructor(e){this.fn=new at((t,r)=>wt.comparator(t.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.gn=e.orderBy,this.pn=[];for(const t of e.filters){const r=t;r.isInequality()?this.fn=this.fn.add(r):this.pn.push(r)}}get yn(){return this.fn.size>1}wn(e){if(Te(e.collectionGroup===this.collectionId,49279),this.yn)return!1;const t=jv(e);if(t!==void 0&&!this.Sn(t))return!1;const r=ao(e);let s=new Set,o=0,u=0;for(;o<r.length&&this.Sn(r[o]);++o)s=s.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.fn.size>0){const h=this.fn.getIterator().getNext();if(!s.has(h.field.canonicalString())){const f=r[o];if(!this.bn(h,f)||!this.Dn(this.gn[u++],f))return!1}++o}for(;o<r.length;++o){const h=r[o];if(u>=this.gn.length||!this.Dn(this.gn[u++],h))return!1}return!0}vn(){if(this.yn)return null;let e=new at(wt.comparator);const t=[];for(const r of this.pn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new Lp(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new Lp(r.field,0))}for(const r of this.gn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new Lp(r.field,r.dir==="asc"?0:1)));return new dm(dm.UNKNOWN_ID,this.collectionId,t,Jh.empty())}Sn(e){for(const t of this.pn)if(this.bn(t,e))return!0;return!1}bn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}Dn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(n){var e,t;if(Te(n instanceof He||n instanceof st,20012),n instanceof He){if(n instanceof NC){const s=((t=(e=n.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(o=>He.create(n.field,"==",o)))||[];return st.create(s,"or")}return n}const r=n.filters.map(s=>dP(s));return st.create(r,n.op)}function NU(n){if(n.getFilters().length===0)return[];const e=n0(dP(n));return Te(fP(e),7391),e0(e)||t0(e)?[e]:e.getFilters()}function e0(n){return n instanceof He}function t0(n){return n instanceof st&&hE(n)}function fP(n){return e0(n)||t0(n)||function(t){if(t instanceof st&&$v(t)){for(const r of t.getFilters())if(!e0(r)&&!t0(r))return!1;return!0}return!1}(n)}function n0(n){if(Te(n instanceof He||n instanceof st,34018),n instanceof He)return n;if(n.filters.length===1)return n0(n.filters[0]);const e=n.filters.map(r=>n0(r));let t=st.create(e,n.op);return t=Em(t),fP(t)?t:(Te(t instanceof st,64498),Te(wu(t),40251),Te(t.filters.length>1,57927),t.filters.reduce((r,s)=>wE(r,s)))}function wE(n,e){let t;return Te(n instanceof He||n instanceof st,38388),Te(e instanceof He||e instanceof st,25473),t=n instanceof He?e instanceof He?function(s,o){return st.create([s,o],"and")}(n,e):xA(n,e):e instanceof He?xA(e,n):function(s,o){if(Te(s.filters.length>0&&o.filters.length>0,48005),wu(s)&&wu(o))return CC(s,o.getFilters());const u=$v(s)?s:o,h=$v(s)?o:s,f=u.filters.map(m=>wE(m,h));return st.create(f,"or")}(n,e),Em(t)}function xA(n,e){if(wu(e))return CC(e,n.getFilters());{const t=e.filters.map(r=>wE(n,r));return st.create(t,"or")}}function Em(n){if(Te(n instanceof He||n instanceof st,11850),n instanceof He)return n;const e=n.getFilters();if(e.length===1)return Em(e[0]);if(xC(n))return n;const t=e.map(s=>Em(s)),r=[];return t.forEach(s=>{s instanceof He?r.push(s):s instanceof st&&(s.op===n.op?r.push(...s.filters):r.push(s))}),r.length===1?r[0]:st.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(){this.Cn=new bE}addToCollectionParentIndex(e,t){return this.Cn.add(t),$.resolve()}getCollectionParents(e,t){return $.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return $.resolve()}deleteFieldIndex(e,t){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,t){return $.resolve()}getDocumentsMatchingTarget(e,t){return $.resolve(null)}getIndexType(e,t){return $.resolve(0)}getFieldIndexes(e,t){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,t){return $.resolve(ur.min())}getMinOffsetFromCollectionGroup(e,t){return $.resolve(ur.min())}updateCollectionGroup(e,t,r){return $.resolve()}updateIndexEntries(e,t){return $.resolve()}}class bE{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new at(qe.comparator),o=!s.has(r);return this.index[t]=s.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new at(qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA="IndexedDbIndexManager",Ep=new Uint8Array(0);class OU{constructor(e,t){this.databaseId=t,this.Fn=new bE,this.Mn=new ls(r=>Co(r),(r,s)=>Cd(r,s)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Fn.has(t)){const r=t.lastSegment(),s=t.popLast();e.addOnCommittedListener(()=>{this.Fn.add(t)});const o={collectionId:r,parent:Pn(s)};return CA(e).put(o)}return $.resolve()}getCollectionParents(e,t){const r=[],s=IDBKeyRange.bound([t,""],[ZR(t),""],!1,!0);return CA(e).J(s).next(o=>{for(const u of o){if(u.collectionId!==t)break;r.push(ui(u.parent))}return r})}addFieldIndex(e,t){const r=dh(e),s=function(h){return{indexId:h.indexId,collectionGroup:h.collectionGroup,fields:h.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])}}(t);delete s.indexId;const o=r.add(s);if(t.indexState){const u=ql(e);return o.next(h=>{u.put(EA(h,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const r=dh(e),s=ql(e),o=zl(e);return r.delete(t.indexId).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=dh(e),r=zl(e),s=ql(e);return t.X().next(()=>r.X()).next(()=>s.X())}createTargetIndexes(e,t){return $.forEach(this.xn(t),r=>this.getIndexType(e,r).next(s=>{if(s===0||s===1){const o=new AA(r).vn();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,t){const r=zl(e);let s=!0;const o=new Map;return $.forEach(this.xn(t),u=>this.On(e,u).next(h=>{s&&(s=!!h),o.set(u,h)})).next(()=>{if(s){let u=Ve();const h=[];return $.forEach(o,(f,m)=>{le(RA,`Using index ${function(W){return`id=${W.indexId}|cg=${W.collectionGroup}|f=${W.fields.map(ne=>`${ne.fieldPath}:${ne.kind}`).join(",")}`}(f)} to execute ${Co(t)}`);const y=function(W,ne){const ae=jv(ne);if(ae===void 0)return null;for(const ce of ym(W,ae.fieldPath))switch(ce.op){case"array-contains-any":return ce.value.arrayValue.values||[];case"array-contains":return[ce.value]}return null}(m,f),v=function(W,ne){const ae=new Map;for(const ce of ao(ne))for(const P of ym(W,ce.fieldPath))switch(P.op){case"==":case"in":ae.set(ce.fieldPath.canonicalString(),P.value);break;case"not-in":case"!=":return ae.set(ce.fieldPath.canonicalString(),P.value),Array.from(ae.values())}return null}(m,f),b=function(W,ne){const ae=[];let ce=!0;for(const P of ao(ne)){const A=P.kind===0?aA(W,P.fieldPath,W.startAt):oA(W,P.fieldPath,W.startAt);ae.push(A.value),ce&&(ce=A.inclusive)}return new ha(ae,ce)}(m,f),x=function(W,ne){const ae=[];let ce=!0;for(const P of ao(ne)){const A=P.kind===0?oA(W,P.fieldPath,W.endAt):aA(W,P.fieldPath,W.endAt);ae.push(A.value),ce&&(ce=A.inclusive)}return new ha(ae,ce)}(m,f),R=this.Nn(f,m,b),N=this.Nn(f,m,x),M=this.Bn(f,m,v),H=this.Ln(f.indexId,y,R,b.inclusive,N,x.inclusive,M);return $.forEach(H,z=>r.Z(z,t.limit).next(W=>{W.forEach(ne=>{const ae=me.fromSegments(ne.documentKey);u.has(ae)||(u=u.add(ae),h.push(ae))})}))}).next(()=>h)}return $.resolve(null)})}xn(e){let t=this.Mn.get(e);return t||(e.filters.length===0?t=[e]:t=NU(st.create(e.filters,"and")).map(r=>Qv(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Mn.set(e,t),t)}Ln(e,t,r,s,o,u,h){const f=(t!=null?t.length:1)*Math.max(r.length,o.length),m=f/(t!=null?t.length:1),y=[];for(let v=0;v<f;++v){const b=t?this.kn(t[v/m]):Ep,x=this.qn(e,b,r[v%m],s),R=this.Qn(e,b,o[v%m],u),N=h.map(M=>this.qn(e,b,M,!0));y.push(...this.createRange(x,R,N))}return y}qn(e,t,r,s){const o=new ho(e,me.empty(),t,r);return s?o:o.Rn()}Qn(e,t,r,s){const o=new ho(e,me.empty(),t,r);return s?o.Rn():o}On(e,t){const r=new AA(t),s=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,s).next(o=>{let u=null;for(const h of o)r.wn(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u})}getIndexType(e,t){let r=2;const s=this.xn(t);return $.forEach(s,o=>this.On(e,o).next(u=>{u?r!==0&&u.fields.length<function(f){let m=new at(wt.comparator),y=!1;for(const v of f.filters)for(const b of v.getFlattenedFilters())b.field.isKeyField()||(b.op==="array-contains"||b.op==="array-contains-any"?y=!0:m=m.add(b.field));for(const v of f.orderBy)v.field.isKeyField()||(m=m.add(v.field));return m.size+(y?1:0)}(o)&&(r=1):r=0})).next(()=>function(u){return u.limit!==null}(t)&&s.length>1&&r===2?1:r)}$n(e,t){const r=new hh;for(const s of ao(e)){const o=t.data.field(s.fieldPath);if(o==null)return null;const u=r.Tn(s.kind);co.Wt.vt(o,u)}return r.cn()}kn(e){const t=new hh;return co.Wt.vt(e,t.Tn(0)),t.cn()}Un(e,t){const r=new hh;return co.Wt.vt(Ro(this.databaseId,t),r.Tn(function(o){const u=ao(o);return u.length===0?0:u[u.length-1].kind}(e))),r.cn()}Bn(e,t,r){if(r===null)return[];let s=[];s.push(new hh);let o=0;for(const u of ao(e)){const h=r[o++];for(const f of s)if(this.Kn(t,u.fieldPath)&&sd(h))s=this.Wn(s,u,h);else{const m=f.Tn(u.kind);co.Wt.vt(h,m)}}return this.Gn(s)}Nn(e,t,r){return this.Bn(e,t,r.position)}Gn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].cn();return t}Wn(e,t,r){const s=[...e],o=[];for(const u of r.arrayValue.values||[])for(const h of s){const f=new hh;f.seed(h.cn()),co.Wt.vt(u,f.Tn(t.kind)),o.push(f)}return o}Kn(e,t){return!!e.filters.find(r=>r instanceof He&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,t){const r=dh(e),s=ql(e);return(t?r.J(Bv,IDBKeyRange.bound(t,t)):r.J()).next(o=>{const u=[];return $.forEach(o,h=>s.get([h.indexId,this.uid]).next(f=>{u.push(function(y,v){const b=v?new Jh(v.sequenceNumber,new ur(ko(v.readTime),new me(ui(v.documentKey)),v.largestBatchId)):Jh.empty(),x=y.fields.map(([R,N])=>new Lp(wt.fromServerFormat(R),N));return new dm(y.indexId,y.collectionGroup,x,b)}(h,f))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((r,s)=>{const o=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return o!==0?o:Pe(r.collectionGroup,s.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const s=dh(e),o=ql(e);return this.zn(e).next(u=>s.J(Bv,IDBKeyRange.bound(t,t)).next(h=>$.forEach(h,f=>o.put(EA(f.indexId,this.uid,u,r)))))}updateIndexEntries(e,t){const r=new Map;return $.forEach(t,(s,o)=>{const u=r.get(s.collectionGroup);return(u?$.resolve(u):this.getFieldIndexes(e,s.collectionGroup)).next(h=>(r.set(s.collectionGroup,h),$.forEach(h,f=>this.jn(e,s,f).next(m=>{const y=this.Hn(o,f);return m.isEqual(y)?$.resolve():this.Jn(e,o,f,m,y)}))))})}Yn(e,t,r,s){return zl(e).put(s.Vn(this.uid,this.Un(r,t.key),t.key))}Zn(e,t,r,s){return zl(e).delete(s.mn(this.uid,this.Un(r,t.key),t.key))}jn(e,t,r){const s=zl(e);let o=new at(Fs);return s.te({index:cC,range:IDBKeyRange.only([r.indexId,this.uid,Gp(this.Un(r,t))])},(u,h)=>{o=o.add(new ho(r.indexId,t,SA(h.arrayValue),SA(h.directionalValue)))}).next(()=>o)}Hn(e,t){let r=new at(Fs);const s=this.$n(t,e);if(s==null)return r;const o=jv(t);if(o!=null){const u=e.data.field(o.fieldPath);if(sd(u))for(const h of u.arrayValue.values||[])r=r.add(new ho(t.indexId,e.key,this.kn(h),s))}else r=r.add(new ho(t.indexId,e.key,Ep,s));return r}Jn(e,t,r,s,o){le(RA,"Updating index entries for document '%s'",t.key);const u=[];return function(f,m,y,v,b){const x=f.getIterator(),R=m.getIterator();let N=Bl(x),M=Bl(R);for(;N||M;){let H=!1,z=!1;if(N&&M){const W=y(N,M);W<0?z=!0:W>0&&(H=!0)}else N!=null?z=!0:H=!0;H?(v(M),M=Bl(R)):z?(b(N),N=Bl(x)):(N=Bl(x),M=Bl(R))}}(s,o,Fs,h=>{u.push(this.Yn(e,t,r,h))},h=>{u.push(this.Zn(e,t,r,h))}),$.waitFor(u)}zn(e){let t=1;return ql(e).te({index:uC,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,s,o)=>{o.done(),t=s.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((u,h)=>Fs(u,h)).filter((u,h,f)=>!h||Fs(u,f[h-1])!==0);const s=[];s.push(e);for(const u of r){const h=Fs(u,e),f=Fs(u,t);if(h===0)s[0]=e.Rn();else if(h>0&&f<0)s.push(u),s.push(u.Rn());else if(f>0)break}s.push(t);const o=[];for(let u=0;u<s.length;u+=2){if(this.Xn(s[u],s[u+1]))return[];const h=s[u].mn(this.uid,Ep,me.empty()),f=s[u+1].mn(this.uid,Ep,me.empty());o.push(IDBKeyRange.bound(h,f))}return o}Xn(e,t){return Fs(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(PA)}getMinOffset(e,t){return $.mapArray(this.xn(t),r=>this.On(e,r).next(s=>s||_e(44426))).next(PA)}}function CA(n){return sn(n,nd)}function zl(n){return sn(n,kh)}function dh(n){return sn(n,aE)}function ql(n){return sn(n,Nh)}function PA(n){Te(n.length!==0,28825);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const s=n[r].indexState.offset;rE(s,e)<0&&(e=s),t<s.largestBatchId&&(t=s.largestBatchId)}return new ur(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pP=41943040;class Rn{static withCacheSize(e){return new Rn(e,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(n,e,t){const r=n.store(Or),s=n.store(gu),o=[],u=IDBKeyRange.only(t.batchId);let h=0;const f=r.te({range:u},(y,v,b)=>(h++,b.delete()));o.push(f.next(()=>{Te(h===1,47070,{batchId:t.batchId})}));const m=[];for(const y of t.mutations){const v=aC(e,y.key.path,t.batchId);o.push(s.delete(v)),m.push(y.key)}return $.waitFor(o).next(()=>m)}function Tm(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw _e(14731);e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(pP,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);class ug{constructor(e,t,r,s){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=s,this.er={}}static St(e,t,r,s){Te(e.uid!=="",64387);const o=e.isAuthenticated()?e.uid:"";return new ug(o,t,r,s)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return zs(e).te({index:go,range:r},(s,o,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,r,s){const o=Wl(e),u=zs(e);return u.add({}).next(h=>{Te(typeof h=="number",49019);const f=new gE(h,t,r,s),m=function(x,R,N){const M=N.baseMutations.map(z=>ld(x.wt,z)),H=N.mutations.map(z=>ld(x.wt,z));return{userId:R,batchId:N.batchId,localWriteTimeMs:N.localWriteTime.toMillis(),baseMutations:M,mutations:H}}(this.serializer,this.userId,f),y=[];let v=new at((b,x)=>Pe(b.canonicalString(),x.canonicalString()));for(const b of s){const x=aC(this.userId,b.key.path,h);v=v.add(b.key.path.popLast()),y.push(u.put(m)),y.push(o.put(x,pj))}return v.forEach(b=>{y.push(this.indexManager.addToCollectionParentIndex(e,b))}),e.addOnCommittedListener(()=>{this.er[h]=f.keys()}),$.waitFor(y).next(()=>f)})}lookupMutationBatch(e,t){return zs(e).get(t).next(r=>r?(Te(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:t}),uo(this.serializer,r)):null)}tr(e,t){return this.er[t]?$.resolve(this.er[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const s=r.keys();return this.er[t]=s,s}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return zs(e).te({index:go,range:s},(u,h,f)=>{h.userId===this.userId&&(Te(h.batchId>=r,47524,{nr:r}),o=uo(this.serializer,h)),f.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=ea;return zs(e).te({index:go,range:t,reverse:!0},(s,o,u)=>{r=o.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,ea],[this.userId,Number.POSITIVE_INFINITY]);return zs(e).J(go,t).next(r=>r.map(s=>uo(this.serializer,s)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=jp(this.userId,t.path),s=IDBKeyRange.lowerBound(r),o=[];return Wl(e).te({range:s},(u,h,f)=>{const[m,y,v]=u,b=ui(y);if(m===this.userId&&t.path.isEqual(b))return zs(e).get(v).next(x=>{if(!x)throw _e(61480,{rr:u,batchId:v});Te(x.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:x.userId,batchId:v}),o.push(uo(this.serializer,x))});f.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new at(Pe);const s=[];return t.forEach(o=>{const u=jp(this.userId,o.path),h=IDBKeyRange.lowerBound(u),f=Wl(e).te({range:h},(m,y,v)=>{const[b,x,R]=m,N=ui(x);b===this.userId&&o.path.isEqual(N)?r=r.add(R):v.done()});s.push(f)}),$.waitFor(s).next(()=>this.ir(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1,o=jp(this.userId,r),u=IDBKeyRange.lowerBound(o);let h=new at(Pe);return Wl(e).te({range:u},(f,m,y)=>{const[v,b,x]=f,R=ui(b);v===this.userId&&r.isPrefixOf(R)?R.length===s&&(h=h.add(x)):y.done()}).next(()=>this.ir(e,h))}ir(e,t){const r=[],s=[];return t.forEach(o=>{s.push(zs(e).get(o).next(u=>{if(u===null)throw _e(35274,{batchId:o});Te(u.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:u.userId,batchId:o}),r.push(uo(this.serializer,u))}))}),$.waitFor(s).next(()=>r)}removeMutationBatch(e,t){return mP(e.he,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.sr(t.batchId)}),$.forEach(r,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}sr(e){delete this.er[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return $.resolve();const r=IDBKeyRange.lowerBound(function(u){return[u]}(this.userId)),s=[];return Wl(e).te({range:r},(o,u,h)=>{if(o[0]===this.userId){const f=ui(o[1]);s.push(f)}else h.done()}).next(()=>{Te(s.length===0,56720,{_r:s.map(o=>o.canonicalString())})})})}containsKey(e,t){return gP(e,this.userId,t)}ar(e){return yP(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:ea,lastStreamToken:""})}}function gP(n,e,t){const r=jp(e,t.path),s=r[1],o=IDBKeyRange.lowerBound(r);let u=!1;return Wl(n).te({range:o,ee:!0},(h,f,m)=>{const[y,v,b]=h;y===e&&v===s&&(u=!0),m.done()}).next(()=>u)}function zs(n){return sn(n,Or)}function Wl(n){return sn(n,gu)}function yP(n){return sn(n,ed)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Oo(0)}static lr(){return new Oo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VU{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.hr(e).next(t=>{const r=new Oo(t.highestTargetId);return t.highestTargetId=r.next(),this.Pr(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.hr(e).next(t=>Ie.fromTimestamp(new It(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.hr(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.hr(e).next(s=>(s.highestListenSequenceNumber=t,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),t>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t),this.Pr(e,s)))}addTargetData(e,t){return this.Tr(e,t).next(()=>this.hr(e).next(r=>(r.targetCount+=1,this.Ir(t,r),this.Pr(e,r))))}updateTargetData(e,t){return this.Tr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Hl(e).delete(t.targetId)).next(()=>this.hr(e)).next(r=>(Te(r.targetCount>0,8065),r.targetCount-=1,this.Pr(e,r)))}removeTargets(e,t,r){let s=0;const o=[];return Hl(e).te((u,h)=>{const f=wh(h);f.sequenceNumber<=t&&r.get(f.targetId)===null&&(s++,o.push(this.removeTargetData(e,f)))}).next(()=>$.waitFor(o)).next(()=>s)}forEachTarget(e,t){return Hl(e).te((r,s)=>{const o=wh(s);t(o)})}hr(e){return NA(e).get(mm).next(t=>(Te(t!==null,2888),t))}Pr(e,t){return NA(e).put(mm,t)}Tr(e,t){return Hl(e).put(hP(this.serializer,t))}Ir(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.hr(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Co(t),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return Hl(e).te({range:s,index:lC},(u,h,f)=>{const m=wh(h);Cd(t,m.target)&&(o=m,f.done())}).next(()=>o)}addMatchingKeys(e,t,r){const s=[],o=$s(e);return t.forEach(u=>{const h=Pn(u.path);s.push(o.put({targetId:r,path:h})),s.push(this.referenceDelegate.addReference(e,r,u))}),$.waitFor(s)}removeMatchingKeys(e,t,r){const s=$s(e);return $.forEach(t,o=>{const u=Pn(o.path);return $.waitFor([s.delete([r,u]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,t){const r=$s(e),s=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),s=$s(e);let o=Ve();return s.te({range:r,ee:!0},(u,h,f)=>{const m=ui(u[1]),y=new me(m);o=o.add(y)}).next(()=>o)}containsKey(e,t){const r=Pn(t.path),s=IDBKeyRange.bound([r],[ZR(r)],!1,!0);let o=0;return $s(e).te({index:sE,ee:!0,range:s},([u,h],f,m)=>{u!==0&&(o++,m.done())}).next(()=>o>0)}Rt(e,t){return Hl(e).get(t).next(r=>r?wh(r):null)}}function Hl(n){return sn(n,yu)}function NA(n){return sn(n,bo)}function $s(n){return sn(n,_u)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA="LruGarbageCollector",MU=1048576;function OA([n,e],[t,r]){const s=Pe(n,t);return s===0?Pe(e,r):s}class LU{constructor(e){this.Er=e,this.buffer=new at(OA),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();OA(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class _P{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){le(kA,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){va(t)?le(kA,"Ignoring IndexedDB error during garbage collection: ",t):await _a(t)}await this.mr(3e5)})}}class jU{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return $.resolve($n.le);const r=new LU(t);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(DA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),DA):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,s,o,u,h,f,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),s=this.params.maximumSequenceNumbersToCollect):s=v,u=Date.now(),this.nthSequenceNumber(e,s))).next(v=>(r=v,h=Date.now(),this.removeTargets(e,r,t))).next(v=>(o=v,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(m=Date.now(),Gl()<=ze.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${s} in `+(h-u)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${v} documents in `+(m-f)+`ms
Total Duration: ${m-y}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:v})))}}function vP(n,e){return new jU(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(e,t){this.db=e,this.garbageCollector=vP(this,t)}pr(e){const t=this.Sr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}Sr(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}yr(e,t){return this.br(e,(r,s)=>t(s))}addReference(e,t,r){return Tp(e,r)}removeReference(e,t,r){return Tp(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Tp(e,t)}Dr(e,t){return function(s,o){let u=!1;return yP(s).ne(h=>gP(s,h,o).next(f=>(f&&(u=!0),$.resolve(!f)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let o=0;return this.br(e,(u,h)=>{if(h<=t){const f=this.Dr(e,u).next(m=>{if(!m)return o++,r.getEntry(e,u).next(()=>(r.removeEntry(u,Ie.min()),$s(e).delete(function(v){return[0,Pn(v.path)]}(u))))});s.push(f)}}).next(()=>$.waitFor(s)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Tp(e,t)}br(e,t){const r=$s(e);let s,o=$n.le;return r.te({index:sE},([u,h],{path:f,sequenceNumber:m})=>{u===0?(o!==$n.le&&t(new me(ui(s)),o),o=m,s=f):o=$n.le}).next(()=>{o!==$n.le&&t(new me(ui(s)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Tp(n,e){return $s(n).put(function(r,s){return{targetId:0,path:Pn(r.path),sequenceNumber:s}}(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(){this.changes=new ls(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,yt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?$.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return ro(e).put(r)}removeEntry(e,t,r){return ro(e).delete(function(o,u){const h=o.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],vm(u),h[h.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.vr(e,r)))}getEntry(e,t){let r=yt.newInvalidDocument(t);return ro(e).te({index:Up,range:IDBKeyRange.only(fh(t))},(s,o)=>{r=this.Cr(t,o)}).next(()=>r)}Fr(e,t){let r={size:0,document:yt.newInvalidDocument(t)};return ro(e).te({index:Up,range:IDBKeyRange.only(fh(t))},(s,o)=>{r={document:this.Cr(t,o),size:Tm(o)}}).next(()=>r)}getEntries(e,t){let r=Qn();return this.Mr(e,t,(s,o)=>{const u=this.Cr(s,o);r=r.insert(s,u)}).next(()=>r)}Or(e,t){let r=Qn(),s=new mt(me.comparator);return this.Mr(e,t,(o,u)=>{const h=this.Cr(o,u);r=r.insert(o,h),s=s.insert(o,Tm(u))}).next(()=>({documents:r,Nr:s}))}Mr(e,t,r){if(t.isEmpty())return $.resolve();let s=new at(LA);t.forEach(f=>s=s.add(f));const o=IDBKeyRange.bound(fh(s.first()),fh(s.last())),u=s.getIterator();let h=u.getNext();return ro(e).te({index:Up,range:o},(f,m,y)=>{const v=me.fromSegments([...m.prefixPath,m.collectionGroup,m.documentId]);for(;h&&LA(h,v)<0;)r(h,null),h=u.getNext();h&&h.isEqual(v)&&(r(h,m),h=u.hasNext()?u.getNext():null),h?y.H(fh(h)):y.done()}).next(()=>{for(;h;)r(h,null),h=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,t,r,s,o){const u=t.path,h=[u.popLast().toArray(),u.lastSegment(),vm(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],f=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ro(e).J(IDBKeyRange.bound(h,f,!0)).next(m=>{o==null||o.incrementDocumentReadCount(m.length);let y=Qn();for(const v of m){const b=this.Cr(me.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);b.isFoundDocument()&&(Dd(t,b)||s.has(b.key))&&(y=y.insert(b.key,b))}return y})}getAllFromCollectionGroup(e,t,r,s){let o=Qn();const u=MA(t,r),h=MA(t,ur.max());return ro(e).te({index:oC,range:IDBKeyRange.bound(u,h,!0)},(f,m,y)=>{const v=this.Cr(me.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);o=o.insert(v.key,v),o.size===s&&y.done()}).next(()=>o)}newChangeBuffer(e){return new FU(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return VA(e).get(Uv).next(t=>(Te(!!t,20021),t))}vr(e,t){return VA(e).put(Uv,t)}Cr(e,t){if(t){const r=SU(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(Ie.min())))return r}return yt.newInvalidDocument(e)}}function TP(n){return new BU(n)}class FU extends EP{constructor(e,t){super(),this.Br=e,this.trackRemovals=t,this.Lr=new ls(r=>r.toString(),(r,s)=>r.isEqual(s))}applyChanges(e){const t=[];let r=0,s=new at((o,u)=>Pe(o.canonicalString(),u.canonicalString()));return this.changes.forEach((o,u)=>{const h=this.Lr.get(o);if(t.push(this.Br.removeEntry(e,o,h.readTime)),u.isValidDocument()){const f=_A(this.Br.serializer,u);s=s.add(o.path.popLast());const m=Tm(f);r+=m-h.size,t.push(this.Br.addEntry(e,o,f))}else if(r-=h.size,this.trackRemovals){const f=_A(this.Br.serializer,u.convertToNoDocument(Ie.min()));t.push(this.Br.addEntry(e,o,f))}}),s.forEach(o=>{t.push(this.Br.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.Br.updateMetadata(e,r)),$.waitFor(t)}getFromCache(e,t){return this.Br.Fr(e,t).next(r=>(this.Lr.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Br.Or(e,t).next(({documents:r,Nr:s})=>(s.forEach((o,u)=>{this.Lr.set(o,{size:u,readTime:r.get(o).readTime})}),r))}}function VA(n){return sn(n,td)}function ro(n){return sn(n,pm)}function fh(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function MA(n,e){const t=e.documentKey.path.toArray();return[n,vm(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function LA(n,e){const t=n.path.toArray(),r=e.path.toArray();let s=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(s=Pe(t[o],r[o]),s)return s;return s=Pe(t.length,r.length),s||(s=Pe(t[t.length-2],r[r.length-2]),s||Pe(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&Mh(r.mutation,s,Kn.empty(),It.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ve()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ve()){const s=ci();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(o=>{let u=Eh();return o.forEach((h,f)=>{u=u.insert(h,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=ci();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ve()))}populateOverlays(e,t,r){const s=[];return r.forEach(o=>{t.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,r,s){let o=Qn();const u=Vh(),h=function(){return Vh()}();return t.forEach((f,m)=>{const y=r.get(m.key);s.has(m.key)&&(y===void 0||y.mutation instanceof us)?o=o.insert(m.key,m):y!==void 0?(u.set(m.key,y.mutation.getFieldMask()),Mh(y.mutation,m,y.mutation.getFieldMask(),It.now())):u.set(m.key,Kn.empty())}),this.recalculateAndSaveOverlays(e,o).next(f=>(f.forEach((m,y)=>u.set(m,y)),t.forEach((m,y)=>{var v;return h.set(m,new zU(y,(v=u.get(m))!==null&&v!==void 0?v:null))}),h))}recalculateAndSaveOverlays(e,t){const r=Vh();let s=new mt((u,h)=>u-h),o=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(f=>{const m=t.get(f);if(m===null)return;let y=r.get(f)||Kn.empty();y=h.applyToLocalView(m,y),r.set(f,y);const v=(s.get(h.batchId)||Ve()).add(f);s=s.insert(h.batchId,v)})}).next(()=>{const u=[],h=s.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),m=f.key,y=f.value,v=UC();y.forEach(b=>{if(!o.has(b)){const x=$C(t.get(b),r.get(b));x!==null&&v.set(b,x),o=o.add(b)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,v))}return $.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(u){return me.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):dE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(o=>{const u=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-o.size):$.resolve(ci());let h=mu,f=o;return u.next(m=>$.forEach(m,(y,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),o.get(y)?$.resolve():this.remoteDocumentCache.getEntry(e,y).next(b=>{f=f.insert(y,b)}))).next(()=>this.populateOverlays(e,m,o)).next(()=>this.computeViews(e,f,m,Ve())).next(y=>({batchId:h,changes:jC(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new me(t)).next(r=>{let s=Eh();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const o=t.collectionGroup;let u=Eh();return this.indexManager.getCollectionParents(e,o).next(h=>$.forEach(h,f=>{const m=function(v,b){return new os(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,m,r,s).next(y=>{y.forEach((v,b)=>{u=u.insert(v,b)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,s))).next(u=>{o.forEach((f,m)=>{const y=m.getKey();u.get(y)===null&&(u=u.insert(y,yt.newInvalidDocument(y)))});let h=Eh();return u.forEach((f,m)=>{const y=o.get(f);y!==void 0&&Mh(y.mutation,m,Kn.empty(),It.now()),Dd(t,m)&&(h=h.insert(f,m))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return $.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:qt(s.createTime)}}(t)),$.resolve()}getNamedQuery(e,t){return $.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(s){return{name:s.name,query:TE(s.bundledQuery),readTime:qt(s.readTime)}}(t)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(){this.overlays=new mt(me.comparator),this.Qr=new Map}getOverlay(e,t){return $.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ci();return $.forEach(t,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,o)=>{this.bt(e,t,o)}),$.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),$.resolve()}getOverlaysForCollection(e,t,r){const s=ci(),o=t.length+1,u=new me(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===o&&f.largestBatchId>r&&s.set(f.getKey(),f)}return $.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let o=new mt((m,y)=>m-y);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let y=o.get(m.largestBatchId);y===null&&(y=ci(),o=o.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const h=ci(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((m,y)=>h.set(m,y)),!(h.size()>=s)););return $.resolve(h)}bt(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new _E(t,r));let o=this.Qr.get(t);o===void 0&&(o=Ve(),this.Qr.set(t,o)),this.Qr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(){this.sessionToken=Vt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(){this.$r=new at(hn.Ur),this.Kr=new at(hn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const r=new hn(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new hn(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){const t=new me(new qe([])),r=new hn(t,e),s=new hn(t,e+1),o=[];return this.Kr.forEachInRange([r,s],u=>{this.zr(u),o.push(u.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new me(new qe([])),r=new hn(t,e),s=new hn(t,e+1);let o=Ve();return this.Kr.forEachInRange([r,s],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new hn(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class hn{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return me.comparator(e.key,t.key)||Pe(e.Zr,t.Zr)}static Wr(e,t){return Pe(e.Zr,t.Zr)||me.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new at(hn.Ur)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new gE(o,t,r,s);this.mutationQueue.push(u);for(const h of s)this.Xr=this.Xr.add(new hn(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return $.resolve(u)}lookupMutationBatch(e,t){return $.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.ti(r),o=s<0?0:s;return $.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?ea:this.nr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new hn(t,0),s=new hn(t,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,s],u=>{const h=this.ei(u.Zr);o.push(h)}),$.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new at(Pe);return t.forEach(s=>{const o=new hn(s,0),u=new hn(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,u],h=>{r=r.add(h.Zr)})}),$.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let o=r;me.isDocumentKey(o)||(o=o.child(""));const u=new hn(new me(o),0);let h=new at(Pe);return this.Xr.forEachWhile(f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===s&&(h=h.add(f.Zr)),!0)},u),$.resolve(this.ni(h))}ni(e){const t=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){Te(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return $.forEach(t.mutations,s=>{const o=new hn(s.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){const r=new hn(t,0),s=this.Xr.firstAfterOrEqual(r);return $.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(e){this.ii=e,this.docs=function(){return new mt(me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),o=s?s.size:0,u=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return $.resolve(r?r.document.mutableCopy():yt.newInvalidDocument(t))}getEntries(e,t){let r=Qn();return t.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():yt.newInvalidDocument(s))}),$.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let o=Qn();const u=t.path,h=new me(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:m,value:{document:y}}=f.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||rE(tC(y),r)<=0||(s.has(y.key)||Dd(t,y))&&(o=o.insert(y.key,y.mutableCopy()))}return $.resolve(o)}getAllFromCollectionGroup(e,t,r,s){_e(9500)}si(e,t){return $.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new QU(this)}getSize(e){return $.resolve(this.size)}}class QU extends EP{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),$.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e){this.persistence=e,this.oi=new ls(t=>Co(t),Cd),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this._i=0,this.ai=new IE,this.targetCount=0,this.ui=Oo.cr()}forEachTarget(e,t){return this.oi.forEach((r,s)=>t(s)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),$.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new Oo(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,$.resolve()}updateTargetData(e,t){return this.Tr(t),$.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,t,r){let s=0;const o=[];return this.oi.forEach((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.oi.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)}),$.waitFor(o).next(()=>s)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,t){const r=this.oi.get(t)||null;return $.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),$.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach(u=>{o.push(s.markPotentiallyOrphaned(e,u))}),$.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),$.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ai.Yr(t);return $.resolve(r)}containsKey(e,t){return $.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e,t){this.ci={},this.overlays={},this.li=new $n(0),this.hi=!1,this.hi=!0,this.Pi=new GU,this.referenceDelegate=e(this),this.Ti=new WU(this),this.indexManager=new kU,this.remoteDocumentCache=function(s){return new KU(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new cP(t),this.Ei=new qU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new HU,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new $U(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){le("MemoryPersistence","Starting transaction:",e);const s=new YU(this.li.next());return this.referenceDelegate.di(),r(s).next(o=>this.referenceDelegate.Ai(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Ri(e,t){return $.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}}class YU extends rC{constructor(e){super(),this.currentSequenceNumber=e}}class cg{constructor(e){this.persistence=e,this.Vi=new IE,this.mi=null}static fi(e){return new cg(e)}get gi(){if(this.mi)return this.mi;throw _e(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),$.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),$.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.gi,r=>{const s=me.fromPath(r);return this.pi(e,s).next(o=>{o||t.removeEntry(s,Ie.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return $.or([()=>$.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class wm{constructor(e,t){this.persistence=e,this.yi=new ls(r=>Pn(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=vP(this,t)}static fi(e,t){return new wm(e,t)}di(){}Ai(e){return $.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}Sr(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return $.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(o=>o?$.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.si(e,u=>this.Dr(e,u,t).next(h=>{h||(r++,o.removeEntry(u,Ie.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),$.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),$.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Fp(e.data.value)),t}Dr(e,t,r){return $.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.yi.get(t);return $.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU{constructor(e){this.serializer=e}q(e,t,r,s){const o=new Zm("createOrUpgrade",t);r<1&&s>=1&&(function(f){f.createObjectStore(Rd)}(e),function(f){f.createObjectStore(ed,{keyPath:fj}),f.createObjectStore(Or,{keyPath:QS,autoIncrement:!0}).createIndex(go,WS,{unique:!0}),f.createObjectStore(gu)}(e),jA(e),function(f){f.createObjectStore(oo)}(e));let u=$.resolve();return r<3&&s>=3&&(r!==0&&(function(f){f.deleteObjectStore(_u),f.deleteObjectStore(yu),f.deleteObjectStore(bo)}(e),jA(e)),u=u.next(()=>function(f){const m=f.store(bo),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ie.min().toTimestamp(),targetCount:0};return m.put(mm,y)}(o))),r<4&&s>=4&&(r!==0&&(u=u.next(()=>function(f,m){return m.store(Or).J().next(v=>{f.deleteObjectStore(Or),f.createObjectStore(Or,{keyPath:QS,autoIncrement:!0}).createIndex(go,WS,{unique:!0});const b=m.store(Or),x=v.map(R=>b.put(R));return $.waitFor(x)})}(e,o))),u=u.next(()=>{(function(f){f.createObjectStore(vu,{keyPath:wj})})(e)})),r<5&&s>=5&&(u=u.next(()=>this.wi(o))),r<6&&s>=6&&(u=u.next(()=>(function(f){f.createObjectStore(td)}(e),this.Si(o)))),r<7&&s>=7&&(u=u.next(()=>this.bi(o))),r<8&&s>=8&&(u=u.next(()=>this.Di(e,o))),r<9&&s>=9&&(u=u.next(()=>{(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&s>=10&&(u=u.next(()=>this.Ci(o))),r<11&&s>=11&&(u=u.next(()=>{(function(f){f.createObjectStore(eg,{keyPath:bj})})(e),function(f){f.createObjectStore(tg,{keyPath:Ij})}(e)})),r<12&&s>=12&&(u=u.next(()=>{(function(f){const m=f.createObjectStore(ng,{keyPath:Dj});m.createIndex(Fv,Nj,{unique:!1}),m.createIndex(hC,kj,{unique:!1})})(e)})),r<13&&s>=13&&(u=u.next(()=>function(f){const m=f.createObjectStore(pm,{keyPath:mj});m.createIndex(Up,gj),m.createIndex(oC,yj)}(e)).next(()=>this.Fi(e,o)).next(()=>e.deleteObjectStore(oo))),r<14&&s>=14&&(u=u.next(()=>this.Mi(e,o))),r<15&&s>=15&&(u=u.next(()=>function(f){f.createObjectStore(aE,{keyPath:Sj,autoIncrement:!0}).createIndex(Bv,Aj,{unique:!1}),f.createObjectStore(Nh,{keyPath:xj}).createIndex(uC,Rj,{unique:!1}),f.createObjectStore(kh,{keyPath:Cj}).createIndex(cC,Pj,{unique:!1})}(e))),r<16&&s>=16&&(u=u.next(()=>{t.objectStore(Nh).clear()}).next(()=>{t.objectStore(kh).clear()})),r<17&&s>=17&&(u=u.next(()=>{(function(f){f.createObjectStore(oE,{keyPath:Oj})})(e)})),r<18&&s>=18&&D1()&&(u=u.next(()=>{t.objectStore(Nh).clear()}).next(()=>{t.objectStore(kh).clear()})),u}Si(e){let t=0;return e.store(oo).te((r,s)=>{t+=Tm(s)}).next(()=>{const r={byteSize:t};return e.store(td).put(Uv,r)})}wi(e){const t=e.store(ed),r=e.store(Or);return t.J().next(s=>$.forEach(s,o=>{const u=IDBKeyRange.bound([o.userId,ea],[o.userId,o.lastAcknowledgedBatchId]);return r.J(go,u).next(h=>$.forEach(h,f=>{Te(f.userId===o.userId,18650,"Cannot process batch from unexpected user",{batchId:f.batchId});const m=uo(this.serializer,f);return mP(e,o.userId,m).next(()=>{})}))}))}bi(e){const t=e.store(_u),r=e.store(oo);return e.store(bo).get(mm).next(s=>{const o=[];return r.te((u,h)=>{const f=new qe(u),m=function(v){return[0,Pn(v)]}(f);o.push(t.get(m).next(y=>y?$.resolve():(v=>t.put({targetId:0,path:Pn(v),sequenceNumber:s.highestListenSequenceNumber}))(f)))}).next(()=>$.waitFor(o))})}Di(e,t){e.createObjectStore(nd,{keyPath:Tj});const r=t.store(nd),s=new bE,o=u=>{if(s.add(u)){const h=u.lastSegment(),f=u.popLast();return r.put({collectionId:h,parent:Pn(f)})}};return t.store(oo).te({ee:!0},(u,h)=>{const f=new qe(u);return o(f.popLast())}).next(()=>t.store(gu).te({ee:!0},([u,h,f],m)=>{const y=ui(h);return o(y.popLast())}))}Ci(e){const t=e.store(yu);return t.te((r,s)=>{const o=wh(s),u=hP(this.serializer,o);return t.put(u)})}Fi(e,t){const r=t.store(oo),s=[];return r.te((o,u)=>{const h=t.store(pm),f=function(v){return v.document?new me(qe.fromString(v.document.name).popFirst(5)):v.noDocument?me.fromSegments(v.noDocument.path):v.unknownDocument?me.fromSegments(v.unknownDocument.path):_e(36783)}(u).path.toArray(),m={prefixPath:f.slice(0,f.length-2),collectionGroup:f[f.length-2],documentId:f[f.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};s.push(h.put(m))}).next(()=>$.waitFor(s))}Mi(e,t){const r=t.store(Or),s=TP(this.serializer),o=new SE(cg.fi,this.serializer.wt);return r.J().next(u=>{const h=new Map;return u.forEach(f=>{var m;let y=(m=h.get(f.userId))!==null&&m!==void 0?m:Ve();uo(this.serializer,f).keys().forEach(v=>y=y.add(v)),h.set(f.userId,y)}),$.forEach(h,(f,m)=>{const y=new fn(m),v=lg.St(this.serializer,y),b=o.getIndexManager(y),x=ug.St(y,this.serializer,b,o.referenceDelegate);return new wP(s,x,v,b).recalculateAndSaveOverlaysForDocumentKeys(new zv(t,$n.le),f).next()})})}}function jA(n){n.createObjectStore(_u,{keyPath:vj}).createIndex(sE,Ej,{unique:!0}),n.createObjectStore(yu,{keyPath:"targetId"}).createIndex(lC,_j,{unique:!0}),n.createObjectStore(bo)}const qs="IndexedDbPersistence",J_=18e5,Z_=5e3,ev="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",bP="main";class AE{constructor(e,t,r,s,o,u,h,f,m,y,v=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.xi=o,this.window=u,this.document=h,this.Oi=m,this.Ni=y,this.Bi=v,this.li=null,this.hi=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Li=null,this.inForeground=!1,this.ki=null,this.qi=null,this.Qi=Number.NEGATIVE_INFINITY,this.$i=b=>Promise.resolve(),!AE.C())throw new oe(J.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new UU(this,s),this.Ui=t+bP,this.serializer=new cP(f),this.Ki=new di(this.Ui,this.Bi,new XU(this.serializer)),this.Pi=new xU,this.Ti=new VU(this.referenceDelegate,this.serializer),this.remoteDocumentCache=TP(this.serializer),this.Ei=new AU,this.window&&this.window.localStorage?this.Wi=this.window.localStorage:(this.Wi=null,y===!1&&zt(qs,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Gi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new oe(J.FAILED_PRECONDITION,ev);return this.zi(),this.ji(),this.Hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ti.getHighestSequenceNumber(e))}).then(e=>{this.li=new $n(e,this.Oi)}).then(()=>{this.hi=!0}).catch(e=>(this.Ki&&this.Ki.close(),Promise.reject(e)))}Ji(e){return this.$i=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ki.U(async t=>{t.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.xi.enqueueAndForget(async()=>{this.started&&await this.Gi()}))}Gi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>wp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Yi(e).next(t=>{t||(this.isPrimary=!1,this.xi.enqueueRetryable(()=>this.$i(!1)))})}).next(()=>this.Zi(e)).next(t=>this.isPrimary&&!t?this.Xi(e).next(()=>!1):!!t&&this.es(e).next(()=>!0))).catch(e=>{if(va(e))return le(qs,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return le(qs,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.xi.enqueueRetryable(()=>this.$i(e)),this.isPrimary=e})}Yi(e){return ph(e).get(Ul).next(t=>$.resolve(this.ts(t)))}ns(e){return wp(e).delete(this.clientId)}async rs(){if(this.isPrimary&&!this.ss(this.Qi,J_)){this.Qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const r=sn(t,vu);return r.J().next(s=>{const o=this._s(s,J_),u=s.filter(h=>o.indexOf(h)===-1);return $.forEach(u,h=>r.delete(h.clientId)).next(()=>u)})}).catch(()=>[]);if(this.Wi)for(const t of e)this.Wi.removeItem(this.us(t.clientId))}}Hi(){this.qi=this.xi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Gi().then(()=>this.rs()).then(()=>this.Hi()))}ts(e){return!!e&&e.ownerId===this.clientId}Zi(e){return this.Ni?$.resolve(!0):ph(e).get(Ul).next(t=>{if(t!==null&&this.ss(t.leaseTimestampMs,Z_)&&!this.cs(t.ownerId)){if(this.ts(t)&&this.networkEnabled)return!0;if(!this.ts(t)){if(!t.allowTabSynchronization)throw new oe(J.FAILED_PRECONDITION,ev);return!1}}return!(!this.networkEnabled||!this.inForeground)||wp(e).J().next(r=>this._s(r,Z_).find(s=>{if(this.clientId!==s.clientId){const o=!this.networkEnabled&&s.networkEnabled,u=!this.inForeground&&s.inForeground,h=this.networkEnabled===s.networkEnabled;if(o||u&&h)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&le(qs,`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}async shutdown(){this.hi=!1,this.ls(),this.qi&&(this.qi.cancel(),this.qi=null),this.hs(),this.Ps(),await this.Ki.runTransaction("shutdown","readwrite",[Rd,vu],e=>{const t=new zv(e,$n.le);return this.Xi(t).next(()=>this.ns(t))}),this.Ki.close(),this.Ts()}_s(e,t){return e.filter(r=>this.ss(r.updateTimeMs,t)&&!this.cs(r.clientId))}Is(){return this.runTransaction("getActiveClients","readonly",e=>wp(e).J().next(t=>this._s(t,J_).map(r=>r.clientId)))}get started(){return this.hi}getGlobalsCache(){return this.Pi}getMutationQueue(e,t){return ug.St(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new OU(e,this.serializer.wt.databaseId)}getDocumentOverlayCache(e){return lg.St(this.serializer,e)}getBundleCache(){return this.Ei}runTransaction(e,t,r){le(qs,"Starting transaction:",e);const s=t==="readonly"?"readonly":"readwrite",o=function(f){return f===18?Lj:f===17?mC:f===16?Mj:f===15?lE:f===14?pC:f===13?fC:f===12?Vj:f===11?dC:void _e(60245)}(this.Bi);let u;return this.Ki.runTransaction(e,s,o,h=>(u=new zv(h,this.li?this.li.next():$n.le),t==="readwrite-primary"?this.Yi(u).next(f=>!!f||this.Zi(u)).next(f=>{if(!f)throw zt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.xi.enqueueRetryable(()=>this.$i(!1)),new oe(J.FAILED_PRECONDITION,nC);return r(u)}).next(f=>this.es(u).next(()=>f)):this.Es(u).next(()=>r(u)))).then(h=>(u.raiseOnCommittedEvent(),h))}Es(e){return ph(e).get(Ul).next(t=>{if(t!==null&&this.ss(t.leaseTimestampMs,Z_)&&!this.cs(t.ownerId)&&!this.ts(t)&&!(this.Ni||this.allowTabSynchronization&&t.allowTabSynchronization))throw new oe(J.FAILED_PRECONDITION,ev)})}es(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ph(e).put(Ul,t)}static C(){return di.C()}Xi(e){const t=ph(e);return t.get(Ul).next(r=>this.ts(r)?(le(qs,"Releasing primary lease."),t.delete(Ul)):$.resolve())}ss(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(zt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}zi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ki=()=>{this.xi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Gi()))},this.document.addEventListener("visibilitychange",this.ki),this.inForeground=this.document.visibilityState==="visible")}hs(){this.ki&&(this.document.removeEventListener("visibilitychange",this.ki),this.ki=null)}ji(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Li=()=>{this.ls();const t=/(?:Version|Mobile)\/1[456]/;P1()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.xi.enterRestrictedMode(!0),this.xi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Li))}Ps(){this.Li&&(this.window.removeEventListener("pagehide",this.Li),this.Li=null)}cs(e){var t;try{const r=((t=this.Wi)===null||t===void 0?void 0:t.getItem(this.us(e)))!==null;return le(qs,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return zt(qs,"Failed to get zombied client id.",r),!1}}ls(){if(this.Wi)try{this.Wi.setItem(this.us(this.clientId),String(Date.now()))}catch(e){zt("Failed to set zombie client id.",e)}}Ts(){if(this.Wi)try{this.Wi.removeItem(this.us(this.clientId))}catch{}}us(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ph(n){return sn(n,Rd)}function wp(n){return sn(n,vu)}function xE(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.ds=r,this.As=s}static Rs(e,t){let r=Ve(),s=Ve();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new RE(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return P1()?8:iC(Ct())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,s){const o={result:null};return this.ws(e,t).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.Ss(e,t,s,r).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new JU;return this.bs(e,t,u).next(h=>{if(o.result=h,this.fs)return this.Ds(e,t,u,h.size)})}).next(()=>o.result)}Ds(e,t,r,s){return r.documentReadCount<this.gs?(Gl()<=ze.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",$l(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),$.resolve()):(Gl()<=ze.DEBUG&&le("QueryEngine","Query:",$l(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(Gl()<=ze.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",$l(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Un(t))):$.resolve())}ws(e,t){if(lA(t))return $.resolve(null);let r=Un(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=_m(t,null,"F"),r=Un(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const u=Ve(...o);return this.ys.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(f=>{const m=this.vs(t,h);return this.Cs(t,m,u,f.readTime)?this.ws(e,_m(t,null,"F")):this.Fs(e,m,t,f)}))})))}Ss(e,t,r,s){return lA(t)||s.isEqual(Ie.min())?$.resolve(null):this.ys.getDocuments(e,r).next(o=>{const u=this.vs(t,o);return this.Cs(t,u,r,s)?$.resolve(null):(Gl()<=ze.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),$l(t)),this.Fs(e,u,t,eC(s,mu)).next(h=>h))})}vs(e,t){let r=new at(MC(e));return t.forEach((s,o)=>{Dd(e,o)&&(r=r.add(o))}),r}Cs(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}bs(e,t,r){return Gl()<=ze.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",$l(t)),this.ys.getDocumentsMatchingQuery(e,t,ur.min(),r)}Fs(e,t,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="LocalStore",ZU=3e8;class e9{constructor(e,t,r,s){this.persistence=e,this.Ms=t,this.serializer=s,this.xs=new mt(Pe),this.Os=new ls(o=>Co(o),Cd),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wP(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function SP(n,e,t,r){return new e9(n,e,t,r)}async function AP(n,e){const t=ge(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const u=[],h=[];let f=Ve();for(const m of s){u.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}for(const m of o){h.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}return t.localDocuments.getDocuments(r,f).next(m=>({ks:m,removedBatchIds:u,addedBatchIds:h}))})})}function t9(n,e){const t=ge(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=t.Bs.newChangeBuffer({trackRemovals:!0});return function(h,f,m,y){const v=m.batch,b=v.keys();let x=$.resolve();return b.forEach(R=>{x=x.next(()=>y.getEntry(f,R)).next(N=>{const M=m.docVersions.get(R);Te(M!==null,48541),N.version.compareTo(M)<0&&(v.applyToRemoteDocument(N,m),N.isValidDocument()&&(N.setReadTime(m.commitVersion),y.addEntry(N)))})}),x.next(()=>h.mutationQueue.removeMutationBatch(f,v))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let f=Ve();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(f=f.add(h.batch.mutations[m].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function xP(n){const e=ge(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function n9(n,e){const t=ge(n),r=e.snapshotVersion;let s=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.Bs.newChangeBuffer({trackRemovals:!0});s=t.xs;const h=[];e.targetChanges.forEach((y,v)=>{const b=s.get(v);if(!b)return;h.push(t.Ti.removeMatchingKeys(o,y.removedDocuments,v).next(()=>t.Ti.addMatchingKeys(o,y.addedDocuments,v)));let x=b.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?x=x.withResumeToken(Vt.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):y.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(y.resumeToken,r)),s=s.insert(v,x),function(N,M,H){return N.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=ZU?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(b,x,y)&&h.push(t.Ti.updateTargetData(o,x))});let f=Qn(),m=Ve();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,y))}),h.push(RP(o,u,e.documentUpdates).next(y=>{f=y.qs,m=y.Qs})),!r.isEqual(Ie.min())){const y=t.Ti.getLastRemoteSnapshotVersion(o).next(v=>t.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));h.push(y)}return $.waitFor(h).next(()=>u.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,f,m)).next(()=>f)}).then(o=>(t.xs=s,o))}function RP(n,e,t){let r=Ve(),s=Ve();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let u=Qn();return t.forEach((h,f)=>{const m=o.get(h);f.isFoundDocument()!==m.isFoundDocument()&&(s=s.add(h)),f.isNoDocument()&&f.version.isEqual(Ie.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):le(CE,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",f.version)}),{qs:u,Qs:s}})}function r9(n,e){const t=ge(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=ea),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Au(n,e){const t=ge(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Ti.getTargetData(r,e).next(o=>o?(s=o,$.resolve(s)):t.Ti.allocateTargetId(r).next(u=>(s=new Yi(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}async function xu(n,e,t){const r=ge(n),s=r.xs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,u=>r.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!va(u))throw u;le(CE,`Failed to update sequence numbers for target ${e}: ${u}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function bm(n,e,t){const r=ge(n);let s=Ie.min(),o=Ve();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,m,y){const v=ge(f),b=v.Os.get(y);return b!==void 0?$.resolve(v.xs.get(b)):v.Ti.getTargetData(m,y)}(r,u,Un(e)).next(h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(u,h.targetId).next(f=>{o=f})}).next(()=>r.Ms.getDocumentsMatchingQuery(u,e,t?s:Ie.min(),t?o:Ve())).next(h=>(DP(r,VC(e),h),{documents:h,$s:o})))}function CP(n,e){const t=ge(n),r=ge(t.Ti),s=t.xs.get(e);return s?Promise.resolve(s.target):t.persistence.runTransaction("Get target data","readonly",o=>r.Rt(o,e).next(u=>u?u.target:null))}function PP(n,e){const t=ge(n),r=t.Ns.get(e)||Ie.min();return t.persistence.runTransaction("Get new document changes","readonly",s=>t.Bs.getAllFromCollectionGroup(s,e,eC(r,mu),Number.MAX_SAFE_INTEGER)).then(s=>(DP(t,e,s),s))}function DP(n,e,t){let r=n.Ns.get(e)||Ie.min();t.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Ns.set(e,r)}async function i9(n,e,t,r){const s=ge(n);let o=Ve(),u=Qn();for(const m of t){const y=e.Us(m.metadata.name);m.document&&(o=o.add(y));const v=e.Ks(m);v.setReadTime(e.Ws(m.metadata.readTime)),u=u.insert(y,v)}const h=s.Bs.newChangeBuffer({trackRemovals:!0}),f=await Au(s,function(y){return Un(zu(qe.fromString(`__bundle__/docs/${y}`)))}(r));return s.persistence.runTransaction("Apply bundle documents","readwrite",m=>RP(m,h,u).next(y=>(h.apply(m),y)).next(y=>s.Ti.removeMatchingKeysForTargetId(m,f.targetId).next(()=>s.Ti.addMatchingKeys(m,o,f.targetId)).next(()=>s.localDocuments.getLocalViewOfDocuments(m,y.qs,y.Qs)).next(()=>y.qs)))}async function s9(n,e,t=Ve()){const r=await Au(n,Un(TE(e.bundledQuery))),s=ge(n);return s.persistence.runTransaction("Save named query","readwrite",o=>{const u=qt(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return s.Ei.saveNamedQuery(o,e);const h=r.withResumeToken(Vt.EMPTY_BYTE_STRING,u);return s.xs=s.xs.insert(h.targetId,h),s.Ti.updateTargetData(o,h).next(()=>s.Ti.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>s.Ti.addMatchingKeys(o,t,r.targetId)).next(()=>s.Ei.saveNamedQuery(o,e))})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP="firestore_clients";function UA(n,e){return`${NP}_${n}_${e}`}const kP="firestore_mutations";function BA(n,e,t){let r=`${kP}_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const OP="firestore_targets";function tv(n,e){return`${OP}_${n}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri="SharedClientState";class Im{constructor(e,t,r,s){this.user=e,this.batchId=t,this.state=r,this.error=s}static Gs(e,t,r){const s=JSON.parse(r);let o,u=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return u&&s.error&&(u=typeof s.error.message=="string"&&typeof s.error.code=="string",u&&(o=new oe(s.error.code,s.error.message))),u?new Im(e,t,s.state,o):(zt(ri,`Failed to parse mutation state for ID '${t}': ${r}`),null)}zs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Lh{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Gs(e,t){const r=JSON.parse(t);let s,o=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(s=new oe(r.error.code,r.error.message))),o?new Lh(e,r.state,s):(zt(ri,`Failed to parse target state for ID '${e}': ${t}`),null)}zs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Sm{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Gs(e,t){const r=JSON.parse(t);let s=typeof r=="object"&&r.activeTargetIds instanceof Array,o=fE();for(let u=0;s&&u<r.activeTargetIds.length;++u)s=sC(r.activeTargetIds[u]),o=o.add(r.activeTargetIds[u]);return s?new Sm(e,o):(zt(ri,`Failed to parse client data for instance '${e}': ${t}`),null)}}class PE{constructor(e,t){this.clientId=e,this.onlineState=t}static Gs(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new PE(t.clientId,t.onlineState):(zt(ri,`Failed to parse online state: ${e}`),null)}}class r0{constructor(){this.activeTargetIds=fE()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nv{constructor(e,t,r,s,o){this.window=e,this.xi=t,this.persistenceKey=r,this.Js=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ys=this.Zs.bind(this),this.Xs=new mt(Pe),this.started=!1,this.eo=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.no=UA(this.persistenceKey,this.Js),this.ro=function(f){return`firestore_sequence_number_${f}`}(this.persistenceKey),this.Xs=this.Xs.insert(this.Js,new r0),this.io=new RegExp(`^${NP}_${u}_([^_]*)$`),this.so=new RegExp(`^${kP}_${u}_(\\d+)(?:_(.*))?$`),this.oo=new RegExp(`^${OP}_${u}_(\\d+)$`),this._o=function(f){return`firestore_online_state_${f}`}(this.persistenceKey),this.ao=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.Ys)}static C(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Is();for(const r of e){if(r===this.Js)continue;const s=this.getItem(UA(this.persistenceKey,r));if(s){const o=Sm.Gs(r,s);o&&(this.Xs=this.Xs.insert(o.clientId,o))}}this.uo();const t=this.storage.getItem(this._o);if(t){const r=this.co(t);r&&this.lo(r)}for(const r of this.eo)this.Zs(r);this.eo=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.ro,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ho(this.Xs)}isActiveQueryTarget(e){let t=!1;return this.Xs.forEach((r,s)=>{s.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Po(e,"pending")}updateMutationState(e,t,r){this.Po(e,t,r),this.To(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(tv(this.persistenceKey,e));if(s){const o=Lh.Gs(e,s);o&&(r=o.state)}}return t&&this.Io.js(e),this.uo(),r}removeLocalQueryTarget(e){this.Io.Hs(e),this.uo()}isLocalQueryTarget(e){return this.Io.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(tv(this.persistenceKey,e))}updateQueryState(e,t,r){this.Eo(e,t,r)}handleUserChange(e,t,r){t.forEach(s=>{this.To(s)}),this.currentUser=e,r.forEach(s=>{this.addPendingMutation(s)})}setOnlineState(e){this.Ao(e)}notifyBundleLoaded(e){this.Ro(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Ys),this.removeItem(this.no),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return le(ri,"READ",e,t),t}setItem(e,t){le(ri,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){le(ri,"REMOVE",e),this.storage.removeItem(e)}Zs(e){const t=e;if(t.storageArea===this.storage){if(le(ri,"EVENT",t.key,t.newValue),t.key===this.no)return void zt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.xi.enqueueRetryable(async()=>{if(this.started){if(t.key!==null){if(this.io.test(t.key)){if(t.newValue==null){const r=this.Vo(t.key);return this.mo(r,null)}{const r=this.fo(t.key,t.newValue);if(r)return this.mo(r.clientId,r)}}else if(this.so.test(t.key)){if(t.newValue!==null){const r=this.po(t.key,t.newValue);if(r)return this.yo(r)}}else if(this.oo.test(t.key)){if(t.newValue!==null){const r=this.wo(t.key,t.newValue);if(r)return this.So(r)}}else if(t.key===this._o){if(t.newValue!==null){const r=this.co(t.newValue);if(r)return this.lo(r)}}else if(t.key===this.ro){const r=function(o){let u=$n.le;if(o!=null)try{const h=JSON.parse(o);Te(typeof h=="number",30636,{bo:o}),u=h}catch(h){zt(ri,"Failed to read sequence number from WebStorage",h)}return u}(t.newValue);r!==$n.le&&this.sequenceNumberHandler(r)}else if(t.key===this.ao){const r=this.Do(t.newValue);await Promise.all(r.map(s=>this.syncEngine.vo(s)))}}}else this.eo.push(t)})}}get Io(){return this.Xs.get(this.Js)}uo(){this.setItem(this.no,this.Io.zs())}Po(e,t,r){const s=new Im(this.currentUser,e,t,r),o=BA(this.persistenceKey,this.currentUser,e);this.setItem(o,s.zs())}To(e){const t=BA(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ao(e){const t={clientId:this.Js,onlineState:e};this.storage.setItem(this._o,JSON.stringify(t))}Eo(e,t,r){const s=tv(this.persistenceKey,e),o=new Lh(e,t,r);this.setItem(s,o.zs())}Ro(e){const t=JSON.stringify(Array.from(e));this.setItem(this.ao,t)}Vo(e){const t=this.io.exec(e);return t?t[1]:null}fo(e,t){const r=this.Vo(e);return Sm.Gs(r,t)}po(e,t){const r=this.so.exec(e),s=Number(r[1]),o=r[2]!==void 0?r[2]:null;return Im.Gs(new fn(o),s,t)}wo(e,t){const r=this.oo.exec(e),s=Number(r[1]);return Lh.Gs(s,t)}co(e){return PE.Gs(e)}Do(e){return JSON.parse(e)}async yo(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);le(ri,`Ignoring mutation for non-active user ${e.user.uid}`)}So(e){return this.syncEngine.Fo(e.targetId,e.state,e.error)}mo(e,t){const r=t?this.Xs.insert(e,t):this.Xs.remove(e),s=this.ho(this.Xs),o=this.ho(r),u=[],h=[];return o.forEach(f=>{s.has(f)||u.push(f)}),s.forEach(f=>{o.has(f)||h.push(f)}),this.syncEngine.Mo(u,h).then(()=>{this.Xs=r})}lo(e){this.Xs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ho(e){let t=fE();return e.forEach((r,s)=>{t=t.unionWith(s.activeTargetIds)}),t}}class VP{constructor(){this.xo=new r0,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new r0,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA="ConnectivityMonitor";class zA{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){le(FA,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){le(FA,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bp=null;function i0(){return bp===null?bp=function(){return 268435456+Math.round(2147483648*Math.random())}():bp++,"0x"+bp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv="RestConnection",o9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class l9{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===qv?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,t,r,s,o){const u=i0(),h=this.jo(e,t.toUriEncodedString());le(rv,`Sending RPC '${e}' ${u}:`,h,r);const f={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(f,s,o);const{host:m}=new URL(h),y=vd(m);return this.Jo(e,h,f,r,y).then(v=>(le(rv,`Received RPC '${e}' ${u}: `,v),v),v=>{throw yi(rv,`RPC '${e}' ${u} failed with error: `,v,"url: ",h,"request:",r),v})}Yo(e,t,r,s,o,u){return this.zo(e,t,r,s,o)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Fu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}jo(e,t){const r=o9[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xn="WebChannelConnection";class c9 extends l9{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,s,o){const u=i0();return new Promise((h,f)=>{const m=new GR;m.setWithCredentials(!0),m.listenOnce($R.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Mp.NO_ERROR:const v=m.getResponseJson();le(xn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),h(v);break;case Mp.TIMEOUT:le(xn,`RPC '${e}' ${u} timed out`),f(new oe(J.DEADLINE_EXCEEDED,"Request time out"));break;case Mp.HTTP_ERROR:const b=m.getStatus();if(le(xn,`RPC '${e}' ${u} failed with status:`,b,"response text:",m.getResponseText()),b>0){let x=m.getResponseJson();Array.isArray(x)&&(x=x[0]);const R=x==null?void 0:x.error;if(R&&R.status&&R.message){const N=function(H){const z=H.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(z)>=0?z:J.UNKNOWN}(R.status);f(new oe(N,R.message))}else f(new oe(J.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new oe(J.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:u,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{le(xn,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(s);le(xn,`RPC '${e}' ${u} sending request:`,s),m.send(t,"POST",y,r,15)})}T_(e,t,r){const s=i0(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=WR(),h=QR(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Ho(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const y=o.join("");le(xn,`Creating RPC '${e}' stream ${s}: ${y}`,f);const v=u.createWebChannel(y,f);let b=!1,x=!1;const R=new u9({Zo:M=>{x?le(xn,`Not sending because RPC '${e}' stream ${s} is closed:`,M):(b||(le(xn,`Opening RPC '${e}' stream ${s} transport.`),v.open(),b=!0),le(xn,`RPC '${e}' stream ${s} sending:`,M),v.send(M))},Xo:()=>v.close()}),N=(M,H,z)=>{M.listen(H,W=>{try{z(W)}catch(ne){setTimeout(()=>{throw ne},0)}})};return N(v,vh.EventType.OPEN,()=>{x||(le(xn,`RPC '${e}' stream ${s} transport opened.`),R.__())}),N(v,vh.EventType.CLOSE,()=>{x||(x=!0,le(xn,`RPC '${e}' stream ${s} transport closed`),R.u_())}),N(v,vh.EventType.ERROR,M=>{x||(x=!0,yi(xn,`RPC '${e}' stream ${s} transport errored. Name:`,M.name,"Message:",M.message),R.u_(new oe(J.UNAVAILABLE,"The operation could not be completed")))}),N(v,vh.EventType.MESSAGE,M=>{var H;if(!x){const z=M.data[0];Te(!!z,16349);const W=z,ne=(W==null?void 0:W.error)||((H=W[0])===null||H===void 0?void 0:H.error);if(ne){le(xn,`RPC '${e}' stream ${s} received error:`,ne);const ae=ne.status;let ce=function(C){const O=Wt[C];if(O!==void 0)return WC(O)}(ae),P=ne.message;ce===void 0&&(ce=J.INTERNAL,P="Unknown error status: "+ae+" with message "+ne.message),x=!0,R.u_(new oe(ce,P)),v.close()}else le(xn,`RPC '${e}' stream ${s} received:`,z),R.c_(z)}}),N(h,KR.STAT_EVENT,M=>{M.stat===Mv.PROXY?le(xn,`RPC '${e}' stream ${s} detected buffering proxy`):M.stat===Mv.NOPROXY&&le(xn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{R.a_()},0),R}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MP(){return typeof window<"u"?window:null}function $p(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vd(n){return new mU(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e,t,r=1e3,s=1.5,o=6e4){this.xi=e,this.timerId=t,this.I_=r,this.E_=s,this.d_=o,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const t=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),s=Math.max(0,t-r);s>0&&le("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.A_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA="PersistentStream";class LP{constructor(e,t,r,s,o,u,h,f){this.xi=e,this.y_=r,this.w_=s,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new DE(e,t)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,t){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():t&&t.code===J.RESOURCE_EXHAUSTED?(zt(t.toString()),zt("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):t&&t.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),t=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.S_===t&&this.K_(r,s)},r=>{e(()=>{const s=new oe(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(s)})})}K_(e,t){const r=this.U_(this.S_);this.stream=this.G_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.W_(s))}),this.stream.onMessage(s=>{r(()=>++this.v_==1?this.z_(s):this.onNext(s))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return le(qA,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return t=>{this.xi.enqueueAndForget(()=>this.S_===e?t():(le(qA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class h9 extends LP{constructor(e,t,r,s,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=o}G_(e,t){return this.connection.T_("Listen",e,t)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const t=_U(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ie.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Ie.min():u.readTime?qt(u.readTime):Ie.min()}(e);return this.listener.j_(t,r)}H_(e){const t={};t.database=Jv(this.serializer),t.addTarget=function(o,u){let h;const f=u.target;if(h=gm(f)?{documents:iP(o,f)}:{query:sP(o,f).gt},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=JC(o,u.resumeToken);const m=Yv(o,u.expectedCount);m!==null&&(h.expectedCount=m)}else if(u.snapshotVersion.compareTo(Ie.min())>0){h.readTime=Su(o,u.snapshotVersion.toTimestamp());const m=Yv(o,u.expectedCount);m!==null&&(h.expectedCount=m)}return h}(this.serializer,e);const r=EU(this.serializer,e);r&&(t.labels=r),this.L_(t)}J_(e){const t={};t.database=Jv(this.serializer),t.removeTarget=e,this.L_(t)}}class d9 extends LP{constructor(e,t,r,s,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=o}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,t){return this.connection.T_("Write",e,t)}z_(e){return Te(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Te(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){Te(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const t=vU(e.writeResults,e.commitTime),r=qt(e.commitTime);return this.listener.ea(r,t)}ta(){const e={};e.database=Jv(this.serializer),this.L_(e)}Z_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>ld(this.serializer,r))};this.L_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f9{}class p9 extends f9{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.na=!1}ra(){if(this.na)throw new oe(J.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,s){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.zo(e,Xv(t,r),s,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new oe(J.UNKNOWN,o.toString())})}Yo(e,t,r,s,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Yo(e,Xv(t,r),s,u,h,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new oe(J.UNKNOWN,u.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class m9{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(zt(t),this.oa=!1):le("OnlineStateTracker",t)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo="RemoteStore";class g9{constructor(e,t,r,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=o,this.Ea.No(u=>{r.enqueueAndForget(async()=>{Ta(this)&&(le(Vo,"Restarting streams for network reachability change."),await async function(f){const m=ge(f);m.Ta.add(4),await Gu(m),m.da.set("Unknown"),m.Ta.delete(4),await Md(m)}(this))})}),this.da=new m9(r,s)}}async function Md(n){if(Ta(n))for(const e of n.Ia)await e(!0)}async function Gu(n){for(const e of n.Ia)await e(!1)}function hg(n,e){const t=ge(n);t.Pa.has(e.targetId)||(t.Pa.set(e.targetId,e),OE(t)?kE(t):Ku(t).M_()&&NE(t,e))}function Ru(n,e){const t=ge(n),r=Ku(t);t.Pa.delete(e),r.M_()&&jP(t,e),t.Pa.size===0&&(r.M_()?r.N_():Ta(t)&&t.da.set("Unknown"))}function NE(n,e){if(n.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ku(n).H_(e)}function jP(n,e){n.Aa.Ke(e),Ku(n).J_(e)}function kE(n){n.Aa=new hU({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Pa.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Ku(n).start(),n.da._a()}function OE(n){return Ta(n)&&!Ku(n).F_()&&n.Pa.size>0}function Ta(n){return ge(n).Ta.size===0}function UP(n){n.Aa=void 0}async function y9(n){n.da.set("Online")}async function _9(n){n.Pa.forEach((e,t)=>{NE(n,e)})}async function v9(n,e){UP(n),OE(n)?(n.da.ca(e),kE(n)):n.da.set("Unknown")}async function E9(n,e,t){if(n.da.set("Online"),e instanceof XC&&e.state===2&&e.cause)try{await async function(s,o){const u=o.cause;for(const h of o.targetIds)s.Pa.has(h)&&(await s.remoteSyncer.rejectListen(h,u),s.Pa.delete(h),s.Aa.removeTarget(h))}(n,e)}catch(r){le(Vo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Am(n,r)}else if(e instanceof Hp?n.Aa.Xe(e):e instanceof YC?n.Aa.ot(e):n.Aa.nt(e),!t.isEqual(Ie.min()))try{const r=await xP(n.localStore);t.compareTo(r)>=0&&await function(o,u){const h=o.Aa.It(u);return h.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const y=o.Pa.get(m);y&&o.Pa.set(m,y.withResumeToken(f.resumeToken,u))}}),h.targetMismatches.forEach((f,m)=>{const y=o.Pa.get(f);if(!y)return;o.Pa.set(f,y.withResumeToken(Vt.EMPTY_BYTE_STRING,y.snapshotVersion)),jP(o,f);const v=new Yi(y.target,f,m,y.sequenceNumber);NE(o,v)}),o.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(r){le(Vo,"Failed to raise snapshot:",r),await Am(n,r)}}async function Am(n,e,t){if(!va(e))throw e;n.Ta.add(1),await Gu(n),n.da.set("Offline"),t||(t=()=>xP(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{le(Vo,"Retrying IndexedDB access"),await t(),n.Ta.delete(1),await Md(n)})}function BP(n,e){return e().catch(t=>Am(n,t,e))}async function $u(n){const e=ge(n),t=da(e);let r=e.ha.length>0?e.ha[e.ha.length-1].batchId:ea;for(;T9(e);)try{const s=await r9(e.localStore,r);if(s===null){e.ha.length===0&&t.N_();break}r=s.batchId,w9(e,s)}catch(s){await Am(e,s)}FP(e)&&zP(e)}function T9(n){return Ta(n)&&n.ha.length<10}function w9(n,e){n.ha.push(e);const t=da(n);t.M_()&&t.Y_&&t.Z_(e.mutations)}function FP(n){return Ta(n)&&!da(n).F_()&&n.ha.length>0}function zP(n){da(n).start()}async function b9(n){da(n).ta()}async function I9(n){const e=da(n);for(const t of n.ha)e.Z_(t.mutations)}async function S9(n,e,t){const r=n.ha.shift(),s=yE.from(r,e,t);await BP(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await $u(n)}async function A9(n,e){e&&da(n).Y_&&await async function(r,s){if(function(u){return QC(u)&&u!==J.ABORTED}(s.code)){const o=r.ha.shift();da(r).O_(),await BP(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),await $u(r)}}(n,e),FP(n)&&zP(n)}async function HA(n,e){const t=ge(n);t.asyncQueue.verifyOperationInProgress(),le(Vo,"RemoteStore received new credentials");const r=Ta(t);t.Ta.add(3),await Gu(t),r&&t.da.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ta.delete(3),await Md(t)}async function s0(n,e){const t=ge(n);e?(t.Ta.delete(2),await Md(t)):e||(t.Ta.add(2),await Gu(t),t.da.set("Unknown"))}function Ku(n){return n.Ra||(n.Ra=function(t,r,s){const o=ge(t);return o.ra(),new h9(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{e_:y9.bind(null,n),n_:_9.bind(null,n),i_:v9.bind(null,n),j_:E9.bind(null,n)}),n.Ia.push(async e=>{e?(n.Ra.O_(),OE(n)?kE(n):n.da.set("Unknown")):(await n.Ra.stop(),UP(n))})),n.Ra}function da(n){return n.Va||(n.Va=function(t,r,s){const o=ge(t);return o.ra(),new d9(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:b9.bind(null,n),i_:A9.bind(null,n),X_:I9.bind(null,n),ea:S9.bind(null,n)}),n.Ia.push(async e=>{e?(n.Va.O_(),await $u(n)):(await n.Va.stop(),n.ha.length>0&&(le(Vo,`Stopping write stream with ${n.ha.length} pending writes`),n.ha=[]))})),n.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e,t,r,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new wn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,o){const u=Date.now()+r,h=new VE(e,t,u,s,o);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qu(n,e){if(zt("AsyncQueue",`${e}: ${n}`),va(n))return new oe(J.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{static emptySet(e){return new ru(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||me.comparator(t.key,r.key):(t,r)=>me.comparator(t.key,r.key),this.keyedMap=Eh(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ru)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new ru;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(){this.ma=new mt(me.comparator)}track(e){const t=e.doc.key,r=this.ma.get(t);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(t,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(t):e.type===1&&r.type===2?this.ma=this.ma.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):_e(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(t,e)}ga(){const e=[];return this.ma.inorderTraversal((t,r)=>{e.push(r)}),e}}class Cu{constructor(e,t,r,s,o,u,h,f,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,s,o){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new Cu(e,t,ru.emptySet(t),u,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x9{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class R9{constructor(){this.queries=$A(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(t,r){const s=ge(t),o=s.queries;s.queries=$A(),o.forEach((u,h)=>{for(const f of h.ya)f.onError(r)})})(this,new oe(J.ABORTED,"Firestore shutting down"))}}function $A(){return new ls(n=>OC(n),Pd)}async function ME(n,e){const t=ge(n);let r=3;const s=e.query;let o=t.queries.get(s);o?!o.wa()&&e.Sa()&&(r=2):(o=new x9,r=e.Sa()?0:1);try{switch(r){case 0:o.pa=await t.onListen(s,!0);break;case 1:o.pa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const h=Qu(u,`Initialization of query '${$l(e.query)}' failed`);return void e.onError(h)}t.queries.set(s,o),o.ya.push(e),e.Da(t.onlineState),o.pa&&e.va(o.pa)&&jE(t)}async function LE(n,e){const t=ge(n),r=e.query;let s=3;const o=t.queries.get(r);if(o){const u=o.ya.indexOf(e);u>=0&&(o.ya.splice(u,1),o.ya.length===0?s=e.Sa()?0:1:!o.wa()&&e.Sa()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function C9(n,e){const t=ge(n);let r=!1;for(const s of e){const o=s.query,u=t.queries.get(o);if(u){for(const h of u.ya)h.va(s)&&(r=!0);u.pa=s}}r&&jE(t)}function P9(n,e,t){const r=ge(n),s=r.queries.get(e);if(s)for(const o of s.ya)o.onError(t);r.queries.delete(e)}function jE(n){n.ba.forEach(e=>{e.next()})}var a0,KA;(KA=a0||(a0={})).Ca="default",KA.Cache="cache";class UE{constructor(e,t,r){this.query=e,this.Fa=t,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Cu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),t=!0):this.Na(e,this.onlineState)&&(this.Ba(e),t=!0),this.xa=e,t}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let t=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),t=!0),t}Na(e,t){if(!e.fromCache||!this.Sa())return!0;const r=t!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const t=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ba(e){e=Cu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==a0.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{constructor(e,t){this.ka=e,this.byteLength=t}qa(){return"metadata"in this.ka}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e){this.serializer=e}Us(e){return fi(this.serializer,e)}Ks(e){return e.metadata.exists?rP(this.serializer,e.document,!1):yt.newNoDocument(this.Us(e.metadata.name),this.Ws(e.metadata.readTime))}Ws(e){return qt(e)}}class N9{constructor(e,t,r){this.Qa=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=qP(e)}$a(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ka.namedQuery)this.queries.push(e.ka.namedQuery);else if(e.ka.documentMetadata){this.documents.push({metadata:e.ka.documentMetadata}),e.ka.documentMetadata.exists||++t;const r=qe.fromString(e.ka.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ka.document&&(this.documents[this.documents.length-1].document=e.ka.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Ua(e){const t=new Map,r=new QA(this.serializer);for(const s of e)if(s.metadata.queries){const o=r.Us(s.metadata.name);for(const u of s.metadata.queries){const h=(t.get(u)||Ve()).add(o);t.set(u,h)}}return t}async complete(){const e=await i9(this.localStore,new QA(this.serializer),this.documents,this.Qa.id),t=this.Ua(this.documents);for(const r of this.queries)await s9(this.localStore,r,t.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Ka:this.collectionGroups,Wa:e}}}function qP(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e){this.key=e}}class GP{constructor(e){this.key=e}}class $P{constructor(e,t){this.query=e,this.Ga=t,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Ve(),this.mutatedKeys=Ve(),this.Ha=MC(e),this.Ja=new ru(this.Ha)}get Ya(){return this.Ga}Za(e,t){const r=t?t.Xa:new GA,s=t?t.Ja:this.Ja;let o=t?t.mutatedKeys:this.mutatedKeys,u=s,h=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,m=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((y,v)=>{const b=s.get(y),x=Dd(this.query,v)?v:null,R=!!b&&this.mutatedKeys.has(b.key),N=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let M=!1;b&&x?b.data.isEqual(x.data)?R!==N&&(r.track({type:3,doc:x}),M=!0):this.eu(b,x)||(r.track({type:2,doc:x}),M=!0,(f&&this.Ha(x,f)>0||m&&this.Ha(x,m)<0)&&(h=!0)):!b&&x?(r.track({type:0,doc:x}),M=!0):b&&!x&&(r.track({type:1,doc:b}),M=!0,(f||m)&&(h=!0)),M&&(x?(u=u.add(x),o=N?o.add(y):o.delete(y)):(u=u.delete(y),o=o.delete(y)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),o=o.delete(y.key),r.track({type:1,doc:y})}return{Ja:u,Xa:r,Cs:h,mutatedKeys:o}}eu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const o=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const u=e.Xa.ga();u.sort((y,v)=>function(x,R){const N=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Vt:M})}};return N(x)-N(R)}(y.type,v.type)||this.Ha(y.doc,v.doc)),this.tu(r),s=s!=null&&s;const h=t&&!s?this.nu():[],f=this.ja.size===0&&this.current&&!s?1:0,m=f!==this.za;return this.za=f,u.length!==0||m?{snapshot:new Cu(this.query,e.Ja,o,u,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:h}:{ru:h}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new GA,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(t=>this.Ga=this.Ga.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ga=this.Ga.delete(t)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=Ve(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const t=[];return e.forEach(r=>{this.ja.has(r)||t.push(new GP(r))}),this.ja.forEach(r=>{e.has(r)||t.push(new HP(r))}),t}su(e){this.Ga=e.$s,this.ja=Ve();const t=this.Za(e.documents);return this.applyChanges(t,!0)}ou(){return Cu.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const wa="SyncEngine";class k9{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class O9{constructor(e){this.key=e,this._u=!1}}class V9{constructor(e,t,r,s,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.au={},this.uu=new ls(h=>OC(h),Pd),this.cu=new Map,this.lu=new Set,this.hu=new mt(me.comparator),this.Pu=new Map,this.Tu=new IE,this.Iu={},this.Eu=new Map,this.du=Oo.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function M9(n,e,t=!0){const r=dg(n);let s;const o=r.uu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.ou()):s=await KP(r,e,t,!0),s}async function L9(n,e){const t=dg(n);await KP(t,e,!0,!1)}async function KP(n,e,t,r){const s=await Au(n.localStore,Un(e)),o=s.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let h;return r&&(h=await BE(n,e,o,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&hg(n.remoteStore,s),h}async function BE(n,e,t,r,s){n.Ru=(v,b,x)=>async function(N,M,H,z){let W=M.view.Za(H);W.Cs&&(W=await bm(N.localStore,M.query,!1).then(({documents:P})=>M.view.Za(P,W)));const ne=z&&z.targetChanges.get(M.targetId),ae=z&&z.targetMismatches.get(M.targetId)!=null,ce=M.view.applyChanges(W,N.isPrimaryClient,ne,ae);return o0(N,M.targetId,ce.ru),ce.snapshot}(n,v,b,x);const o=await bm(n.localStore,e,!0),u=new $P(e,o.$s),h=u.Za(o.documents),f=Od.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),m=u.applyChanges(h,n.isPrimaryClient,f);o0(n,t,m.ru);const y=new k9(e,t,u);return n.uu.set(e,y),n.cu.has(t)?n.cu.get(t).push(e):n.cu.set(t,[e]),m.snapshot}async function j9(n,e,t){const r=ge(n),s=r.uu.get(e),o=r.cu.get(s.targetId);if(o.length>1)return r.cu.set(s.targetId,o.filter(u=>!Pd(u,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await xu(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&Ru(r.remoteStore,s.targetId),Pu(r,s.targetId)}).catch(_a)):(Pu(r,s.targetId),await xu(r.localStore,s.targetId,!0))}async function U9(n,e){const t=ge(n),r=t.uu.get(e),s=t.cu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Ru(t.remoteStore,r.targetId))}async function B9(n,e,t){const r=HE(n);try{const s=await function(u,h){const f=ge(u),m=It.now(),y=h.reduce((x,R)=>x.add(R.key),Ve());let v,b;return f.persistence.runTransaction("Locally write mutations","readwrite",x=>{let R=Qn(),N=Ve();return f.Bs.getEntries(x,y).next(M=>{R=M,R.forEach((H,z)=>{z.isValidDocument()||(N=N.add(H))})}).next(()=>f.localDocuments.getOverlayedDocuments(x,R)).next(M=>{v=M;const H=[];for(const z of h){const W=lU(z,v.get(z.key).overlayedDocument);W!=null&&H.push(new us(z.key,W,SC(W.value.mapValue),bt.exists(!0)))}return f.mutationQueue.addMutationBatch(x,m,H,h)}).next(M=>{b=M;const H=M.applyToLocalDocumentSet(v,N);return f.documentOverlayCache.saveOverlays(x,M.batchId,H)})}).then(()=>({batchId:b.batchId,changes:jC(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,h,f){let m=u.Iu[u.currentUser.toKey()];m||(m=new mt(Pe)),m=m.insert(h,f),u.Iu[u.currentUser.toKey()]=m}(r,s.batchId,t),await cs(r,s.changes),await $u(r.remoteStore)}catch(s){const o=Qu(s,"Failed to persist write");t.reject(o)}}async function QP(n,e){const t=ge(n);try{const r=await n9(t.localStore,e);e.targetChanges.forEach((s,o)=>{const u=t.Pu.get(o);u&&(Te(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u._u=!0:s.modifiedDocuments.size>0?Te(u._u,14607):s.removedDocuments.size>0&&(Te(u._u,42227),u._u=!1))}),await cs(t,r,e)}catch(r){await _a(r)}}function WA(n,e,t){const r=ge(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.uu.forEach((o,u)=>{const h=u.view.Da(e);h.snapshot&&s.push(h.snapshot)}),function(u,h){const f=ge(u);f.onlineState=h;let m=!1;f.queries.forEach((y,v)=>{for(const b of v.ya)b.Da(h)&&(m=!0)}),m&&jE(f)}(r.eventManager,e),s.length&&r.au.j_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function F9(n,e,t){const r=ge(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Pu.get(e),o=s&&s.key;if(o){let u=new mt(me.comparator);u=u.insert(o,yt.newNoDocument(o,Ie.min()));const h=Ve().add(o),f=new kd(Ie.min(),new Map,new mt(Pe),u,h);await QP(r,f),r.hu=r.hu.remove(o),r.Pu.delete(e),qE(r)}else await xu(r.localStore,e,!1).then(()=>Pu(r,e,t)).catch(_a)}async function z9(n,e){const t=ge(n),r=e.batch.batchId;try{const s=await t9(t.localStore,e);zE(t,r,null),FE(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await cs(t,s)}catch(s){await _a(s)}}async function q9(n,e,t){const r=ge(n);try{const s=await function(u,h){const f=ge(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let y;return f.mutationQueue.lookupMutationBatch(m,h).next(v=>(Te(v!==null,37113),y=v.keys(),f.mutationQueue.removeMutationBatch(m,v))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,y,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y)).next(()=>f.localDocuments.getDocuments(m,y))})}(r.localStore,e);zE(r,e,t),FE(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await cs(r,s)}catch(s){await _a(s)}}async function H9(n,e){const t=ge(n);Ta(t.remoteStore)||le(wa,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(u){const h=ge(u);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>h.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(r===ea)return void e.resolve();const s=t.Eu.get(r)||[];s.push(e),t.Eu.set(r,s)}catch(r){const s=Qu(r,"Initialization of waitForPendingWrites() operation failed");e.reject(s)}}function FE(n,e){(n.Eu.get(e)||[]).forEach(t=>{t.resolve()}),n.Eu.delete(e)}function zE(n,e,t){const r=ge(n);let s=r.Iu[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),r.Iu[r.currentUser.toKey()]=s}}function Pu(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.cu.get(e))n.uu.delete(r),t&&n.au.Vu(r,t);n.cu.delete(e),n.isPrimaryClient&&n.Tu.Hr(e).forEach(r=>{n.Tu.containsKey(r)||WP(n,r)})}function WP(n,e){n.lu.delete(e.path.canonicalString());const t=n.hu.get(e);t!==null&&(Ru(n.remoteStore,t),n.hu=n.hu.remove(e),n.Pu.delete(t),qE(n))}function o0(n,e,t){for(const r of t)r instanceof HP?(n.Tu.addReference(r.key,e),G9(n,r)):r instanceof GP?(le(wa,"Document no longer in limbo: "+r.key),n.Tu.removeReference(r.key,e),n.Tu.containsKey(r.key)||WP(n,r.key)):_e(19791,{mu:r})}function G9(n,e){const t=e.key,r=t.path.canonicalString();n.hu.get(t)||n.lu.has(r)||(le(wa,"New document in limbo: "+t),n.lu.add(r),qE(n))}function qE(n){for(;n.lu.size>0&&n.hu.size<n.maxConcurrentLimboResolutions;){const e=n.lu.values().next().value;n.lu.delete(e);const t=new me(qe.fromString(e)),r=n.du.next();n.Pu.set(r,new O9(t)),n.hu=n.hu.insert(t,r),hg(n.remoteStore,new Yi(Un(zu(t.path)),r,"TargetPurposeLimboResolution",$n.le))}}async function cs(n,e,t){const r=ge(n),s=[],o=[],u=[];r.uu.isEmpty()||(r.uu.forEach((h,f)=>{u.push(r.Ru(f,e,t).then(m=>{var y;if((m||t)&&r.isPrimaryClient){const v=m?!m.fromCache:(y=t==null?void 0:t.targetChanges.get(f.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(m){s.push(m);const v=RE.Rs(f.targetId,m);o.push(v)}}))}),await Promise.all(u),r.au.j_(s),await async function(f,m){const y=ge(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>$.forEach(m,b=>$.forEach(b.ds,x=>y.persistence.referenceDelegate.addReference(v,b.targetId,x)).next(()=>$.forEach(b.As,x=>y.persistence.referenceDelegate.removeReference(v,b.targetId,x)))))}catch(v){if(!va(v))throw v;le(CE,"Failed to update sequence numbers: "+v)}for(const v of m){const b=v.targetId;if(!v.fromCache){const x=y.xs.get(b),R=x.snapshotVersion,N=x.withLastLimboFreeSnapshotVersion(R);y.xs=y.xs.insert(b,N)}}}(r.localStore,o))}async function $9(n,e){const t=ge(n);if(!t.currentUser.isEqual(e)){le(wa,"User change. New user:",e.toKey());const r=await AP(t.localStore,e);t.currentUser=e,function(o,u){o.Eu.forEach(h=>{h.forEach(f=>{f.reject(new oe(J.CANCELLED,u))})}),o.Eu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await cs(t,r.ks)}}function K9(n,e){const t=ge(n),r=t.Pu.get(e);if(r&&r._u)return Ve().add(r.key);{let s=Ve();const o=t.cu.get(e);if(!o)return s;for(const u of o){const h=t.uu.get(u);s=s.unionWith(h.view.Ya)}return s}}async function Q9(n,e){const t=ge(n),r=await bm(t.localStore,e.query,!0),s=e.view.su(r);return t.isPrimaryClient&&o0(t,e.targetId,s.ru),s}async function W9(n,e){const t=ge(n);return PP(t.localStore,e).then(r=>cs(t,r))}async function Y9(n,e,t,r){const s=ge(n),o=await function(h,f){const m=ge(h),y=ge(m.mutationQueue);return m.persistence.runTransaction("Lookup mutation documents","readonly",v=>y.tr(v,f).next(b=>b?m.localDocuments.getDocuments(v,b):$.resolve(null)))}(s.localStore,e);o!==null?(t==="pending"?await $u(s.remoteStore):t==="acknowledged"||t==="rejected"?(zE(s,e,r||null),FE(s,e),function(h,f){ge(ge(h).mutationQueue).sr(f)}(s.localStore,e)):_e(6720,"Unknown batchState",{fu:t}),await cs(s,o)):le(wa,"Cannot apply mutation batch with id: "+e)}async function X9(n,e){const t=ge(n);if(dg(t),HE(t),e===!0&&t.Au!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),s=await YA(t,r.toArray());t.Au=!0,await s0(t.remoteStore,!0);for(const o of s)hg(t.remoteStore,o)}else if(e===!1&&t.Au!==!1){const r=[];let s=Promise.resolve();t.cu.forEach((o,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):s=s.then(()=>(Pu(t,u),xu(t.localStore,u,!0))),Ru(t.remoteStore,u)}),await s,await YA(t,r),function(u){const h=ge(u);h.Pu.forEach((f,m)=>{Ru(h.remoteStore,m)}),h.Tu.Jr(),h.Pu=new Map,h.hu=new mt(me.comparator)}(t),t.Au=!1,await s0(t.remoteStore,!1)}}async function YA(n,e,t){const r=ge(n),s=[],o=[];for(const u of e){let h;const f=r.cu.get(u);if(f&&f.length!==0){h=await Au(r.localStore,Un(f[0]));for(const m of f){const y=r.uu.get(m),v=await Q9(r,y);v.snapshot&&o.push(v.snapshot)}}else{const m=await CP(r.localStore,u);h=await Au(r.localStore,m),await BE(r,YP(m),u,!1,h.resumeToken)}s.push(h)}return r.au.j_(o),s}function YP(n){return kC(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function J9(n){return function(t){return ge(ge(t).persistence).Is()}(ge(n).localStore)}async function Z9(n,e,t,r){const s=ge(n);if(s.Au)return void le(wa,"Ignoring unexpected query state notification.");const o=s.cu.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const u=await PP(s.localStore,VC(o[0])),h=kd.createSynthesizedRemoteEventForCurrentChange(e,t==="current",Vt.EMPTY_BYTE_STRING);await cs(s,u,h);break}case"rejected":await xu(s.localStore,e,!0),Pu(s,e,r);break;default:_e(64155,t)}}async function eB(n,e,t){const r=dg(n);if(r.Au){for(const s of e){if(r.cu.has(s)&&r.sharedClientState.isActiveQueryTarget(s)){le(wa,"Adding an already active target "+s);continue}const o=await CP(r.localStore,s),u=await Au(r.localStore,o);await BE(r,YP(o),u.targetId,!1,u.resumeToken),hg(r.remoteStore,u)}for(const s of t)r.cu.has(s)&&await xu(r.localStore,s,!1).then(()=>{Ru(r.remoteStore,s),Pu(r,s)}).catch(_a)}}function dg(n){const e=ge(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=QP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=K9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=F9.bind(null,e),e.au.j_=C9.bind(null,e.eventManager),e.au.Vu=P9.bind(null,e.eventManager),e}function HE(n){const e=ge(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=z9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=q9.bind(null,e),e}function tB(n,e,t){const r=ge(n);(async function(o,u,h){try{const f=await u.getMetadata();if(await function(x,R){const N=ge(x),M=qt(R.createTime);return N.persistence.runTransaction("hasNewerBundle","readonly",H=>N.Ei.getBundleMetadata(H,R.id)).then(H=>!!H&&H.createTime.compareTo(M)>=0)}(o.localStore,f))return await u.close(),h._completeWith(function(x){return{taskState:"Success",documentsLoaded:x.totalDocuments,bytesLoaded:x.totalBytes,totalDocuments:x.totalDocuments,totalBytes:x.totalBytes}}(f)),Promise.resolve(new Set);h._updateProgress(qP(f));const m=new N9(f,o.localStore,u.serializer);let y=await u.gu();for(;y;){const b=await m.$a(y);b&&h._updateProgress(b),y=await u.gu()}const v=await m.complete();return await cs(o,v.Wa,void 0),await function(x,R){const N=ge(x);return N.persistence.runTransaction("Save bundle","readwrite",M=>N.Ei.saveBundleMetadata(M,R))}(o.localStore,f),h._completeWith(v.progress),Promise.resolve(v.Ka)}catch(f){return yi(wa,`Loading bundle failed with ${f}`),h._failWith(f),Promise.resolve(new Set)}})(r,e,t).then(s=>{r.sharedClientState.notifyBundleLoaded(s)})}class ud{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vd(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,t){return null}bu(e,t){return null}wu(e){return SP(this.persistence,new IP,e.initialUser,this.serializer)}yu(e){return new SE(cg.fi,this.serializer)}pu(e){return new VP}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ud.provider={build:()=>new ud};class nB extends ud{constructor(e){super(),this.cacheSizeBytes=e}Su(e,t){Te(this.persistence.referenceDelegate instanceof wm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new _P(r,e.asyncQueue,t)}yu(e){const t=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new SE(r=>wm.fi(r,t),this.serializer)}}class XP extends ud{constructor(e,t,r){super(),this.Du=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Du.initialize(this,e),await HE(this.Du.syncEngine),await $u(this.Du.remoteStore),await this.persistence.Ji(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}wu(e){return SP(this.persistence,new IP,e.initialUser,this.serializer)}Su(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new _P(r,e.asyncQueue,t)}bu(e,t){const r=new hj(t,this.persistence);return new cj(e.asyncQueue,r)}yu(e){const t=xE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new AE(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,MP(),$p(),this.serializer,this.sharedClientState,!!this.forceOwnership)}pu(e){return new VP}}class rB extends XP{constructor(e,t){super(e,t,!1),this.Du=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Du.syncEngine;this.sharedClientState instanceof nv&&(this.sharedClientState.syncEngine={Co:Y9.bind(null,t),Fo:Z9.bind(null,t),Mo:eB.bind(null,t),Is:J9.bind(null,t),vo:W9.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ji(async r=>{await X9(this.Du.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}pu(e){const t=MP();if(!nv.C(t))throw new oe(J.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=xE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new nv(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class cd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>WA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$9.bind(null,this.syncEngine),await s0(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new R9}()}createDatastore(e){const t=Vd(e.databaseInfo.databaseId),r=function(o){return new c9(o)}(e.databaseInfo);return function(o,u,h,f){return new p9(o,u,h,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,o,u,h){return new g9(r,s,o,u,h)}(this.localStore,this.datastore,e.asyncQueue,t=>WA(this.syncEngine,t,0),function(){return zA.C()?new zA:new a9}())}createSyncEngine(e,t){return function(s,o,u,h,f,m,y){const v=new V9(s,o,u,h,f,m);return y&&(v.Au=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const o=ge(s);le(Vo,"RemoteStore shutting down."),o.Ta.add(5),await Gu(o),o.Ea.shutdown(),o.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}cd.provider={build:()=>new cd};function XA(n,e=10240){let t=0;return{async read(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):zt("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iB{constructor(e,t){this.Fu=e,this.serializer=t,this.metadata=new wn,this.buffer=new Uint8Array,this.Mu=function(){return new TextDecoder("utf-8")}(),this.xu().then(r=>{r&&r.qa()?this.metadata.resolve(r.ka.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.ka)}`))},r=>this.metadata.reject(r))}close(){return this.Fu.cancel()}async getMetadata(){return this.metadata.promise}async gu(){return await this.getMetadata(),this.xu()}async xu(){const e=await this.Ou();if(e===null)return null;const t=this.Mu.decode(e),r=Number(t);isNaN(r)&&this.Nu(`length string (${t}) is not valid number`);const s=await this.Bu(r);return new D9(JSON.parse(s),e.length+r)}Lu(){return this.buffer.findIndex(e=>e===123)}async Ou(){for(;this.Lu()<0&&!await this.ku(););if(this.buffer.length===0)return null;const e=this.Lu();e<0&&this.Nu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Bu(e){for(;this.buffer.length<e;)await this.ku()&&this.Nu("Reached the end of bundle when more is expected.");const t=this.Mu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Nu(e){throw this.Fu.cancel(),new Error(`Invalid bundle format: ${e}`)}async ku(){const e=await this.Fu.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sB{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new oe(J.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(s,o){const u=ge(s),h={documents:o.map(v=>od(u.serializer,v))},f=await u.Yo("BatchGetDocuments",u.serializer.databaseId,qe.emptyPath(),h,o.length),m=new Map;f.forEach(v=>{const b=yU(u.serializer,v);m.set(b.key.toString(),b)});const y=[];return o.forEach(v=>{const b=m.get(v.toString());Te(!!b,55234,{key:v}),y.push(b)}),y}(this.datastore,e);return t.forEach(r=>this.recordVersion(r)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Hu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,r)=>{const s=me.fromPath(r);this.mutations.push(new mE(s,this.precondition(s)))}),await async function(r,s){const o=ge(r),u={writes:s.map(h=>ld(o.serializer,h))};await o.zo("Commit",o.serializer.databaseId,qe.emptyPath(),u)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw _e(50498,{qu:e.constructor.name});t=Ie.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new oe(J.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ie.min())?bt.exists(!1):bt.updateTime(t):bt.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ie.min()))throw new oe(J.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return bt.updateTime(t)}return bt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aB{constructor(e,t,r,s,o){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=s,this.deferred=o,this.Qu=r.maxAttempts,this.C_=new DE(this.asyncQueue,"transaction_retry")}$u(){this.Qu-=1,this.Uu()}Uu(){this.C_.f_(async()=>{const e=new sB(this.datastore),t=this.Ku(e);t&&t.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(s=>{this.Wu(s)}))}).catch(r=>{this.Wu(r)})})}Ku(e){try{const t=this.updateFunction(e);return!xd(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Wu(e){this.Qu>0&&this.Gu(e)?(this.Qu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Uu(),Promise.resolve()))):this.deferred.reject(e)}Gu(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!QC(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="FirestoreClient";class oB{constructor(e,t,r,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=fn.UNAUTHENTICATED,this.clientId=JR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async u=>{le(fa,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(le(fa,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Qu(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function iv(n,e){n.asyncQueue.verifyOperationInProgress(),le(fa,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await AP(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function JA(n,e){n.asyncQueue.verifyOperationInProgress();const t=await GE(n);le(fa,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>HA(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>HA(e.remoteStore,s)),n._onlineComponents=e}async function GE(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){le(fa,"Using user provided OfflineComponentProvider");try{await iv(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===J.FAILED_PRECONDITION||s.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;yi("Error using user provided cache. Falling back to memory cache: "+t),await iv(n,new ud)}}else le(fa,"Using default OfflineComponentProvider"),await iv(n,new nB(void 0));return n._offlineComponents}async function pg(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(le(fa,"Using user provided OnlineComponentProvider"),await JA(n,n._uninitializedComponentsProvider._online)):(le(fa,"Using default OnlineComponentProvider"),await JA(n,new cd))),n._onlineComponents}function JP(n){return GE(n).then(e=>e.persistence)}function $E(n){return GE(n).then(e=>e.localStore)}function ZP(n){return pg(n).then(e=>e.remoteStore)}function KE(n){return pg(n).then(e=>e.syncEngine)}function lB(n){return pg(n).then(e=>e.datastore)}async function Du(n){const e=await pg(n),t=e.eventManager;return t.onListen=M9.bind(null,e.syncEngine),t.onUnlisten=j9.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=L9.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=U9.bind(null,e.syncEngine),t}function uB(n){return n.asyncQueue.enqueue(async()=>{const e=await JP(n),t=await ZP(n);return e.setNetworkEnabled(!0),function(s){const o=ge(s);return o.Ta.delete(0),Md(o)}(t)})}function cB(n){return n.asyncQueue.enqueue(async()=>{const e=await JP(n),t=await ZP(n);return e.setNetworkEnabled(!1),async function(s){const o=ge(s);o.Ta.add(0),await Gu(o),o.da.set("Offline")}(t)})}function hB(n,e){const t=new wn;return n.asyncQueue.enqueueAndForget(async()=>async function(s,o,u){try{const h=await function(m,y){const v=ge(m);return v.persistence.runTransaction("read document","readonly",b=>v.localDocuments.getDocument(b,y))}(s,o);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new oe(J.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const f=Qu(h,`Failed to get document '${o} from cache`);u.reject(f)}}(await $E(n),e,t)),t.promise}function eD(n,e,t={}){const r=new wn;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,h,f,m){const y=new fg({next:b=>{y.Cu(),u.enqueueAndForget(()=>LE(o,v));const x=b.docs.has(h);!x&&b.fromCache?m.reject(new oe(J.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&b.fromCache&&f&&f.source==="server"?m.reject(new oe(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(b)},error:b=>m.reject(b)}),v=new UE(zu(h.path),y,{includeMetadataChanges:!0,La:!0});return ME(o,v)}(await Du(n),n.asyncQueue,e,t,r)),r.promise}function dB(n,e){const t=new wn;return n.asyncQueue.enqueueAndForget(async()=>async function(s,o,u){try{const h=await bm(s,o,!0),f=new $P(o,h.$s),m=f.Za(h.documents),y=f.applyChanges(m,!1);u.resolve(y.snapshot)}catch(h){const f=Qu(h,`Failed to execute query '${o} against cache`);u.reject(f)}}(await $E(n),e,t)),t.promise}function tD(n,e,t={}){const r=new wn;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,h,f,m){const y=new fg({next:b=>{y.Cu(),u.enqueueAndForget(()=>LE(o,v)),b.fromCache&&f.source==="server"?m.reject(new oe(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(b)},error:b=>m.reject(b)}),v=new UE(h,y,{includeMetadataChanges:!0,La:!0});return ME(o,v)}(await Du(n),n.asyncQueue,e,t,r)),r.promise}function fB(n,e){const t=new fg(e);return n.asyncQueue.enqueueAndForget(async()=>function(s,o){ge(s).ba.add(o),o.next()}(await Du(n),t)),()=>{t.Cu(),n.asyncQueue.enqueueAndForget(async()=>function(s,o){ge(s).ba.delete(o)}(await Du(n),t))}}function pB(n,e,t,r){const s=function(u,h){let f;return f=typeof u=="string"?nE().encode(u):u,function(y,v){return new iB(y,v)}(function(y,v){if(y instanceof Uint8Array)return XA(y,v);if(y instanceof ArrayBuffer)return XA(new Uint8Array(y),v);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),h)}(t,Vd(e));n.asyncQueue.enqueueAndForget(async()=>{tB(await KE(n),s,r)})}function mB(n,e){return n.asyncQueue.enqueue(async()=>function(r,s){const o=ge(r);return o.persistence.runTransaction("Get named query","readonly",u=>o.Ei.getNamedQuery(u,s))}(await $E(n),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(n,e,t){if(!t)throw new oe(J.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function rD(n,e,t,r){if(e===!0&&r===!0)throw new oe(J.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function ex(n){if(!me.isDocumentKey(n))throw new oe(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function tx(n){if(me.isDocumentKey(n))throw new oe(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function mg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":_e(12329,{type:typeof n})}function Je(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new oe(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=mg(n);throw new oe(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function iD(n,e){if(e<=0)throw new oe(J.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD="firestore.googleapis.com",nx=!0;class rx{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new oe(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sD,this.ssl=nx}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:nx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pP;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<MU)throw new oe(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nD((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new oe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new oe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new oe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ld{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Z3;switch(r.type){case"firstParty":return new rj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new oe(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=ZA.get(t);r&&(le("ComponentProvider","Removing Datastore"),ZA.delete(t),r.terminate())}(this),Promise.resolve()}}function gB(n,e,t,r={}){var s;n=Je(n,Ld);const o=vd(e),u=n._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:n._getEmulatorOptions()}),f=`${e}:${t}`;o&&(S1(`https://${f}`),A1("Firestore",!0)),u.host!==sD&&u.host!==f&&yi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},u),{host:f,ssl:o,emulatorOptions:r});if(!ra(m,h)&&(n._setSettings(m),r.mockUserToken)){let y,v;if(typeof r.mockUserToken=="string")y=r.mockUserToken,v=fn.MOCK_USER;else{y=gV(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new oe(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new fn(b)}n._authCredentials=new ej(new XR(y,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bn=class aD{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new aD(this.firestore,e,this._query)}},Rt=class oD{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ta(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new oD(this.firestore,e,this._key)}},ta=class lD extends Bn{constructor(e,t,r){super(e,t,zu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rt(this.firestore,null,new me(e))}withConverter(e){return new lD(this.firestore,e,this._path)}};function uD(n,e,...t){if(n=xe(n),QE("collection","path",e),n instanceof Ld){const r=qe.fromString(e,...t);return tx(r),new ta(n,null,r)}{if(!(n instanceof Rt||n instanceof ta))throw new oe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(qe.fromString(e,...t));return tx(r),new ta(n.firestore,null,r)}}function yB(n,e){if(n=Je(n,Ld),QE("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new oe(J.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Bn(n,null,function(r){return new os(qe.emptyPath(),r)}(e))}function xm(n,e,...t){if(n=xe(n),arguments.length===1&&(e=JR.newId()),QE("doc","path",e),n instanceof Ld){const r=qe.fromString(e,...t);return ex(r),new Rt(n,null,new me(r))}{if(!(n instanceof Rt||n instanceof ta))throw new oe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(qe.fromString(e,...t));return ex(r),new Rt(n.firestore,n instanceof ta?n.converter:null,new me(r))}}function cD(n,e){return n=xe(n),e=xe(e),(n instanceof Rt||n instanceof ta)&&(e instanceof Rt||e instanceof ta)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function hD(n,e){return n=xe(n),e=xe(e),n instanceof Bn&&e instanceof Bn&&n.firestore===e.firestore&&Pd(n._query,e._query)&&n.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix="AsyncQueue";class sx{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new DE(this,"async_queue_retry"),this.ec=()=>{const r=$p();r&&le(ix,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;const t=$p();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const t=$p();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const t=new wn;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!va(e))throw e;le(ix,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const t=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,zt("INTERNAL UNHANDLED ERROR: ",ax(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=t,t}enqueueAfterDelay(e,t,r){this.nc(),this.Xu.indexOf(e)>-1&&(t=0);const s=VE.createAndSchedule(this,e,t,r,o=>this.oc(o));return this.Hu.push(s),s}nc(){this.Ju&&_e(47125,{_c:ax(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const t of this.Hu)if(t.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Hu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const t=this.Hu.indexOf(e);this.Hu.splice(t,1)}}function ax(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1}(n,["next","error","complete"])}class _B{constructor(){this._progressObserver={},this._taskCompletionResolver=new wn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vB=-1;let Ht=class extends Ld{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new sx,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new sx(e),this._firestoreClient=void 0,await e}}};function Dn(n){if(n._terminated)throw new oe(J.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||dD(n),n._firestoreClient}function dD(n){var e,t,r;const s=n._freezeSettings(),o=function(h,f,m,y){return new Bj(h,f,m,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,nD(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new oB(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(n._componentsProvider))}function EB(n,e){yi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return fD(n,cd.provider,{build:r=>new XP(r,t.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function TB(n){yi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();fD(n,cd.provider,{build:t=>new rB(t,e.cacheSizeBytes)})}function fD(n,e,t){if((n=Je(n,Ht))._firestoreClient||n._terminated)throw new oe(J.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new oe(J.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},dD(n)}function wB(n){if(n._initialized&&!n._terminated)throw new oe(J.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new wn;return n._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!di.C())return Promise.resolve();const s=r+bP;await di.delete(s)}(xE(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}}),e.promise}function bB(n){return function(t){const r=new wn;return t.asyncQueue.enqueueAndForget(async()=>H9(await KE(t),r)),r.promise}(Dn(n=Je(n,Ht)))}function IB(n){return uB(Dn(n=Je(n,Ht)))}function SB(n){return cB(Dn(n=Je(n,Ht)))}function AB(n,e){const t=Dn(n=Je(n,Ht)),r=new _B;return pB(t,n._databaseId,e,r),r}function xB(n,e){return mB(Dn(n=Je(n,Ht)),e).then(t=>t?new Bn(n,null,t.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vi(Vt.fromBase64String(e))}catch(t){throw new oe(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new vi(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pa=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new oe(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fo=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new oe(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new oe(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RB=/^__.*__$/;class CB{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new us(e,this.data,this.fieldMask,t,this.fieldTransforms):new qu(e,this.data,t,this.fieldTransforms)}}class pD{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new us(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function mD(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{hc:n})}}class yg{constructor(e,t,r,s,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Pc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new yg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Tc({path:r,Ec:!1});return s.dc(e),s}Ac(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Tc({path:r,Ec:!1});return s.Pc(),s}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Rm(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(mD(this.hc)&&RB.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class PB{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Vd(e)}gc(e,t,r,s=!1){return new yg({hc:e,methodName:t,fc:r,path:wt.emptyPath(),Ec:!1,mc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zo(n){const e=n._freezeSettings(),t=Vd(n._databaseId);return new PB(n._databaseId,!!e.ignoreUndefinedProperties,t)}function _g(n,e,t,r,s,o={}){const u=n.gc(o.merge||o.mergeFields?2:0,e,t,s);nT("Data must be an object, but it was:",u,r);const h=_D(r,u);let f,m;if(o.merge)f=new Kn(u.fieldMask),m=u.fieldTransforms;else if(o.mergeFields){const y=[];for(const v of o.mergeFields){const b=u0(e,v,t);if(!u.contains(b))throw new oe(J.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);ED(y,b)||y.push(b)}f=new Kn(y),m=u.fieldTransforms.filter(v=>f.covers(v.field))}else f=null,m=u.fieldTransforms;return new CB(new Tn(h),f,m)}class jd extends Fo{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jd}}function gD(n,e,t){return new yg({hc:3,fc:e.settings.fc,methodName:n._methodName,Ec:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class YE extends Fo{_toFieldTransform(e){return new Nd(e.path,new bu)}isEqual(e){return e instanceof YE}}class XE extends Fo{constructor(e,t){super(e),this.yc=t}_toFieldTransform(e){const t=gD(this,e,!0),r=this.yc.map(o=>qo(o,t)),s=new Po(r);return new Nd(e.path,s)}isEqual(e){return e instanceof XE&&ra(this.yc,e.yc)}}class JE extends Fo{constructor(e,t){super(e),this.yc=t}_toFieldTransform(e){const t=gD(this,e,!0),r=this.yc.map(o=>qo(o,t)),s=new Do(r);return new Nd(e.path,s)}isEqual(e){return e instanceof JE&&ra(this.yc,e.yc)}}class ZE extends Fo{constructor(e,t){super(e),this.wc=t}_toFieldTransform(e){const t=new Iu(e.serializer,FC(e.serializer,this.wc));return new Nd(e.path,t)}isEqual(e){return e instanceof ZE&&this.wc===e.wc}}function eT(n,e,t,r){const s=n.gc(1,e,t);nT("Data must be an object, but it was:",s,r);const o=[],u=Tn.empty();Ea(r,(f,m)=>{const y=rT(e,f,t);m=xe(m);const v=s.Ac(y);if(m instanceof jd)o.push(y);else{const b=qo(m,v);b!=null&&(o.push(y),u.set(y,b))}});const h=new Kn(o);return new pD(u,h,s.fieldTransforms)}function tT(n,e,t,r,s,o){const u=n.gc(1,e,t),h=[u0(e,r,t)],f=[s];if(o.length%2!=0)throw new oe(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<o.length;b+=2)h.push(u0(e,o[b])),f.push(o[b+1]);const m=[],y=Tn.empty();for(let b=h.length-1;b>=0;--b)if(!ED(m,h[b])){const x=h[b];let R=f[b];R=xe(R);const N=u.Ac(x);if(R instanceof jd)m.push(x);else{const M=qo(R,N);M!=null&&(m.push(x),y.set(x,M))}}const v=new Kn(m);return new pD(y,v,u.fieldTransforms)}function yD(n,e,t,r=!1){return qo(t,n.gc(r?4:3,e))}function qo(n,e){if(vD(n=xe(n)))return nT("Unsupported field value:",e,n),_D(n,e);if(n instanceof Fo)return function(r,s){if(!mD(s.hc))throw s.Vc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Vc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,s){const o=[];let u=0;for(const h of r){let f=qo(h,s.Rc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}}(n,e)}return function(r,s){if((r=xe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return FC(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=It.fromDate(r);return{timestampValue:Su(s.serializer,o)}}if(r instanceof It){const o=new It(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Su(s.serializer,o)}}if(r instanceof gg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof vi)return{bytesValue:JC(s.serializer,r._byteString)};if(r instanceof Rt){const o=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw s.Vc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:EE(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof WE)return function(u,h){return{mapValue:{fields:{[uE]:{stringValue:cE},[Eu]:{arrayValue:{values:u.toArray().map(m=>{if(typeof m!="number")throw h.Vc("VectorValues must only contain numeric values.");return pE(h.serializer,m)})}}}}}}(r,s);throw s.Vc(`Unsupported field value: ${mg(r)}`)}(n,e)}function _D(n,e){const t={};return gC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ea(n,(r,s)=>{const o=qo(s,e.Ic(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function vD(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof It||n instanceof gg||n instanceof vi||n instanceof Rt||n instanceof Fo||n instanceof WE)}function nT(n,e,t){if(!vD(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=mg(t);throw r==="an object"?e.Vc(n+" a custom object"):e.Vc(n+" "+r)}}function u0(n,e,t){if((e=xe(e))instanceof pa)return e._internalPath;if(typeof e=="string")return rT(n,e);throw Rm("Field path arguments must be of type string or ",n,!1,void 0,t)}const DB=new RegExp("[~\\*/\\[\\]]");function rT(n,e,t){if(e.search(DB)>=0)throw Rm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new pa(...e.split("."))._internalPath}catch{throw Rm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Rm(n,e,t,r,s){const o=r&&!r.isEmpty(),u=s!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${r}`),u&&(f+=` in document ${s}`),f+=")"),new oe(J.INVALID_ARGUMENT,h+n+f)}function ED(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,t,r,s,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new NB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(vg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class NB extends hd{data(){return super.data()}}function vg(n,e){return typeof e=="string"?rT(n,e):e instanceof pa?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new oe(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class iT{}class Ud extends iT{}function Hs(n,e,...t){let r=[];e instanceof iT&&r.push(e),r=r.concat(t),function(o){const u=o.filter(f=>f instanceof sT).length,h=o.filter(f=>f instanceof Eg).length;if(u>1||u>0&&h>0)throw new oe(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class Eg extends Ud{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Eg(e,t,r)}_apply(e){const t=this._parse(e);return bD(e._query,t),new Bn(e.firestore,e.converter,Wv(e._query,t))}_parse(e){const t=zo(e.firestore);return function(o,u,h,f,m,y,v){let b;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new oe(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){lx(v,y);const R=[];for(const N of v)R.push(ox(f,o,N));b={arrayValue:{values:R}}}else b=ox(f,o,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||lx(v,y),b=yD(h,u,v,y==="in"||y==="not-in");return He.create(m,y,b)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function kB(n,e,t){const r=e,s=vg("where",n);return Eg._create(s,r,t)}class sT extends iT{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new sT(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:st.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,o){let u=s;const h=o.getFlattenedFilters();for(const f of h)bD(u,f),u=Wv(u,f)}(e._query,t),new Bn(e.firestore,e.converter,Wv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class aT extends Ud{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new aT(e,t)}_apply(e){const t=function(s,o,u){if(s.startAt!==null)throw new oe(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new oe(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ad(o,u)}(e._query,this._field,this._direction);return new Bn(e.firestore,e.converter,function(s,o){const u=s.explicitOrderBy.concat([o]);return new os(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function OB(n,e="asc"){const t=e,r=vg("orderBy",n);return aT._create(r,t)}class Tg extends Ud{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Tg(e,t,r)}_apply(e){return new Bn(e.firestore,e.converter,_m(e._query,this._limit,this._limitType))}}function VB(n){return iD("limit",n),Tg._create("limit",n,"F")}function MB(n){return iD("limitToLast",n),Tg._create("limitToLast",n,"L")}class wg extends Ud{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new wg(e,t,r)}_apply(e){const t=wD(e,this.type,this._docOrFields,this._inclusive);return new Bn(e.firestore,e.converter,function(s,o){return new os(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,o,s.endAt)}(e._query,t))}}function LB(...n){return wg._create("startAt",n,!0)}function jB(...n){return wg._create("startAfter",n,!1)}class bg extends Ud{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new bg(e,t,r)}_apply(e){const t=wD(e,this.type,this._docOrFields,this._inclusive);return new Bn(e.firestore,e.converter,function(s,o){return new os(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,o)}(e._query,t))}}function UB(...n){return bg._create("endBefore",n,!1)}function BB(...n){return bg._create("endAt",n,!0)}function wD(n,e,t,r){if(t[0]=xe(t[0]),t[0]instanceof hd)return function(o,u,h,f,m){if(!f)throw new oe(J.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const y=[];for(const v of nu(o))if(v.field.isKeyField())y.push(Ro(u,f.key));else{const b=f.data.field(v.field);if(rg(b))throw new oe(J.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+v.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(b===null){const x=v.field.canonicalString();throw new oe(J.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${x}' (used as the orderBy) does not exist.`)}y.push(b)}return new ha(y,m)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const s=zo(n.firestore);return function(u,h,f,m,y,v){const b=u.explicitOrderBy;if(y.length>b.length)throw new oe(J.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const x=[];for(let R=0;R<y.length;R++){const N=y[R];if(b[R].field.isKeyField()){if(typeof N!="string")throw new oe(J.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof N}`);if(!dE(u)&&N.indexOf("/")!==-1)throw new oe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${N}' contains a slash.`);const M=u.path.child(qe.fromString(N));if(!me.isDocumentKey(M))throw new oe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${M}' is not because it contains an odd number of segments.`);const H=new me(M);x.push(Ro(h,H))}else{const M=yD(f,m,N);x.push(M)}}return new ha(x,v)}(n._query,n.firestore._databaseId,s,e,t,r)}}function ox(n,e,t){if(typeof(t=xe(t))=="string"){if(t==="")throw new oe(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dE(e)&&t.indexOf("/")!==-1)throw new oe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(qe.fromString(t));if(!me.isDocumentKey(r))throw new oe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ro(n,new me(r))}if(t instanceof Rt)return Ro(n,t._key);throw new oe(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mg(t)}.`)}function lx(n,e){if(!Array.isArray(n)||n.length===0)throw new oe(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function bD(n,e){const t=function(s,o){for(const u of s)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new oe(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class oT{convertValue(e,t="none"){switch(ua(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(rs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ea(e,(s,o)=>{r[s]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,s;const o=(s=(r=(t=e.fields)===null||t===void 0?void 0:t[Eu].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(u=>Et(u.doubleValue));return new WE(o)}convertGeoPoint(e){return new gg(Et(e.latitude),Et(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=ig(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(rd(e));default:return null}}convertTimestamp(e){const t=ns(e);return new It(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=qe.fromString(e);Te(uP(r),9688,{name:e});const s=new la(r.get(1),r.get(3)),o=new me(r.popFirst(5));return s.isEqual(t)||zt(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class FB extends oT{constructor(e){super(),this.firestore=e}convertBytes(e){return new vi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let is=class extends hd{constructor(e,t,r,s,o,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new jh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(vg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},jh=class extends is{data(e={}){return super.data(e)}},ma=class{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new yo(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new jh(this._firestore,this._userDataWriter,r.key,r,new yo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new oe(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(h=>{const f=new jh(s._firestore,s._userDataWriter,h.doc.key,h.doc,new yo(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const f=new jh(s._firestore,s._userDataWriter,h.doc.key,h.doc,new yo(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let m=-1,y=-1;return h.type!==0&&(m=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:zB(h.type),doc:f,oldIndex:m,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function zB(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:n})}}function ID(n,e){return n instanceof is&&e instanceof is?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof ma&&e instanceof ma&&n._firestore===e._firestore&&hD(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qB(n){n=Je(n,Rt);const e=Je(n.firestore,Ht);return eD(Dn(e),n._key).then(t=>lT(e,n,t))}class Ho extends oT{constructor(e){super(),this.firestore=e}convertBytes(e){return new vi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,t)}}function HB(n){n=Je(n,Rt);const e=Je(n.firestore,Ht),t=Dn(e),r=new Ho(e);return hB(t,n._key).then(s=>new is(e,r,n._key,s,new yo(s!==null&&s.hasLocalMutations,!0),n.converter))}function GB(n){n=Je(n,Rt);const e=Je(n.firestore,Ht);return eD(Dn(e),n._key,{source:"server"}).then(t=>lT(e,n,t))}function $B(n){n=Je(n,Bn);const e=Je(n.firestore,Ht),t=Dn(e),r=new Ho(e);return TD(n._query),tD(t,n._query).then(s=>new ma(e,r,n,s))}function KB(n){n=Je(n,Bn);const e=Je(n.firestore,Ht),t=Dn(e),r=new Ho(e);return dB(t,n._query).then(s=>new ma(e,r,n,s))}function QB(n){n=Je(n,Bn);const e=Je(n.firestore,Ht),t=Dn(e),r=new Ho(e);return tD(t,n._query,{source:"server"}).then(s=>new ma(e,r,n,s))}function ux(n,e,t){n=Je(n,Rt);const r=Je(n.firestore,Ht),s=Ig(n.converter,e,t);return Bd(r,[_g(zo(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,bt.none())])}function cx(n,e,t,...r){n=Je(n,Rt);const s=Je(n.firestore,Ht),o=zo(s);let u;return u=typeof(e=xe(e))=="string"||e instanceof pa?tT(o,"updateDoc",n._key,e,t,r):eT(o,"updateDoc",n._key,e),Bd(s,[u.toMutation(n._key,bt.exists(!0))])}function WB(n){return Bd(Je(n.firestore,Ht),[new Hu(n._key,bt.none())])}function YB(n,e){const t=Je(n.firestore,Ht),r=xm(n),s=Ig(n.converter,e);return Bd(t,[_g(zo(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,bt.exists(!1))]).then(()=>r)}function SD(n,...e){var t,r,s;n=xe(n);let o={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||l0(e[u])||(o=e[u],u++);const h={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(l0(e[u])){const v=e[u];e[u]=(t=v.next)===null||t===void 0?void 0:t.bind(v),e[u+1]=(r=v.error)===null||r===void 0?void 0:r.bind(v),e[u+2]=(s=v.complete)===null||s===void 0?void 0:s.bind(v)}let f,m,y;if(n instanceof Rt)m=Je(n.firestore,Ht),y=zu(n._key.path),f={next:v=>{e[u]&&e[u](lT(m,n,v))},error:e[u+1],complete:e[u+2]};else{const v=Je(n,Bn);m=Je(v.firestore,Ht),y=v._query;const b=new Ho(m);f={next:x=>{e[u]&&e[u](new ma(m,b,v,x))},error:e[u+1],complete:e[u+2]},TD(n._query)}return function(b,x,R,N){const M=new fg(N),H=new UE(x,M,R);return b.asyncQueue.enqueueAndForget(async()=>ME(await Du(b),H)),()=>{M.Cu(),b.asyncQueue.enqueueAndForget(async()=>LE(await Du(b),H))}}(Dn(m),y,h,f)}function XB(n,e){return fB(Dn(n=Je(n,Ht)),l0(e)?e:{next:e})}function Bd(n,e){return function(r,s){const o=new wn;return r.asyncQueue.enqueueAndForget(async()=>B9(await KE(r),s,o)),o.promise}(Dn(n),e)}function lT(n,e,t){const r=t.docs.get(e._key),s=new Ho(n);return new is(n,s,e._key,r,new yo(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JB={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ZB=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=zo(e)}set(e,t,r){this._verifyNotCommitted();const s=Ys(e,this._firestore),o=Ig(s.converter,t,r),u=_g(this._dataReader,"WriteBatch.set",s._key,o,s.converter!==null,r);return this._mutations.push(u.toMutation(s._key,bt.none())),this}update(e,t,r,...s){this._verifyNotCommitted();const o=Ys(e,this._firestore);let u;return u=typeof(t=xe(t))=="string"||t instanceof pa?tT(this._dataReader,"WriteBatch.update",o._key,t,r,s):eT(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(u.toMutation(o._key,bt.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ys(e,this._firestore);return this._mutations=this._mutations.concat(new Hu(t._key,bt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new oe(J.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Ys(n,e){if((n=xe(n)).firestore!==e)throw new oe(J.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=zo(e)}get(e){const t=Ys(e,this._firestore),r=new FB(this._firestore);return this._transaction.lookup([t._key]).then(s=>{if(!s||s.length!==1)return _e(24041);const o=s[0];if(o.isFoundDocument())return new hd(this._firestore,r,o.key,o,t.converter);if(o.isNoDocument())return new hd(this._firestore,r,t._key,null,t.converter);throw _e(18433,{doc:o})})}set(e,t,r){const s=Ys(e,this._firestore),o=Ig(s.converter,t,r),u=_g(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,r);return this._transaction.set(s._key,u),this}update(e,t,r,...s){const o=Ys(e,this._firestore);let u;return u=typeof(t=xe(t))=="string"||t instanceof pa?tT(this._dataReader,"Transaction.update",o._key,t,r,s):eT(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,u),this}delete(e){const t=Ys(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let t5=class extends e5{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ys(e,this._firestore),r=new Ho(this._firestore);return super.get(e).then(s=>new is(this._firestore,r,t._key,s._document,new yo(!1,!1),t.converter))}};function n5(n,e,t){n=Je(n,Ht);const r=Object.assign(Object.assign({},JB),t);return function(o){if(o.maxAttempts<1)throw new oe(J.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,u,h){const f=new wn;return o.asyncQueue.enqueueAndForget(async()=>{const m=await lB(o);new aB(o.asyncQueue,m,h,u,f).$u()}),f.promise}(Dn(n),s=>e(new t5(n,s)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r5(){return new jd("deleteField")}function i5(){return new YE("serverTimestamp")}function s5(...n){return new XE("arrayUnion",n)}function a5(...n){return new JE("arrayRemove",n)}function o5(n){return new ZE("increment",n)}(function(e,t=!0){(function(s){Fu=s})(ga),aa(new mi("firestore",(r,{instanceIdentifier:s,options:o})=>{const u=r.getProvider("app").getImmediate(),h=new Ht(new tj(r.getProvider("auth-internal")),new ij(u,r.getProvider("app-check-internal")),function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new oe(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new la(m.options.projectId,y)}(u,s),u);return o=Object.assign({useFetchStreams:t},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),Lr(US,BS,e),Lr(US,BS,"esm2017")})();const l5="@firebase/firestore-compat",u5="0.3.51";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new oe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(){if(typeof Uint8Array>"u")throw new oe("unimplemented","Uint8Arrays are not available in this environment.")}function dx(){if(!jj())throw new oe("unimplemented","Blobs are unavailable in Firestore in this environment.")}class dd{constructor(e){this._delegate=e}static fromBase64String(e){return dx(),new dd(vi.fromBase64String(e))}static fromUint8Array(e){return hx(),new dd(vi.fromUint8Array(e))}toBase64(){return dx(),this._delegate.toBase64()}toUint8Array(){return hx(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(n){return c5(n,["next","error","complete"])}function c5(n,e){if(typeof n!="object"||n===null)return!1;const t=n;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{enableIndexedDbPersistence(e,t){return EB(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return TB(e._delegate)}clearIndexedDbPersistence(e){return wB(e._delegate)}}class AD{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof la||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&yi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,r={}){gB(this._delegate,e,t,r)}enableNetwork(){return IB(this._delegate)}disableNetwork(){return SB(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,rD("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return bB(this._delegate)}onSnapshotsInSync(e){return XB(this._delegate,e)}get app(){if(!this._appCompat)throw new oe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Nu(this,uD(this._delegate,e))}catch(t){throw Ln(t,"collection()","Firestore.collection()")}}doc(e){try{return new br(this,xm(this._delegate,e))}catch(t){throw Ln(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Mn(this,yB(this._delegate,e))}catch(t){throw Ln(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return n5(this._delegate,t=>e(new xD(this,t)))}batch(){return Dn(this._delegate),new RD(new ZB(this._delegate,e=>Bd(this._delegate,e)))}loadBundle(e){return AB(this._delegate,e)}namedQuery(e){return xB(this._delegate,e).then(t=>t?new Mn(this,t):null)}}class Sg extends oT{constructor(e){super(),this.firestore=e}convertBytes(e){return new dd(new vi(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return br.forKey(t,this.firestore,null)}}function d5(n){X3(n)}class xD{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Sg(e)}get(e){const t=_o(e);return this._delegate.get(t).then(r=>new fd(this._firestore,new is(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const s=_o(e);return r?(uT("Transaction.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const o=_o(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...s),this}delete(e){const t=_o(e);return this._delegate.delete(t),this}}class RD{constructor(e){this._delegate=e}set(e,t,r){const s=_o(e);return r?(uT("WriteBatch.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const o=_o(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...s),this}delete(e){const t=_o(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Mo{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new jh(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new pd(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Mo.INSTANCES;let s=r.get(e);s||(s=new WeakMap,r.set(e,s));let o=s.get(t);return o||(o=new Mo(e,new Sg(e),t),s.set(t,o)),o}}Mo.INSTANCES=new WeakMap;class br{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Sg(e)}static forPath(e,t,r){if(e.length%2!==0)throw new oe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new br(t,new Rt(t._delegate,r,new me(e)))}static forKey(e,t,r){return new br(t,new Rt(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Nu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Nu(this.firestore,uD(this._delegate,e))}catch(t){throw Ln(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=xe(e),e instanceof Rt?cD(this._delegate,e):!1}set(e,t){t=uT("DocumentReference.set",t);try{return t?ux(this._delegate,e,t):ux(this._delegate,e)}catch(r){throw Ln(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return arguments.length===1?cx(this._delegate,e):cx(this._delegate,e,t,...r)}catch(s){throw Ln(s,"updateDoc()","DocumentReference.update()")}}delete(){return WB(this._delegate)}onSnapshot(...e){const t=CD(e),r=PD(e,s=>new fd(this.firestore,new is(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)));return SD(this._delegate,t,r)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=HB(this._delegate):(e==null?void 0:e.source)==="server"?t=GB(this._delegate):t=qB(this._delegate),t.then(r=>new fd(this.firestore,new is(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new br(this.firestore,e?this._delegate.withConverter(Mo.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Ln(n,e,t){return n.message=n.message.replace(e,t),n}function CD(n){for(const e of n)if(typeof e=="object"&&!c0(e))return e;return{}}function PD(n,e){var t,r;let s;return c0(n[0])?s=n[0]:c0(n[1])?s=n[1]:typeof n[0]=="function"?s={next:n[0],error:n[1],complete:n[2]}:s={next:n[1],error:n[2],complete:n[3]},{next:o=>{s.next&&s.next(e(o))},error:(t=s.error)===null||t===void 0?void 0:t.bind(s),complete:(r=s.complete)===null||r===void 0?void 0:r.bind(s)}}class fd{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new br(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return ID(this._delegate,e._delegate)}}class pd extends fd{data(e){const t=this._delegate.data(e);return this._delegate._converter||J3(t!==void 0,"Document in a QueryDocumentSnapshot should exist"),t}}class Mn{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Sg(e)}where(e,t,r){try{return new Mn(this.firestore,Hs(this._delegate,kB(e,t,r)))}catch(s){throw Ln(s,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Mn(this.firestore,Hs(this._delegate,OB(e,t)))}catch(r){throw Ln(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Mn(this.firestore,Hs(this._delegate,VB(e)))}catch(t){throw Ln(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Mn(this.firestore,Hs(this._delegate,MB(e)))}catch(t){throw Ln(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Mn(this.firestore,Hs(this._delegate,LB(...e)))}catch(t){throw Ln(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Mn(this.firestore,Hs(this._delegate,jB(...e)))}catch(t){throw Ln(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Mn(this.firestore,Hs(this._delegate,UB(...e)))}catch(t){throw Ln(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Mn(this.firestore,Hs(this._delegate,BB(...e)))}catch(t){throw Ln(t,"endAt()","Query.endAt()")}}isEqual(e){return hD(this._delegate,e._delegate)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=KB(this._delegate):(e==null?void 0:e.source)==="server"?t=QB(this._delegate):t=$B(this._delegate),t.then(r=>new h0(this.firestore,new ma(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=CD(e),r=PD(e,s=>new h0(this.firestore,new ma(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)));return SD(this._delegate,t,r)}withConverter(e){return new Mn(this.firestore,e?this._delegate.withConverter(Mo.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class f5{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new pd(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class h0{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Mn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new pd(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new f5(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new pd(this._firestore,r))})}isEqual(e){return ID(this._delegate,e._delegate)}}class Nu extends Mn{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new br(this.firestore,e):null}doc(e){try{return e===void 0?new br(this.firestore,xm(this._delegate)):new br(this.firestore,xm(this._delegate,e))}catch(t){throw Ln(t,"doc()","CollectionReference.doc()")}}add(e){return YB(this._delegate,e).then(t=>new br(this.firestore,t))}isEqual(e){return cD(this._delegate,e._delegate)}withConverter(e){return new Nu(this.firestore,e?this._delegate.withConverter(Mo.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function _o(n){return Je(n,Rt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(...e){this._delegate=new pa(...e)}static documentId(){return new cT(wt.keyField().canonicalString())}isEqual(e){return e=xe(e),e instanceof pa?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{static serverTimestamp(){const e=i5();return e._methodName="FieldValue.serverTimestamp",new fo(e)}static delete(){const e=r5();return e._methodName="FieldValue.delete",new fo(e)}static arrayUnion(...e){const t=s5(...e);return t._methodName="FieldValue.arrayUnion",new fo(t)}static arrayRemove(...e){const t=a5(...e);return t._methodName="FieldValue.arrayRemove",new fo(t)}static increment(e){const t=o5(e);return t._methodName="FieldValue.increment",new fo(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5={Firestore:AD,GeoPoint:gg,Timestamp:It,Blob:dd,Transaction:xD,WriteBatch:RD,DocumentReference:br,DocumentSnapshot:fd,Query:Mn,QueryDocumentSnapshot:pd,QuerySnapshot:h0,CollectionReference:Nu,FieldPath:cT,FieldValue:fo,setLogLevel:d5,CACHE_SIZE_UNLIMITED:vB};function m5(n,e){n.INTERNAL.registerComponent(new mi("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),s=t.getProvider("firestore").getImmediate();return e(r,s)},"PUBLIC").setServiceProps(Object.assign({},p5)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g5(n){m5(n,(e,t)=>new AD(e,t,new h5)),n.registerVersion(l5,u5)}g5(Uo);const y5={apiKey:"AIzaSyD2qFjaEZ8lOBU1f0MSlAURLriL5rzjNOU",authDomain:"react-app-sns-final-project.firebaseapp.com",projectId:"react-app-sns-final-project",storageBucket:"react-app-sns-final-project.firebasestorage.app",messagingSenderId:"28331892478",appId:"1:28331892478:web:b33047699bcb8fda9f0faf"},_5=Uo.initializeApp(y5),Wn=_5.firestore(),DD=B.createContext(),hT=()=>B.useContext(DD),v5=({children:n})=>{const[e,t]=B.useState([]);B.useEffect(()=>{t([{userId:1,name:"홍길동",location:"1기숙사",accountNumber:"00000000000",profile:"https://mblogthumb-phinf.pstatic.net/MjAyMjA3MTVfMjQz/MDAxNjU3ODcwNzkwNDI0.kcOc-7e2R90i8Wf36bIfvbX9Zm1YWj-167gJN-qBdkgg.9Uwu9QvqoTXtJb-Mm3qM2XnGRKINh0ZAwvc90o3-NBQg.JPEG.wst1/Screenshot%EF%BC%BF20220705%EF%BC%8D154328%EF%BC%BFNAVER.jpg?type=w800"},{userId:2,name:"사용자",location:"2기숙사",accountNumber:"12345678900",profile:""},{userId:3,name:"누군가",location:"정왕본동",accountNumber:"2076063750",profile:""}])},[]);const[r,s]=B.useState(null);return B.useEffect(()=>{e.length>0&&!r&&s(e[0])},[e]),w.jsx(DD.Provider,{value:{userListData:e,nowuser:r,setUser:s},children:n})},fx=F.div`
    display: flex;
    position: absolute;
    flex-direction: column;
    bottom: 0;
    width: 393px;
    height: 100px;
    background-color: #FFF;
    justify-content: flex-start;
    align-items: center;
    box-shadow: 0px -4px 4px rgba(128, 128, 128, 0.1);
    margin: 0;
    z-index: 5;
`,ND=F.div`
    display: flex;
    width: 300px;
    height: 46px;
    justify-content: space-between;
    align-items: center;
    margin-top: 9px;
`,E5=F(ND)`
    width: 353px;
    justify-content: center;
    margin-top: 16px;
`,T5=F.div`
    display: flex;
    width: 36px;
    height: 36px;
    background-image: url("/final-project/HomeIcon.svg");
`,w5=F.div`
    display: flex;
    width: 36px;
    height: 36px;
    background-image: url("/final-project/ProfileIcon.svg");
`,b5=F.div`
    display: flex;
    width: 46px;
    height: 46px;
    background-image: url("/final-project/AddPostIcon.svg");
    cursor: pointer;
`,I5=F.ul`
    position: absolute;
    background-color: #222222;
    color: #aaaaaa;
    bottom: 90px;
    right: 20px;
    border-radius: 8px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 12px 20px;
    margin: 0;
    & > div {
    color: #eeeeee;
    padding: 8px 24px;
    border-top: 1px solid #666666;
    }
`;function kD(n){const e=wi(),[t,r]=B.useState(!1),{userListData:s,nowuser:o,setUser:u}=hT(),[h,f]=B.useState("기본값");B.useEffect(()=>{o&&f(o.name)},[o]);const m=s.map(y=>w.jsx("div",{onClick:()=>{u(y)},children:y.name},y.userId));if(B.useEffect(()=>{o&&(localStorage.setItem("userId",o.userId),localStorage.setItem("userName",o.name),localStorage.setItem("accountNumber",o.accountNumber),localStorage.setItem("location",o.location))},[o]),n.type=="gnb")return w.jsx(fx,{children:w.jsxs(ND,{children:[w.jsx(T5,{}),w.jsx(b5,{onClick:()=>e("/write")}),w.jsx(w5,{onClick:()=>{r(!t)}}),t&&w.jsxs(I5,{children:[" ",w.jsxs("p",{children:["now : ",h]}),m," "]})]})});if(n.type=="btn")return w.jsx(fx,{children:w.jsx(E5,{onClick:n.onClick,children:n.children})});if(n.type=="none")return w.jsx(w.Fragment,{})}const Ip=F.div`
    display: flex;
    width: 353px;
    height: 48px;
    justify-content: space-between;
    align-items: center;
    flex-direction: row;
`,Ag=F.div`
    display: flex;
    width: 353px;
    height: 48px;
    background-color: #FF6232;
    border-radius: 8px;
    justify-content: center;
    align-items: center;
    cursor: pointer;
`,S5=F(Ag)`
    background-color: #999999;
`,Uh=F.p`
    display: flex;
    font-size: 16px;
    font-weight: 700;
    color: #ffffff;
`,A5=F.div`
    display: flex;
    width: 100px;
    height: 48px;
    background-color: #FFFFFF;
    border-radius: 8px;
    border: solid #FF6232 1px;
    justify-content: center;
    align-items: center;
    cursor: pointer;
`,x5=F(Ag)`
    width: 241px;
`,R5=F(Uh)`
    color: #FF6232;
    font-weight: 600;
`,C5=F(Ag)`
    background-color: #FFFFFF;
    border: solid #FF6232 1px;
    height: 44px;
    width: 313px;
`,P5=F(Uh)`
    color: #FF6232;
    font-weight: 600;
    font-size: 14px;
`;function dT(n){const e=wi(),{mainText:t,subOnClick:r,subText:s,type:o,modalOnClick:u,menuOnClick:h}=n;if(o==="disable")return w.jsx(Ip,{children:w.jsx(S5,{children:w.jsx(Uh,{children:t})})});if(o==="dubble")return w.jsxs(Ip,{children:[w.jsx(x5,{onClick:u,children:w.jsx(Uh,{children:t})}),w.jsx(A5,{onClick:()=>e(`${r}`),children:w.jsx(R5,{children:s})})]});if(o==="default")return w.jsx(Ip,{children:w.jsx(Ag,{onClick:u,children:w.jsx(Uh,{children:t})})});if(o==="ghost")return w.jsx(Ip,{children:w.jsx(C5,{onClick:h,children:w.jsx(P5,{children:t})})})}const D5=F.div`
    display: flex;
    position: relative;
    width: 393px;
    height: 852px;
    flex-direction: column;
    justify-content: flex-start;
    margin: 0;
    margin-left: auto;
    margin-right: auto;
    margin-top: calc( (100vh - 852px) / 2);
    align-items: center;
    overflow-y: auto;
    background-color: #ffffff;
`,N5=F.div`
    display: block;
    width: 393px;
    height: ${n=>n.gnbtype=="none"?"738px":"638px"};
    margin: 0;
    overflow-y: scroll;
    scrollbar-width: none;      
    -ms-overflow-style: none;     

    &::-webkit-scrollbar {
        display: none;       
    }
`;function na(n){return w.jsxs(D5,{children:[w.jsx(sV,{content:n.content,type:n.headerType||"",navigatePage:n.backPage,searchValue:n.searchValue,onSearchChange:n.onSearchChange,onSearchSubmit:n.onSearchSubmit}),w.jsx(N5,{gnbtype:n.gnbType||"none",children:n.children}),w.jsx(kD,{type:n.gnbType||"none",onClick:n.onClick,children:w.jsx(dT,{type:n.btnType,mainText:n.btnMainText,subText:n.btnSubText,subOnClick:n.subPage,modalOnClick:n.modalOnClick})})]})}const px=F.div`
    display: flex;
    width: 393px;
    height: 247px;
    background-color: #909090;
    background-position: center;
    background-repeat: no-repeat;
    background-size: contain;
    z-index: 1;
    justify-content: center;
    align-items: center;

        & > img {
            width: 393px;
            height: 247px;
            object-fit: cover;
        }
`,k5=F.div`
    display: flex;
    position: relative;
    width: 393px;
    height: 247px;
    background-color: #000000;
    justify-content: center;
    align-items: center;
    z-index: 1;

    & > img {
            width: 393px;
            height: 247px;
            object-fit: cover;
            z-index: 1;
        }
`,O5=F.div`
    display: flex;
    position: absolute;
    background-color: #0000006e;
    width: 393px;
    height: 247px;
    background-image: url(/final-project/RecruitmentClosed.svg);
    background-position: center;
    background-repeat: no-repeat;
    background-size: 100px 100px;
    z-index: 3;
`;function Kp(n){const{postImage:e}=n;return n.postRecruitment=="closed"?w.jsx(px,{children:w.jsxs(k5,{children:[w.jsx("img",{src:e||"/final-project/PostImgBasic.svg",alt:"..."}),w.jsx(O5,{})]})}):w.jsx(px,{children:w.jsx("img",{src:e||"/final-project/PostImgBasic.svg",alt:"..."})})}const OD=F.div`
    margin: 0;
    padding: 0;
    display: inline-flex;
    line-height: 100%;
    width: auto;
    height: 22px;
    max-height: 22px;
    background-color: #FF6232;
    border-radius: 16px;
    justify-content: center;
    align-items: center;
    padding: 0px 8px;
    font-size: 12px;
    font-weight: 700;
    color: #FFFFFF;
    flex-direction: row;
    gap : 2px;

    & > img {
    height: 18px;
    vertical-align: middle;
    margin: 0;
    padding: 0;
    }
`,VD=F(OD)`
    background-color: #ffffff;
    color: #FF6232;
    border: 1px solid#FF6232; 
`,V5=F(VD)`
    box-shadow: 2px 2px 4px 0 rgba(0, 0, 0, 10%);
`;function ku(n){const{type:e}=n;return w.jsx(w.Fragment,{children:e=="TotalAcount"?w.jsxs(V5,{children:[w.jsx("img",{src:"/final-project/FireState.svg",alt:"로고불꽃뱃지용이미지"}),n.children]}):w.jsx(w.Fragment,{children:e=="Captain"?w.jsxs(VD,{children:[w.jsx("img",{src:"/final-project/FireState.svg",alt:"로고불꽃뱃지용이미지"}),"모집자"]}):w.jsx(OD,{children:n.children})})})}const MD=B.createContext(),Fd=()=>B.useContext(MD),M5=({children:n})=>{const[e,t]=B.useState([]);return B.useEffect(()=>{t([{id:1,name:"청년다방",categoryId:5,minPrice:"12000"},{id:2,name:"홍콩반점",categoryId:2,minPrice:"300000"},{id:3,name:"스시로",categoryId:11,minPrice:"15000"},{id:4,name:"면사무소",categoryId:1,minPrice:"15000"},{id:5,name:"버거킹 시흥정왕점",categoryId:2,minPrice:"14000"},{id:6,name:"카츠백 정왕점",categoryId:3,minPrice:"12000"},{id:7,name:"반올림피자 정왕점",categoryId:4,minPrice:"16900"},{id:8,name:"유림이네한식",categoryId:5,minPrice:"16000"},{id:9,name:"BHC 정왕역점",categoryId:6,minPrice:"19000"},{id:10,name:"홍대 떡볶이",categoryId:7,minPrice:"14000"},{id:11,name:"가장맛있는족발",categoryId:8,minPrice:"20000"},{id:12,name:"도리신닭도리탕 시흥점",categoryId:9,minPrice:"5000"},{id:13,name:"순삭곱창 정왕점",categoryId:10,minPrice:"5000"},{id:14,name:"스시의민족 본점",categoryId:11,minPrice:"20000"},{id:15,name:"백연게장 정왕점",categoryId:12,minPrice:"15000"},{id:16,name:"돼지게티 정왕점",categoryId:13,minPrice:"12900"},{id:17,name:"빙수앓이 시흥정왕점",categoryId:14,minPrice:"10900"},{id:18,name:"요아정 배곧점",categoryId:14,minPrice:"15000"}])},[]),w.jsx(MD.Provider,{value:{storeData:e},children:n})},LD=B.createContext(),fT=()=>B.useContext(LD),L5=({children:n})=>{const[e,t]=B.useState([]);return B.useEffect(()=>{t([{id:1,name:"중식"},{id:2,name:"버거"},{id:3,name:"돈까스"},{id:4,name:"피자"},{id:5,name:"한식"},{id:6,name:"치킨"},{id:7,name:"분식"},{id:8,name:"족발/보쌈"},{id:9,name:"찜/탕"},{id:10,name:"구이"},{id:11,name:"일식"},{id:12,name:"회/해물"},{id:13,name:"양식"},{id:14,name:"디저트"},{id:999,name:"기타"}])},[]),w.jsx(LD.Provider,{value:{categoryData:e},children:n})},mx=F.div`
    display: inline-flex;
    width: auto;
    height: 25px;
    border-radius: 16px;
    flex-direction: row;
    justify-content: space-between;
    align-items: center;
`,jD=F.p`
    font-size: 14px;
    font-weight: 600;
    color: #FF6232;
    margin-left: 8px;
    line-height: 100%;
`,j5=F(jD)`
    color: #404040;
`;function xg(n){const{storeId:e}=n,{storeData:t}=Fd(),{categoryData:r}=fT(),s=t.find(u=>u.id==e),o=r.find(u=>u.id==(s==null?void 0:s.categoryId));return n.type=="black"?w.jsxs(mx,{children:[w.jsx(ku,{children:(o==null?void 0:o.name)||n.category||"전체"}),w.jsx(j5,{children:(s==null?void 0:s.name)||n.storeName||"선택된 음식점이 없습니다"})]}):w.jsxs(mx,{children:[w.jsx(ku,{children:(o==null?void 0:o.name)||n.category||"전체"}),w.jsx(jD,{children:(s==null?void 0:s.name)||n.storeName||"선택된 음식점이 없습니다"})]})}const U5=F.div`
    display: inline-flex;
    height: 20px;
    width: auto;
    padding: 0px 4px;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    cursor: pointer;
`,UD=F.div`
    display: flex;
    width: 18px;
    height: 18px;
    background-image: url(/final-project/LikeIconStroke.svg);
    background-repeat: no-repeat;
    background-position: center;
    background-size: contain;
    margin-right: 5px;
`,B5=F(UD)`
    background-image: url(/final-project/LikeIconFill.svg);
`,F5=F.p`
    font-size: 14px;
    font-weight: 500;
    color: #666666;
`;function BD(n){const[e,t]=B.useState(n.type),[r,s]=B.useState(n.likeNumber||0),o=()=>{e==="default"?(t("like"),s(r+1)):(t("default"),s(r-1))};return w.jsxs(U5,{onClick:o,children:[e==="default"?w.jsx(UD,{}):w.jsx(B5,{}),w.jsx(F5,{children:r})]})}const z5=F.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 8px;
  width: 100%;
`,q5=F.div`
  display: flex;
  align-items: center;
  gap: 8px;
`,H5=F.img`
  width: ${n=>n.fontSize=="12px"?"20px":"24px"};
  height: ${n=>n.fontSize=="12px"?"20px":"24px"};
  background: #eeeeee;
  border-radius: 50%;
`,G5=F.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 4px;
`,$5=F.div`
  font-size: ${n=>n.fontSize};
  font-weight: 500;
  color: #202020;
`,K5=F.div`
  font-size: ${n=>n.fontSize};
  font-weight: 300;
  color: #202020;
`,Q5=F.div`
  font-size: 12px;
  font-weight: 400;
  color: #aaa;
`,iu=n=>{const{userListData:e}=hT(),{name:t,src:r,userId:s,location:o,date:u,badge:h,fontSize:f}=n,m=e.find(M=>M.userId==s),y=new Date(parseInt(u)),v=String(y.getMonth()+1).padStart(2,"0"),b=String(y.getDate()).padStart(2,"0"),x=String(y.getHours()).padStart(2,"0"),R=String(y.getMinutes()).padStart(2,"0"),N=`${v}월${b}일 ${x}:${R}`;return w.jsxs(z5,{children:[w.jsxs(q5,{children:[w.jsx(H5,{src:(m==null?void 0:m.profile)||r||"/final-project/UserBasic.svg",fontSize:f||"14px"}),w.jsxs(G5,{children:[w.jsx($5,{fontSize:f||"14px",children:(m==null?void 0:m.name)||t}),(m==null?void 0:m.location)&&w.jsx(K5,{fontSize:f||"14px",children:(m==null?void 0:m.location)||o}),h&&w.jsx(ku,{type:"Captain"})]})]}),u&&w.jsx(Q5,{children:N})]})},FD=F.div`
    display: flex;
    width: 353px;
    height: 49px;
    flex-direction: row;
    justify-content: space-between;
    align-items: center;
`,W5=F(FD)`
    height: 32px;
`,gx=F.p`
    width: 48px;
    height: 28px;
    font-size: 20px;
    font-weight: 600;
    color: #FF6232;
    justify-content: center;
    text-align: right;
`,yx=F.div`
    display: flex;
    width: 285px;
    height: 49px;
    flex-direction: column;
    align-items: flex-end;
    justify-content: center;
`,Y5=F.div`
    display: flex;
    min-width: 197px;
    width: 240px;
    height: 17px;
    justify-content: space-between;
    align-items: center;
    font-size: 12px;
    font-weight: 600;
    color: #606060;
`,_x=F.p`
    width: auto;
`,zD=F.div`
    display: flex;
    position: relative;
    width: 285px;
    height: 32px;
    align-items: center;
    background-image: url(/final-project/StatusBarBackground.svg);
    background-repeat: no-repeat;
    background-size: cover;
    background-position: center;
    margin-top: -4px;
    z-index: 1;
`,X5=F(zD)`
    margin-top: 0;
`,vx=F.div`
    display: flex;
    position: absolute;
    left: 4px;
    width: 24px;
    height: 24px;
    background-image: url(/final-project/StatusBarLogo.svg);
    background-repeat: no-repeat;
    background-size: cover;
    background-position: center;
    z-index: 2;
`,Ex=F.div`
    display: flex;
    width: ${({percentPrice:n})=>15+Math.min(n??0,100)/100*241}px;
    height: 4px;
    background-color: #FF6232;
    margin-left: 24px;
    border-radius: 2px;
`,J5=F.div`
    display: flex;
    width: 248px;
    height: 8px;
    background-image: url(/final-project/StatusBarMark.svg);
    background-position: right;
    background-repeat: no-repeat;
    background-size: cover;
    margin-top: -4px;
`,Z5=F.div`
    border: #FFB9B9 1px solid;
    height: 12px;
    background-color: #FFF5D5;
    border-radius: 6px;
    width: 100%;
    z-index: 1;
    display: flex;
    align-items: center;
    margin-top: -4px;
`,eF=F.div`
    height: 4px;
    background-color: #FF6232;
    border-radius: 2px;
    width: ${({$percent:n})=>n}%;
    z-index: 2;
    margin-top: -9px;
    margin-left: -4px;
`,tF=F.img`
    height: 32px;
    z-index: 2;
`,nF=F.img`
    height: 24px;
    z-index: 3;
    margin-left: -36px;
`,rF=F.div`
    display: flex;
    width: 80%;
    align-items: center;
`,iF=F.div`
    width: 100%;
    gap: 20px;
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    align-items: center;
`,sF=F.h1`
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    line-height: 100%;
    height: 28px;
    font-size: 20px;
    font-weight: 600;
    color: #FF6232;
    align-content: center;
    text-align: right;
`,aF=F.div`
    height: 100%;
    display: flex;
    width: 100%;
    flex-direction: column;
`;function pT(n){const{post:e,totalSum:t}=n,{storeData:r}=Fd(),s=r.find(h=>{var f;return h.id==e.storeId||((f=e.store)==null?void 0:f[0])}),o=s?s.minPrice:1,u=Math.floor(t/o*100);return n.type=="alarm"?w.jsxs(iF,{children:[w.jsxs(rF,{children:[w.jsx(tF,{src:"/final-project/ProgressBackground_1.svg"}),w.jsx(nF,{src:"/final-project/StatusBarLogo.svg"}),w.jsxs(aF,{children:[w.jsx(Z5,{}),w.jsx(eF,{$percent:u>=100?100:u})]})]}),w.jsxs(sF,{children:[u,"%"]})]}):n.type=="simple"?w.jsxs(W5,{children:[w.jsx(yx,{children:w.jsxs(X5,{children:[w.jsx(Ex,{percentPrice:u}),w.jsx(vx,{})]})}),w.jsxs(gx,{children:[u,"%"]})]}):w.jsxs(FD,{children:[w.jsxs(yx,{children:[w.jsxs(Y5,{children:[w.jsxs(_x,{children:["지금담긴금액 ",t,"원"]})," / ",w.jsxs(_x,{children:["최소주문금액 ",o,"원"]})]}),w.jsxs(zD,{children:[w.jsx(Ex,{percentPrice:u}),w.jsx(vx,{})]}),w.jsx(J5,{})]}),w.jsxs(gx,{children:[u,"%"]})]})}const oF=F.div`
display: flex;
flex-direction: row;
gap: 8px;
align-items: top;


& > p {
width: 53px;
max-height: 44px;
height: auto;
font-size: 14px;
font-weight: 400;
color: #666666;
padding: 0;
margin: 0;
display: flex;
align-items: center;
}
`,lF=F.div`
flex: 1 1 auto;
font-size: regular;
height: 44px;
box-sizing: border-box;
display: flex;
align-items : center;
padding: 0 12px;
gap: 8px;
background-color: #f8f8f8;
overflow: hidden;
text-overflow: ellipsis;
white-space: nowrap; 
border-radius: 8px;
font-size: 14px;
font-weight: 400;
color: #666666;
`;function Cn(n){const{title:e,content:t,children:r,badge:s}=n;return w.jsxs(oF,{children:[w.jsx("p",{children:e||"제목입력"}),t?w.jsxs(lF,{children:[s&&w.jsx(ku,{children:s?"필수":"자유"}),t]}):w.jsx(w.Fragment,{children:r})]})}const uF=F.div`
    display: flex;
    width: 393px;
    height: auto;
    flex-direction: column;
    justify-content: space-between;
    align-items: center;
    padding: 16px 0px;
    gap: 20px;
`,cF=F.div`
    display: flex;
    width: 353px;
    height: auto;
    flex-direction: column;
    justify-content: space-between;
    align-items: left;
    gap: 4px;
`,hF=F.div`
    display: flex;
    width: 353px;
    height: 22px;
    flex-direction: row;
    justify-content: space-between;
`,dF=F.p`
    height: 44px;
    font-size: 24px;
    font-weight: 700;
    color: #202020;
    margin-top: 8px;
    margin-bottom: 0;
`,fF=F.div`
    display: flex;
    width: 353px;
    height: 1px;
    border-radius: 1px;
    background-color: #EEEEEE;
`,pF=F.div`
    display: flex;
    flex-direction: column;
    width: 353px;
    height: 100px;
    justify-content: space-between;
    align-items: left;
    gap: 12px;
`,mF=F.p`
    display: flex;
    width: 353px;
    height: auto;
    font-size: 14px;
    font-weight: 400;
    color: #202020;
`;function sv(n){return w.jsxs(uF,{children:[w.jsxs(cF,{children:[w.jsxs(hF,{children:[w.jsx(xg,{storeId:n.storeId}),w.jsx(BD,{type:"default"})]}),w.jsx(dF,{children:n.postTitle}),w.jsx(iu,{name:n.name,date:n.date})]}),w.jsx(fF,{}),w.jsxs(pF,{children:[w.jsx(Cn,{title:"수령장소",content:n.receiptLocation}),w.jsx(Cn,{title:"선입금",content:n.accountNumber,badge:n.deposite})]}),w.jsx(mF,{children:n.postContent}),w.jsx(pT,{post:n.post,totalSum:n.totalSum})]})}const qD=F.div`
    display: flex;
    width: 353px;
    height: 63px;
    background-color: #ffffff;
    border-radius: 8px;
    justify-content: center;
    align-items: center;
`,gF=F(qD)`
    border: 1px solid #FF6232;
`,av=F.p`
    display: flex;
    font-size: 16px;
    font-weight: 600;
    color: ${n=>n.color};
`,ov=F.p`
    display: flex;
    font-size: 16px;
    font-weight: 600;
    color: #FF6232;
`,d0=F.div`
    width: 313px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-direction: row;
`,yF=F(d0)`
    width: 353px;
    height: 23px;
    background-color: transparent;
`;function lv(n){return n.toLocaleString("ko-KR")}function Bh(n){const{title:e,totalAmount:t}=n,s=(n.color||"#202020")=="orange"?"#FF6232":"#202020",o=n.type||"default";if(o=="default")return w.jsx(qD,{children:w.jsxs(d0,{children:[w.jsx(av,{color:s,children:e}),w.jsxs(ov,{children:[lv(t),"원"]})]})});if(o=="stroke")return w.jsx(gF,{children:w.jsxs(d0,{children:[w.jsx(av,{color:s,children:e}),w.jsxs(ov,{children:[lv(t),"원"]})]})});if(o=="none")return w.jsxs(yF,{children:[w.jsx(av,{color:s,children:e}),w.jsxs(ov,{children:[lv(t),"원"]})]})}const Qp=F.div`
  width: ${n=>n.width}px;
  display: flex;
  justify-content: space-between;
  font-size: 14px;
  color: #666666;
  font-family: 'Pretendard', sans-serif;
  flex-direction: row;
`,Cm=F.div``,Wp=F.div`
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
`,_F=F(Qp)`
  justify-content: flex-start;
`,vF=F(Cm)`
  font-size: 16px;
  font-weight: 600;
  color: #202020;
`,EF=F(Cm)`
  font-size: 13px;
  font-weight: 500;
  color: #202020;
`,TF=F(Wp)`
  font-size: 13px;
  font-weight: 500;
  color: #202020;
`,wF=F.div`
  display: flex;
  width: 16px;
  height: 16px;
  background-image: url(/final-project/MenuDelete.svg);
  background-position: center;
  background-repeat: no-repeat;
  background-size: contain;
  margin-left: 12px;
`,Io=({name:n,price:e,count:t=1,type:r,width:s="329"})=>{if(r==="default")return w.jsxs(Qp,{width:s,children:[w.jsxs(Cm,{children:[n," × ",t,"개"]}),w.jsxs(Wp,{children:["개당 ",e,"원"]})]});if(r==="bold")return w.jsxs(Qp,{width:s,children:[w.jsx(vF,{children:n}),w.jsxs(Wp,{children:["개당 ",e,"원"]})]});if(r==="side")return w.jsxs(_F,{width:s,children:[w.jsxs(EF,{children:[n," × ",t,"개 "]}),w.jsxs(TF,{children:["|  총 ",e,"원"]})]});if(r==="delete")return w.jsxs(Qp,{width:s,children:[w.jsxs(Cm,{children:[n," × ",t,"개"]}),w.jsxs(Wp,{children:["개당 ",e,"원",w.jsx(wF,{})]})]})},bF=F.div`
    display: flex;
    width: 109px;
    height: 32px;
    background-color: #FFFFFF;
    border-radius: 8px;
    border: solid 1px #FF6232;
    justify-content: space-between;
    align-items: center;
    flex-direction: row;
    padding: 0px 12px;
`,Tx=F.div`
    display: flex;
    width: 12px;
    height: 12px;
    justify-content: center;
    align-items: center;
    background-image: url(${n=>n.$btnType==="minus"?"/final-project/QuantityMinus.svg":"/final-project/QuantityPlus.svg"});
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
`,IF=F.p`
    font-size: 12px;
    font-weight: 500;
    color: #FF6232;
`;function wx(n){const{quantity:e,onPlusClick:t,onMinusClick:r}=n;return w.jsxs(bF,{children:[w.jsx(Tx,{$btnType:"minus",onClick:r}),w.jsxs(IF,{children:["나의 수량 : ",e]}),w.jsx(Tx,{$btnType:"plus",onClick:t})]})}const uv=F.div`
    width: 313px;
    background-color: #ffffff;
    padding: 20px;
    border-radius: 8px;
    display: flex;
    flex-direction: column; 
    gap: 12px;
`,cv=F.div`
    width: 313px;
    display: flex;
    justify-content: space-between;
    align-items: center;
`,Yp=F.p`
    font-size: 14px;
    font-weight: 700;
    line-height: 140%;
    color: #404040;
    margin: 0;
`,SF=F(Yp)`
    font-weight: 600;
`;function Ks(n){const{onPlusClick:e,onMinusClick:t,name:r,count:s,price:o,userCount:u}=n,h=n.type||"default",f=y=>typeof y!="number"||isNaN(y)?"0":y.toLocaleString("ko-KR"),m=s*o;if(h=="default")return w.jsxs(uv,{children:[w.jsx(Io,{type:"bold",name:r,price:f(o),width:"313"}),w.jsxs(cv,{children:[w.jsxs(Yp,{children:[f(m),"원"]}),w.jsx(wx,{quantity:s,onPlusClick:e,onMinusClick:t})]})]});if(h=="info")return w.jsxs(uv,{children:[w.jsx(Io,{type:"bold",name:r,count:s,price:f(o),width:"313"}),w.jsxs(cv,{children:[w.jsxs(Yp,{children:["현재 수량: ",s]}),w.jsxs(SF,{children:["총 ",f(m),"원"]})]})]});if(h=="simple")return w.jsxs(uv,{children:[w.jsx(Io,{type:"bold",name:r,price:f(o),width:"313"}),w.jsxs(cv,{children:[w.jsxs(Yp,{children:["현재 수량 : ",s,"개"]}),w.jsx(wx,{quantity:u??0,onPlusClick:e,onMinusClick:t})]})]})}const HD=F.textarea`
flex: 1 1 auto;
font-size: regular;
height: 44px;
box-sizing: border-box;
padding: 12px;
background-color: #f8f8f8;
overflow-x: auto;         
overflow-y: hidden; 
white-space: nowrap; 
resize: none;
border: none;
outline: none;  
scrollbar-width: none;        
-ms-overflow-style: none;   
border-radius: 8px;
font-size: 14px;
font-weight: 400;
color: #666666;

  &:placeholder{
  color: #AAAAAA;
  font-family: "Pretendard Variable", Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, "Helvetica Neue", "Segoe UI", "Apple SD Gothic Neo", "Noto Sans KR", "Malgun Gothic", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif;
  font-size: 14px;
  font-weight: 400;
  }

  &:-webkit-scrollbar {
    display: none;
  }

  &:focus{
  border: none;
  outline: none;}

  &:focus::placeholder {
      color: transparent;
  }
`,AF=F(HD)`
  height: ${n=>n.height||"44px"};
  overflow-x: none;         
  overflow-y: auto;
  white-space: pre-wrap; 
`;function hi(n){const{height:e,value:t,onChange:r,placeholder:s,onClick:o,readOnly:u}=n;return w.jsx(w.Fragment,{children:e?w.jsx(AF,{onClick:o,height:e,value:t,onChange:r,placeholder:s||"양식을 작성해주세요",...u?{readOnly:!0}:{}}):w.jsx(HD,{onClick:o,value:t,onChange:r,placeholder:s||"양식을 작성해주세요",...u?{readOnly:!0}:{}})})}const Pm=F.div`
    display: inline-flex;
    width: auto;
    height: 32px;
    background-color: #FF6232;
    border-radius: 8px;
    justify-content: center;
    align-items: center;
    padding: 0px 11px;
    cursor: pointer;
`,bx=F(Pm)`
    background-color: #ffffff;
    border: 1px solid #FF6232;
`,xF=F(Pm)`
    background-color: #ffffff;
    border: 1px solid #D4D4D4;
`,f0=F.p`
    display: flex;
    font-size: 14px;
    font-weight: 700;
    color: #ffffff;
`,hv=F(f0)`
    color: #FF6232;
`;function zd(n){return n.type=="stroke"?w.jsx(bx,{onClick:n.onClick,children:w.jsx(hv,{children:n.text})}):n.type=="stroke-plus"?w.jsx(bx,{onClick:n.onClick,children:w.jsxs(hv,{children:[n.text,"  +"]})}):n.type=="next"?w.jsx(Pm,{onClick:n.onClick,children:w.jsxs(f0,{children:[n.text,"  →"]})}):n.type=="grey"?w.jsx(xF,{onClick:n.onClick,children:w.jsx(hv,{children:n.text})}):w.jsx(Pm,{onClick:n.onClick,children:w.jsx(f0,{children:n.text})})}const RF=F.h2`
    color: #202020;
    font-size: 16px;
    font-weight: 600;
    line-height: 140%;
    margin: 0; 
`,CF=F.div`
    width: 313px;
    background-color: #ffffff;
    padding: 20px;
    border-radius: 8px;
    display: flex;
    flex-direction: column; 
    gap: 12px;
`,PF=F.div`
    width: 313px;
    display: flex;
    justify-content: space-between;
    align-items: center;
`;function mT(n){const{name:e,onNameChange:t,menuPrice:r,onPriceChange:s,addMenuGo:o}=n;return w.jsxs(CF,{children:[w.jsxs(PF,{onClick:o,children:[w.jsx(RF,{children:"메뉴추가"}),w.jsx(zd,{type:"stroke-plus",text:"메뉴추가"})]}),w.jsx(Cn,{title:"메뉴이름",children:w.jsx(hi,{placeholder:"메뉴이름을 입력해주세요.",value:e,onChange:t})}),w.jsx(Cn,{title:"메뉴가격",children:w.jsx(hi,{placeholder:"메뉴가격을 입력해주세요.",value:r,onChange:s})})]})}const Ix=F.div`
    display: flex;
    flex-direction: column;
    width: 393px;
    height: auto;
    background-color: #F8F8F8;
    gap: 12px;
    padding-top: 12px;
    padding-bottom: 20px;
    justify-content: space-between;
    align-items: center;
`,Sx=F.div`
    display: flex;
    width: 353px;
    height: 46px;
    font-size: 16px;
    font-weight: 700;
    color: #202020;
`;function dv(n){return n.userType=="writer"?w.jsxs(Ix,{children:[w.jsx(Sx,{children:"메뉴현황"}),n.children,w.jsx(Bh,{title:"총액",totalAmount:n.totalAmount})]}):w.jsxs(Ix,{children:[w.jsx(Sx,{children:"메뉴현황"}),w.jsx(Ks,{}),w.jsx(Ks,{}),w.jsx(mT,{})]})}const DF=T1`
    0% {
        transform: translateY(100%);
    }
    100% {
        transform: translateY(0);
    }
`,NF=F.div`
    position: absolute;
    bottom: 0;
    width: 393px;
    min-height: 356px;
    height: auto;
    flex-direction: column;
    border-radius: 20px 20px 0px 0px;
    background-color: #FFFFFF;
    margin: 0;
    z-index: 7;

    animation: ${DF} 0.3s ease-in-out forwards;
`,kF=F.div`
    display: flex;
    position: relative;
    width: 393px;
    height: auto;
    flex-direction: column;
    justify-content: space-between;
    align-items: center;
    gap: 12px;
    padding: 12px 0px;
`,OF=F.div`
    display: flex;
    width: 28px;
    height: 2px;
    border-radius: 2px;
    background-color: #AAAAAA;
`,VF=F.div`
    display: flex;
    position: absolute;
    bottom: 0;
    width: 393px;
    height: 1px;
    background-color: #EEEEEE;
`,MF=F.p`
    display: flex;
    width: auto;
    height: 22px;
    font-size: 16px;
    font-weight: 600;
    color: #202020;
    margin: 0;
`,LF=F.div`
    display: flex;
    width: 393px;
    min-height: 170px;
    height: auto;
    background-color: ${n=>n.background=="white"?"#FFFFFF":"#F8F8F8"};
    flex-direction: column;
    justify-content: space-between;
    align-items: center;
    gap: 20px;
    padding: 16px 0px;
    margin-bottom: 100px;
`;function Xp(n){return w.jsxs(NF,{children:[w.jsxs(kF,{onClick:n.modalTopOnClick,children:[w.jsx(OF,{}),w.jsx(MF,{children:n.modalText}),w.jsx(VF,{})]}),w.jsx(LF,{background:n.background||"gray",children:n.children}),w.jsx(kD,{type:"btn",children:w.jsx(dT,{type:n.btnType,mainText:n.mainText,modalOnClick:n.modalOnClick})})]})}const jF=T1`
    0% {
        opacity: 0;
    }
    100% {
        opacity: 1;
    }
`,UF=F.div`
    position: absolute;
    top: 0;
    left: 0;
    z-index: 6;
    width: 393px;
    height: 852px;
    background-color: rgba(0, 0, 0, 0.6);

    animation: ${jF} 0.3s ease-in-out forwards;
`;function Jp(n){return w.jsx(UF,{onClick:n.bgOnClick,children:n.children})}function BF(n){var ie,de,he,be,ke,Ae,ft,Ge,jt;const[e,t]=B.useState([]),{id:r}=Ux(),[s,o]=B.useState(!1),[u,h]=B.useState({}),[f,m]=B.useState(""),[y,v]=B.useState(""),[b,x]=B.useState(""),R=localStorage.getItem("userId"),[N,M]=B.useState(0),[H,z]=B.useState([]),[W,ne]=B.useState(""),[ae,ce]=B.useState("");B.useEffect(()=>{Wn.collection("post").doc(r).get().then(ye=>{t(ye.data())})},[]),B.useEffect(()=>{e.endPost===!0?(m("closed"),v("disable"),x("disable")):(m(""),v("dubble"),x("default"))},[e.endPost]);const P=ye=>{h(ve=>{const Ne=(ve[ye]??0)+1;return D.find($e=>$e.menuId===ye),{...ve,[ye]:Ne}})},A=ye=>{h(ve=>{const Ne=ve[ye]??0;return Ne>0?{...ve,[ye]:Ne-1}:ve})},C=Array.isArray(e.recruiterMenus)?e.recruiterMenus.reduce((ye,ve)=>ye+ve.menuPrice*ve.menuQuantity,0):0,O=e.menuList?Object.values(e.menuList).filter(ye=>ye.accept&&Array.isArray(ye.menus)).reduce((ye,ve)=>ye+ve.menus.reduce((Ne,$e)=>Ne+$e.menuPrice*$e.menuQuantity,0),0):0,L=C+O,U=e.menuList?Object.values(e.menuList).filter(ye=>ye.accept&&Array.isArray(ye.menus)).flatMap(ye=>ye.menus).reduce((ye,ve)=>{const Ne=ve.menuId,$e=ye.find(Dt=>Dt.menuId===Ne);return $e?$e.menuQuantity+=Number(ve.menuQuantity||0):ye.push({menuId:ve.menuId,name:ve.name,menuPrice:Number(ve.menuPrice||0),menuQuantity:Number(ve.menuQuantity||0)}),ye},[]).map((ye,ve)=>w.jsx(Ks,{type:"info",name:ye.name,price:ye.menuPrice,count:ye.menuQuantity},`merged-${ve}`)):[];if(Array.isArray(e.recruiterMenus)){const ye=e.recruiterMenus.map((ve,Ne)=>w.jsx(Ks,{type:"info",name:ve.name,price:Number(ve.menuPrice||0),count:Number(ve.menuQuantity||0)},`recruiter-${Ne}`));U.unshift(...ye)}let D=[];e.menuList&&(D=Object.values(e.menuList).filter(ye=>ye.accept&&Array.isArray(ye.menus)).flatMap(ye=>ye.menus)),Array.isArray(e.recruiterMenus)&&(D=[...D,...e.recruiterMenus]),D=[...D,...H];const St=D.reduce((ye,ve)=>{const Ne=ve.menuId,$e=ye.find(Dt=>Dt.menuId===Ne);return $e?$e.menuQuantity+=Number(ve.menuQuantity||0):ye.push({menuId:ve.menuId,name:ve.name,menuPrice:Number(ve.menuPrice||0),menuQuantity:Number(ve.menuQuantity||0)}),ye},[]).map((ye,ve)=>{const Ne=u[ye.menuId]??0;return w.jsx(Ks,{type:"simple",name:ye.name,price:ye.menuPrice,count:ye.menuQuantity+Ne,userCount:Ne,onPlusClick:()=>P(ye.menuId),onMinusClick:()=>A(ye.menuId)},`merged-default-${ve}`)}),ot=Object.entries(u).filter(([ye,ve])=>ve>0).map(([ye,ve])=>{const Ne=D.find($e=>$e.menuId===ye);return w.jsx(Ks,{type:"info",name:Ne.name,price:Number(Ne.menuPrice||0),count:ve},ye)});B.useEffect(()=>{let ye=Object.entries(u).reduce((ve,[Ne,$e])=>{const Dt=D.find(hs=>hs.menuId===Ne),xr=Number((Dt==null?void 0:Dt.menuPrice)||0);return ve+xr*$e},0);M(ye)},[u,D]);let ee="";((ie=e.writer)==null?void 0:ie[0])===R?ee="writer":ee="";const pe=()=>{Wn.collection("post").doc(r).update({endPost:!0}).then(()=>{alert("모집이 종료되었습니다."),m("closed"),v("disable"),x("disable"),o(!1)}).catch(ye=>{console.error("Error updating document: ",ye)})},we=()=>{var Ne;const ye=Object.entries(u).filter(([$e,Dt])=>Dt>0).map(([$e,Dt])=>{const xr=D.find(hs=>hs.menuId===$e);return{menuId:xr.menuId,name:xr.name,menuPrice:Number(xr.menuPrice||0),menuQuantity:Dt}});if((Ne=e.menuList)!=null&&Ne[R]){alert("이미 참여 신청하셨습니다.");return}const ve={userId:Number(R),menus:ye,accept:!1,date:Uo.firestore.Timestamp.fromDate(new Date)};Wn.collection("post").doc(r).update({[`menuList.${R}`]:ve}).then(()=>{alert("참여 신청이 완료되었습니다."),o(!1),Wn.collection("post").doc(r).get().then($e=>{t($e.data()),h({}),z([])})}).catch($e=>{console.error("Error adding participant menu: ",$e),alert("참여 신청에 실패했습니다. 다시 시도해주세요.")})},Oe=()=>{if(ot.length===0){alert("참여할 메뉴를 하단에서 선택해주세요.");return}o(!0)};let V=null;if(R&&e.menuList&&e.menuList[R]&&(V=(e.menuList[R].menus||[]).map((ve,Ne)=>w.jsx(Ks,{type:"info",name:ve.name,price:ve.menuPrice,count:ve.menuQuantity,userCount:ve.menuQuantity,onPlusClick:null,onMinusClick:null,disabled:!0},`my-menu-${Ne}`))),ee=="writer")return w.jsxs(na,{content:"함께먹기",headerType:"",gnbType:"btn",btnType:y,btnMainText:"모집종료",btnSubText:"신청현황",backPage:"/",subPage:"participation",modalOnClick:()=>o(!0),children:[s&&w.jsxs(w.Fragment,{children:[w.jsxs(Xp,{background:"",modalText:"주문확정",btnType:"default",mainText:"모집종료하고 알림보내기",modalOnClick:pe,modalTopOnClick:()=>o(!1),children:[U,w.jsx(Bh,{title:"총액",totalAmount:L})]}),w.jsx(Jp,{bgOnClick:()=>o(!1)})]}),w.jsx(Kp,{postImage:e.image,postRecruitment:f}),e&&w.jsx(sv,{post:e,postTitle:e.title,postContent:e.content,date:e.postId,name:(de=e.writer)==null?void 0:de[1],receiptLocation:e.receiptLocation,accountNumber:(he=e.writer)==null?void 0:he[3],deposite:e.deposite,storeId:e.storeId,totalSum:L||0}),w.jsx(dv,{userType:n.userType,totalAmount:L,children:U})]});if(!!((be=e.menuList)!=null&&be[R])){const Ne=(((ft=e.menuList[R])==null?void 0:ft.menus)||[]).reduce(($e,Dt)=>$e+Number(Dt.menuPrice||0)*Number(Dt.menuQuantity||0),0);return w.jsxs(na,{content:"함께먹기",headerType:"",gnbType:"btn",btnType:b,btnMainText:"메뉴 변경하기",backPage:"/",modalOnClick:Oe,children:[s&&w.jsxs(w.Fragment,{children:[w.jsxs(Xp,{background:"",modalText:"메뉴신청",btnType:"default",mainText:"참여신청",modalOnClick:we,modalTopOnClick:()=>o(!1),children:[ot,w.jsx(Bh,{title:"총액",totalAmount:N})]}),w.jsx(Jp,{bgOnClick:()=>o(!1)})]}),w.jsx(Kp,{postImage:e.image,postRecruitment:f}),e&&w.jsx(sv,{post:e,postTitle:e.title,postContent:e.content,date:e.postId,name:(Ge=e.writer)==null?void 0:Ge[1],receiptLocation:e.receiptLocation,accountNumber:(jt=e.writer)==null?void 0:jt[3],deposite:e.deposite,storeId:e.storeId,totalSum:L||0}),w.jsx(dv,{userType:n.userType,totalAmount:Ne,children:V})]})}else return w.jsxs(na,{content:"함께먹기",headerType:"",gnbType:"btn",btnType:b,btnMainText:"신청하기",backPage:"/",modalOnClick:Oe,children:[s&&w.jsxs(w.Fragment,{children:[w.jsxs(Xp,{background:"",modalText:"메뉴신청",btnType:"default",mainText:"참여신청",modalOnClick:we,modalTopOnClick:()=>o(!1),children:[ot,w.jsx(Bh,{title:"총액",totalAmount:N})]}),w.jsx(Jp,{bgOnClick:()=>o(!1)})]}),w.jsx(Kp,{postImage:e.image,postRecruitment:f}),e&&w.jsx(sv,{post:e,postTitle:e.title,postContent:e.content,date:e.postId,name:(ke=e.writer)==null?void 0:ke[1],receiptLocation:e.receiptLocation,accountNumber:(Ae=e.writer)==null?void 0:Ae[3],deposite:e.deposite,storeId:e.storeId,totalSum:L||0}),w.jsxs(dv,{userType:n.userType,totalAmount:N,children:[St,w.jsx(mT,{name:W,menuPrice:ae,onNameChange:ve=>ne(ve.target.value),onPriceChange:ve=>ce(ve.target.value),addMenuGo:()=>{const Ne={menuId:`custom-${H.length+1}`,name:W,menuPrice:parseInt(ae),userQuantity:1};h($e=>({...$e,[Ne.menuId]:1})),z($e=>[...$e,Ne]),ne(""),ce("")}})]})]})}const FF=F.div`
padding: 20px;
display: flex;
flex-direction: column;
gap: 12px;
background-color: #f8f8f8;

& > p {
padding: 0;
margin: 0;
font-weight: 600;
color: #202020;}
`,zF=F.div`
background-color: #ffffff;
border-radius: 12px;
display: flex;
gap: 15px;
flex-direction: column;
padding: 12px;

& > div {
justify-content: start;
}
`,qF=F.div`
display: flex;
flex-direction: column;
gap: 10px;
& > h1 {
line-height: 140%;
font-size: 16px;
font-weight: 600;
color: #202020;
padding: 0;
margin: 0;
}
& > p {
line-height: 140%;
font-size: 13px;
font-weight: 400;
color: #404040;
padding: 0;
margin: 0;
}
`,HF=F.div`
width: 100%;
display: flex;
justify-content: center;
overflow: auto;

& > div {
width: 100%;
}
`,GF=F.div`
  display: flex;
  flex-direction: column;
  gap: 8px;
`;function $F(n){const e=wi(),{post:t}=n;return w.jsxs(FF,{onClick:()=>e(`/post/${t.postId}`),children:[w.jsx("p",{children:"현재 참여중인 모집게시글입니다."}),w.jsxs(zF,{children:[w.jsx(xg,{storeId:t.storeId}),w.jsxs(qF,{children:[w.jsx("h1",{children:t.title}),w.jsx("p",{children:t.content})]}),w.jsxs(GF,{children:[w.jsx(pT,{type:"alarm",post:t,totalSum:"40000"}),w.jsx(HF,{children:w.jsx(zd,{text:"바로가기 ->"})})]})]})]})}const GD=B.createContext(),gT=()=>B.useContext(GD),KF=({children:n})=>{const[e,t]=B.useState([]);return B.useEffect(()=>{let r=[];Wn.collection("post").orderBy("postId","desc").limit(8).get().then(function(s){s.forEach(function(u){r.push(u.data())});const o=r.sort((u,h)=>h.id-u.id);t(o)})},[]),w.jsx(GD.Provider,{value:{postData:e},children:n})},QF=F.div`
display: flex;
align-items: start;
gap: 10px;
`,WF=F.div`
width: 236px;
font-size: 13px;
color: #202020;
margin: 0;
padding: 0;
gap: 12px;
display: flex;
flex-direction: column;
line-height: 140%;

& > div >  b {
font-weight: 600;

}

& > div {
font-size: 13px;
font-weight: 400;
}


& > h5  {
color: #aaaaaa;
margin: 0;
padding: 0;
font-size: 12px;
line-height: 140%;
font-weight: 400;
}
`,YF=F.img`
width: 70px;
height: 70px;
`,XF=F.img`
width: 24px;
background-color: #eeeeee;
border-radius: 12px;
`;function JF(n){const{not:e,onClick:t}=n,{postData:r}=gT(),s=r.find(h=>h.Postid==e.PostId),o={timeend:"의 모집마감시간이 다가오고 있어요!",totalend:"의 최소주문금액이 달성되었습니다! 바로 주문하실건가요?",partyendCaptain:"의 모집이 종료되었습니다. 음식 수령 후 배달 완료 알림을 잊지 마세요!",partyendMember:"의 모집이 종료되었습니다. 배달 완료 알림이 올 때까지 기다려주세요!",leaveparty:"에서 주문이 거절되었습니다. 다른 모집을 찾거나 직접 모집해보세요!",partyapplication:"의 신청이 수락되었습니다!",partyrequest:"님이 함께 주문하기를 신청했어요"};function u(h){return h==="deliveryend"?`에서 주문한 음식이 배달 완료되었습니다. 수령 장소는 ${s.receiptLocation}입니다. 맛있게 드세요!`:o[h]}return w.jsxs(QF,{children:[w.jsx(XF,{src:e.type==="partyrequest"?"/final-project/ProfileIcon.svg":"/final-project/Logo.svg",onClick:t}),w.jsxs(WF,{onClick:t,children:[w.jsxs("div",{children:[w.jsx("b",{children:e.type==="partyrequest"?e.membername:s.title}),w.jsx("span",{children:u(e.type)})]}),e.type==="partyrequest"&&w.jsx(Io,{type:"side",name:e.menuname,count:e.menucount,price:e.menuprice}),w.jsx("h5",{children:e.time})," "]}),e.type==="partyrequest"?w.jsx(zd,{type:e.btntype,text:e.btntype?"신청수락":"수락완료"}):w.jsx(YF,{src:"/final-project/AlarmBasicImg.svg",onClick:t})]})}const ZF=F.ul`
  margin: 0;
  padding: 0 20px;
  display: flex;
  flex-direction: column;
  gap: 30px;
  margin-top: 35px;
`,ez=F.div` 
  padding-bottom: 20px;
  flex: 1 1 auto;
  overflow-y: scroll;
  scrollbar-width: none;      
-ms-overflow-style: none;     

&::-webkit-scrollbar {
  display: none;       
}
`;function tz(n){const{children:e}=n;return w.jsx(ez,{children:w.jsx(ZF,{children:e})})}const nz=F.div`
  height: 100%;
  display: flex;
  flex-direction: column;
  overflow: hidden;
`;function rz(n){const e=wi(),{nowuser:t}=hT(),{postData:r}=gT(),[s,o]=B.useState([]);B.useEffect(()=>{if(!t)return;const m=r.filter(y=>y.postId=="postId(1)");o(m)},[r]);const[u,h]=B.useState([]);B.useEffect(()=>{h([{notId:1,type:"partyendCaptain",postId:"postId(1)",userId:1,time:"방금"},{notId:2,type:"totalend",postId:"postId(1)",userId:1,time:"6분전"},{notId:3,type:"partyrequest",postId:"postId(1)",userId:1,btntype:"stroke",membername:"신청자",time:"8분전",menuname:"떡볶이",menucount:"1",menuprice:"12000"},{notId:4,type:"timeend",postId:"postId(1)",userId:1,time:"10분전"},{notId:5,type:"partyrequest",postId:"postId(1)",userId:1,membername:"아무개",time:"30분전",menuname:"공깃밥",menucount:"1",menuprice:"1000"},{notId:6,type:"partyendCaptain",postId:"postId(1)",userId:1,time:"1일전"}])},[]);const f=u.map(m=>w.jsx(JF,{not:m,onClick:()=>e(`/post/${m.postId}`)},m.notId));return w.jsx(na,{content:"알림",gnbType:"none",backPage:"/",children:w.jsxs(nz,{children:[s[0]&&w.jsx($F,{post:s[0]}),w.jsx(tz,{children:f})]})})}const $D=F.div`
    display: inline-flex;
    width: auto;
    height: 32px;
    background-color: #FF6232;
    border-radius: 16px;
    border: 1px solid #FF6232;
    justify-content: center;
    align-items: center;
    padding: 0px 11px;
`,iz=F($D)`
    border: 1px solid #AAAAAA;
    background-color: #FAFAFA;
`,KD=F.p`
    display: flex;
    font-size: 14px;
    font-weight: 600;
    color: #ffffff;
`,sz=F(KD)`
    color: #AAAAAA;
    font-weight: 400;
`;function p0(n){return n.type=="toggle"?w.jsx($D,{children:w.jsx(KD,{children:n.text})}):w.jsx(iz,{children:w.jsx(sz,{children:n.text})})}function az(n){const{post:e}=n,{storeData:t}=Fd(),r=t.find(f=>f.id==e.storeId),s=parseInt(r==null?void 0:r.minPrice);if(!(r!=null&&r.minPrice))return w.jsx(w.Fragment,{children:"00%"});let o=0;e!=null&&e.menuList&&(o=Object.values(e.menuList).reduce((f,m)=>{const y=parseInt(m.menuPrice),v=parseInt(m.menuQaunitiy);if(isNaN(y)||isNaN(v)){if(!m.accept)return f;const b=Object.values(m.menus).reduce((x,R)=>{const N=parseInt(R.menuPrice),M=parseInt(R.menuQuantity);return x+N*M},0);return f+b}return f+y*v},0));let u=0;e.recruiterMenus&&(u=Object.values(e.recruiterMenus).reduce((f,m)=>{const y=parseInt(m.menuPrice),v=parseInt(m.menuQuantity);return f+y*v},0));const h=Math.floor((o+u)/s*100);return w.jsxs(w.Fragment,{children:[h,"%"]})}const oz=F.div`
padding: 0 20px;
display: flex;
justify-content: space-between; 
color: #202020;`,lz=F.div`

padding-bottom: 20px;
border-bottom: 1px solid #eeeeee;
& > h1{
padding: 0 20px;
margin-top: 20px;
margin-bottom: 10px;
font-size: 16px;
color: #202020;
font-weight: 700;
cursor: pointer;
}
& > p{
margin: 0;
padding: 0 20px;
font-size: 13px;
line-height: 100%;
height: 13px;
white-space: nowrap;        
overflow: hidden;          
text-overflow: ellipsis; 

color: #404040;
font-weight: 400;
cursor: pointer;
}
`,uz=F.div`

margin-top: 16px;
margin-bottom: 12px;
height: 200px;
overflow-x: scroll;
scrollbar-width: none;      
-ms-overflow-style: none;   
cursor: pointer;  

&::-webkit-scrollbar {
  display: none;       
}
`,cz=F.ul`
box-sizing: border-box;
display: flex;
gap: 10px;
margin: 0;
padding: 0 20px;

  & > div{
  background-color: #f8f8f8;
  min-width: 353px;
  height: 200px;
  object-fit: cover;
  border-radius: 8px;
  }

  & > div > img{
  background-color: #f8f8f8;
  min-width: 353px;
  height: 200px;
  object-fit: cover;
  border-radius: 8px;
  }

  & > div > div {
  background-color: #f8f8f8;
  max-width: 353px;
  height: 200px;
  object-fit: cover;
  border-radius: 8px;
  overflow: hidden;
  }

  &::after {
    content: '';
    flex: 0 0 10px;
  }
`,hz=F.div`
padding: 0 20px;`,dz=F.div`
height: 0px;
position: relative;
text-align: right;
right: 30px;
bottom: 44px;
z-index: 2;
`;function fz(n){var r;const{post:e,onClick:t}=n;return w.jsxs(lz,{children:[w.jsxs(oz,{children:[w.jsx(xg,{storeId:e.storeId}),w.jsx(BD,{type:"default"})]}),w.jsx("h1",{onClick:t,children:e.title}),w.jsx("p",{onClick:t,children:e.content}),w.jsx(uz,{onClick:t,children:w.jsx(cz,{children:w.jsx(Kp,{postRecruitment:e.endPost&&"closed",postImage:e.image||"/final-project/PostImgBasic.svg"})})}),!e.endPost&&w.jsx(dz,{children:w.jsx(ku,{type:"TotalAcount",children:w.jsx(az,{post:e})})}),w.jsx(hz,{children:w.jsx(iu,{userId:(r=e.writer)==null?void 0:r[0],date:parseInt(e.postId)?e.postId:e.id,fontSize:"12px"})})]})}const pz=F.div`
width: 393px;
box-sizing: border-box;
overflow-x: scroll;
background-color: #f8f8f8;
margin: 0;
padding: 15px 20px;
scrollbar-width: none;      
-ms-overflow-style: none;     

&::-webkit-scrollbar {
  display: none;       
}
`,mz=F.ul`
display: flex;
height: 32px;
margin: 0;
padding: 0;
gap: 8px;
white-space: nowrap;

  &::after {
    content: '';
    flex: 0 0 12px;
  }
`;function gz(n){const{children:e}=n;return w.jsx(pz,{children:w.jsx(mz,{children:e})})}const yz=F.div`
height: 576px;
overflow-y: scroll; 
scrollbar-width: none;      
-ms-overflow-style: none;     

&::-webkit-scrollbar {
  display: none;       
}
`,_z=F.div`
display: flex;
flex-direction: column;
padding: 12px 0;
gap: 20px;

`;function vz(n){const{children:e}=n;return w.jsx(yz,{children:w.jsx(_z,{children:e})})}const Ez=F.div`
overflow-x: hidden;
`,Ax=F.button`
  background: none;
  border: none;
  margin: 0;
  padding: 0;
`;function Tz(n){const e=wi(),{postData:t}=gT(),{categoryData:r}=fT(),{storeData:s}=Fd(),[o,u]=B.useState("전체"),h=r.map(v=>w.jsx(Ax,{onClick:()=>u(v.name),children:w.jsx(p0,{text:v.name,type:o===v.name?"toggle":""})},v.id)),[f,m]=B.useState([]);B.useEffect(()=>{if(o!="전체"){const v=t.filter(b=>{const x=s.find(N=>N.id===b.storeId);if(!x)return!1;const R=r.find(N=>N.id===x.categoryId);return R?R.name===o:!1});m(v)}else m(t)},[o,t]);const y=f.map(v=>w.jsx(fz,{post:v,onClick:()=>e(`/post/${v.postId}`)},v.postId));return w.jsx(na,{headerType:"main",gnbType:"gnb",children:w.jsxs(Ez,{children:[w.jsxs(gz,{children:[w.jsx(Ax,{onClick:()=>u("전체"),children:w.jsx(p0,{text:"전체",type:o==="전체"?"toggle":""})}),h]}),w.jsx(vz,{children:y})]})})}const wz=F.div`
    display: flex;
    width: ${n=>n.width}px;
    height: 44px;
    background-color: #FFFFFF;
    border-radius: 8px;
    justify-content: center;
    align-items: center;
    border: ${n=>n.$isSelected?"1px solid #FF6232":"1px solid #AAAAAA"};
`,bz=F.p`
    display: flex;
    font-size: 14px;
    font-weight: 600;
    color: ${n=>n.$isSelected?"#FF6232":"#AAAAAA"};
`;function Dm(n){const e=n.width||"112",{text:t,onClick:r,isSelected:s}=n;return w.jsx(wz,{width:e,$isSelected:s,onClick:r,children:w.jsx(bz,{$isSelected:s,children:t})})}const Iz=F.div`
    width: 393px;
    height: 510px;
    background-color: #ffffff;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    align-items: center;
`,Sz=F.div`
    width: 353px;
    display: flex;
    flex-direction: column; 
    gap: 20px;
    padding-top: 16px;
`;F.button`
    width: 70px;
    height: 70px;
    border-radius: 8px;
    background-color: #F8F8F8;
    color: #AAAAAA;
    border: none;
    text-align: center;
`;const xx=F.label`
    width: 70px;
    height: 70px;
    border-radius: 8px;
    background-color: #F8F8F8;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    position: relative;
    overflow: hidden;

    background-image: ${n=>n.$imagePreview?`url(${n.$imagePreview})`:"none"};
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;

    &:active {
        background-color: #F0F0F0;
    }

    & > span {
        font-size: 14px;
        color: #AAAAAA;
        display: flex;
        align-items: center;
        justify-content: center;
        line-height: 140%;
        width: 100%;
        height: 100%;
    }
`,Az=F.input`
    position: absolute;
    display: none;
`,xz=F.div`
    display: flex;
    gap: 8px;
`;function Rz(n){const{title:e,onTitleChange:t,content:r,onContentChange:s,deposite:o,onDepositeChange:u,location:h,image:f,onImageChange:m,accountNumber:y}=n,v=b=>{u(b)};return w.jsx(Iz,{children:w.jsxs(Sz,{children:[w.jsx(Cn,{title:"제목",children:w.jsx(hi,{placeholder:"제목을 입력해주세요.",value:e,onChange:t})}),w.jsx(Cn,{title:"수령장소",children:w.jsx(hi,{value:h,readOnly:!0})}),w.jsx(Cn,{title:"내용",children:w.jsx(hi,{height:"108px",placeholder:"내용을 입력해주세요.",value:r,onChange:s})}),w.jsx(Cn,{title:"메뉴사진",children:w.jsxs(xz,{children:[w.jsxs(xx,{children:[w.jsx("span",{children:"+"}),w.jsx(Az,{type:"file",onChange:m,accept:"image/*"})]}),w.jsx(xx,{$imagePreview:f,style:{backgroundColor:"transparent"}})]})}),w.jsx(Cn,{title:"계좌번호",children:w.jsx(hi,{value:y,readOnly:!0})}),w.jsxs(Cn,{title:w.jsxs(w.Fragment,{children:["선입금",w.jsx("br",{}),"필수여부"]}),children:[w.jsx(Dm,{width:"142",text:"자유",onClick:()=>v("자유"),isSelected:o==="자유"}),w.jsx(Dm,{width:"142",text:"필수",onClick:()=>v("필수"),isSelected:o==="필수"})]})]})})}const Cz=F.h2`
    color: #202020;
    font-size: 16px;
    font-weight: 600;
    line-height: 140%;
    margin: 0; 
`,Pz=F.div`
    width: 313px;
    background-color: #ffffff;
    padding: 20px;
    border-radius: 8px;
    display: flex;
    flex-direction: column; 
    gap: 12px;
`;function Dz(n){const{storeName:e,minPrice:t}=n,[r,s]=B.useState("허용"),o=u=>{s(u)};return w.jsxs(Pz,{children:[w.jsx(Cz,{children:"음식점 설정"}),w.jsx(Cn,{title:"음식점명",children:w.jsx(hi,{value:e,readOnly:!0})}),w.jsx(Cn,{title:"최소금액",children:w.jsx(hi,{value:t,readOnly:!0})}),w.jsxs(Cn,{title:w.jsxs(w.Fragment,{children:["신청자",w.jsx("br",{}),"메뉴추가"]}),children:[w.jsx(Dm,{width:"122",text:"허용",onClick:()=>o("허용"),isSelected:r==="허용"}),w.jsx(Dm,{width:"122",text:"금지",onClick:()=>o("금지"),isSelected:r==="금지"})]})]})}const Nz=F.div`
    width: 393px;

    background-color: #F8F8F8;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    align-items: center;
    padding-bottom: 20px;
`,kz=F.h2`
    color: #202020;
    font-size: 16px;
    font-weight: 600;
    line-height: 140%;
    margin: 0; 
`,Oz=F.h2`
    color: #202020;
    font-size: 16px;
    font-weight: 700;
    line-height: 22px;
`,Vz=F.div`
    width: 353px;
    height: 46px;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    align-items: flex-start;
    margin-top: 12px;
    margin-bottom: 12px;
`,Mz=F.div`
    display: flex;
    flex-direction: column; 
    gap: 12px;
`,Lz=F.div`
    width: 313px;
    background-color: #ffffff;
    padding: 20px;
    border-radius: 8px;
    display: flex;
    flex-direction: column; 
    gap: 12px;
`;function jz(n){const e=wi(),{menuList:t,setMenuList:r,storeName:s,minPrice:o,userId:u}=n,[h,f]=B.useState(""),[m,y]=B.useState(""),[v,b]=B.useState(0);B.useEffect(()=>{const z=t.reduce((W,ne)=>W+ne.menuQuantity*ne.menuPrice,0);b(z)},[t]);const x=z=>{r(W=>W.map(ne=>ne.name===z?{...ne,menuQuantity:ne.menuQuantity+1}:ne))},R=z=>{r(W=>W.map(ne=>ne.name===z?{...ne,menuQuantity:ne.menuQuantity-1}:ne).filter(ne=>ne.menuQuantity>0))},N=()=>{if(!h||!m){alert("메뉴정보를 모두 입력해주세요.");return}if(!m.trim()||isNaN(parseInt(m))||parseInt(m)<=0){alert("메뉴가격은 숫자로만 입력해야 합니다.");return}r(z=>z.some(ne=>ne.name===h)?(alert("이미 같은 이름의 메뉴가 존재합니다."),z):(f(""),y(""),[...z,{name:h,menuPrice:parseInt(m),menuQuantity:1,userId:u}]))},M=t.map(z=>w.jsx(Ks,{name:z.name,price:z.menuPrice,count:z.menuQuantity,onPlusClick:()=>x(z.name),onMinusClick:()=>R(z.name)},z.name)),H=!!s;return w.jsxs(Nz,{children:[w.jsx(Vz,{children:w.jsx(Oz,{children:"주문메뉴"})}),w.jsxs(Mz,{children:[!H&&w.jsxs(Lz,{children:[w.jsx(kz,{children:"음식점 설정"}),w.jsx(dT,{type:"ghost",mainText:"음식점 선택",menuOnClick:()=>e("/store")})]}),H&&w.jsxs(w.Fragment,{children:[w.jsx(Dz,{storeName:s,minPrice:o}),t&&t.length>0&&M,w.jsx(mT,{addMenuGo:N,name:h,onNameChange:z=>{f(z.target.value)},menuPrice:m,onPriceChange:z=>{y(z.target.value)}}),w.jsx(Bh,{title:"메뉴총액",totalAmount:v})]})]})]})}function Uz(n){wi(),B.useEffect(()=>{sessionStorage.getItem("fromSearch")!=="true"&&(localStorage.removeItem("title"),localStorage.removeItem("content"),localStorage.removeItem("receiptLocation"),localStorage.removeItem("deposite"),localStorage.removeItem("image"),t(""),s(""),u(""),y("자유"),f(null)),sessionStorage.removeItem("fromSearch")},[]),B.useEffect(()=>{const O=localStorage.getItem("selectedStoreName"),L=localStorage.getItem("selectedMinPrice"),U=localStorage.getItem("selectedStoreId");b(U),U&&(b(U),localStorage.removeItem("selectedStoreId")),O&&(R(O),localStorage.removeItem("selectedStoreName")),L&&(M(L),localStorage.removeItem("selectedMinPrice"))},[]);const[e,t]=B.useState(localStorage.getItem("title")||""),[r,s]=B.useState(localStorage.getItem("content")||""),[o,u]=B.useState(localStorage.getItem("receiptLocation")||""),[h,f]=B.useState(localStorage.getItem("image")||null),[m,y]=B.useState(localStorage.getItem("deposite")||"자유"),[v,b]=B.useState(""),[x,R]=B.useState(""),[N,M]=B.useState(""),H=O=>{y(O),localStorage.setItem("deposite",O)},z=localStorage.getItem("userId"),W=localStorage.getItem("userName"),ne=localStorage.getItem("accountNumber"),ae=localStorage.getItem("location"),[ce,P]=B.useState([]),A=()=>{let O=new Date().getTime().toString();if(!e||!r||!ce){alert("필수 정보를 모두 입력해주세요.");return}Wn.collection("post").doc(O).set({postId:O,title:e,content:r,receiptLocation:ae,image:h,deposite:m,writer:[z,W,ae,ne],recruiterMenus:ce.map(L=>({menuId:String(L.menuId),menuPrice:String(L.menuPrice),menuQuantity:String(L.menuQuantity),name:L.name})),storeId:parseInt(v)}).then(()=>{window.location.replace("/final-project/"),localStorage.removeItem("title"),localStorage.removeItem("content"),localStorage.removeItem("receiptLocation"),localStorage.removeItem("image"),localStorage.removeItem("deposite")})},C=O=>{let L=new FileReader;L.readAsDataURL(O.target.files[0]),L.onload=U=>{console.log(U.target.result),f(U.target.result),localStorage.setItem("image",U.target.result)}};return w.jsxs(na,{content:"모집글쓰기",headerType:"",gnbType:"btn",btnType:"default",btnMainText:"모집글 올리기",backPage:"/",onClick:A,children:[w.jsx(Rz,{accountNumber:ne,location:ae,title:e,onTitleChange:O=>{t(O.target.value),localStorage.setItem("title",O.target.value)},content:r,onContentChange:O=>{s(O.target.value),localStorage.setItem("content",O.target.value)},image:h,onImageChange:O=>C(O),receiptLocation:o,onReceiptLocationChange:O=>{u(O.target.value),localStorage.setItem("receiptLocation",O.target.value)},deposite:m,onDepositeChange:H}),w.jsx(jz,{storeName:x,minPrice:N,menuList:ce,setMenuList:P,userId:z})]})}const Bz=F.div`
  width: 393px;
  padding: 12px 0 20px 20px;
  background: #EEEEEE;
`,Fz=F.div`
  width: 353px;
  background: white;
  border-radius: 8px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
`,fv=F.div`
  width: 100%;
  height: 1px;
  background: #eeeeee;
`,zz=F.div`
  display: flex;
  align-items: center;
  padding: 12px;
  gap: 8px;
`,qz=F.div`
  padding: 12px;
  display: flex;
  flex-direction: column;
  gap: 8px;
`,Rx=F.div`
  padding: 12px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  align-items: stretch;  
`,pv=F.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  min-height: 32px;
  gap: 8px;
  & > *:last-child {
    flex-shrink: 0;
  }
`,Hz=F.button`
  background: none;
  border: none;
  color: #aaaaaa;
  font-size: 12px;
  display: flex;
  align-items: center;
  gap: 4px;
  cursor: pointer;
`,Gz=F.div`
  padding: 12px;
  display: flex;
  flex-direction: column;
  gap: 8px;
`,$z=F.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
`,Kz=F.div`
  font-size: 16px;
  font-weight: 600;
  color: #202020;
`,Qz=F.div`
  font-size: 16px;
  font-weight: 700;
  color: #ff6232;
`,Wz=F.div`
  display: flex;
  align-items: center;
  gap: 8px;
`,Yz=({post:n,setPost:e,postId:t})=>{const[r,s]=B.useState([]),[o,u]=B.useState(""),[h,f]=B.useState(""),m=N=>{const M=typeof N=="string"?parseInt(N,10):N;return typeof M!="number"||isNaN(M)?"0":M.toLocaleString("ko-KR")},y=n.recruiterMenus.reduce((N,M)=>N+M.menuPrice*M.menuQuantity,0),v=Object.values(n.menuList??{}).filter(N=>N.accept).reduce((N,M)=>N+M.menus.reduce((H,z)=>H+z.menuPrice*z.menuQuantity,0),0),b=y+v;B.useEffect(()=>{Wn.collection("user").get().then(N=>{const M=N.docs.map(H=>H.data());s(M)})},[]),B.useEffect(()=>{Wn.collection("store").doc(String(n.storeId)).get().then(N=>{const M=N.data();return u(M.name),M.categoryId}).then(N=>Wn.collection("category").doc(String(N)).get()).then(N=>{const M=N.data();f(M.name)})},[n.storeId]);const x=r.find(N=>N.userId===n.userId),R=Object.entries(n.menuList||{}).filter(([,N])=>N.accept);return w.jsx(Bz,{children:w.jsxs(Fz,{children:[w.jsx(zz,{children:w.jsx(xg,{category:h,storeName:o,children:"참여자현황"})}),w.jsx(fv,{}),w.jsxs(qz,{children:[w.jsxs(pv,{children:[w.jsx(iu,{name:x==null?void 0:x.name,badge:"모집자"}),w.jsx(Hz,{children:"메뉴삭제"})]}),n.recruiterMenus.map((N,M)=>w.jsx(Io,{type:"default",name:N.name,count:N.menuQuantity,price:m(N.menuPrice)},M))]}),w.jsx(fv,{}),R.length===0?w.jsx(Rx,{children:w.jsx(pv,{children:w.jsx(iu,{name:"참여자 없음"})})}):R.map(([N,M])=>{const H=r.find(z=>z.userId===M.userId);return w.jsxs(Rx,{children:[w.jsxs(pv,{children:[w.jsx(iu,{name:(H==null?void 0:H.name)||"참여자"}),w.jsx(zd,{type:"grey",text:"인원강퇴",onClick:()=>{Wn.collection("post").doc(t).update({[`menuList.${N}.accept`]:!1}),e(W=>({...W,menuList:{...W.menuList,[N]:{...W.menuList[N],accept:!1}}}))}})]}),M.menus.map((z,W)=>w.jsx(Io,{type:"default",name:z.name,count:z.menuQuantity,price:m(z.menuPrice)},W))]},N)}),w.jsx(fv,{}),w.jsxs(Gz,{children:[w.jsxs($z,{children:[w.jsx(Kz,{children:"총액"}),w.jsxs(Qz,{children:[m(b),"원"]})]}),w.jsx(Wz,{children:w.jsx(pT,{type:"simple",post:n,totalSum:b})})]})]})})},Xz=F.div`
  width: 329px;
  padding: 12px;
  background: white;
  border-radius: 8px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  font-family: 'Pretendard', sans-serif;
`,Jz=F.div`
  display: flex;
  flex-direction: column;
  gap: 10px;
`,Zz=F.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-top: 1px solid #eee;
  padding-top: 8px;
`,e8=F.div`
  font-size: 14px;
  color: #666;
`,t8=({name:n,date:e,menus:t,onAccept:r})=>{var f;const s=m=>{const y=typeof m=="string"?parseInt(m,10):m;return typeof y!="number"||isNaN(y)?"0":y.toLocaleString("ko-KR")},o=((f=e==null?void 0:e.toDate)==null?void 0:f.call(e))??new Date(e),u=o instanceof Date&&!isNaN(o)?o.getTime():null,h=t.reduce((m,y)=>m+y.price*(y.count||1),0);return w.jsxs(Xz,{children:[w.jsx(iu,{name:n,date:u}),w.jsx(Jz,{children:t.map((m,y)=>w.jsx(Io,{name:m.name,count:m.count,price:s(m.price),type:"default"},y))}),w.jsxs(Zz,{children:[w.jsxs(e8,{children:["총 ",s(h),"원"]}),w.jsx(zd,{type:"stroke",text:"신청수락",onClick:r})]})]})},n8=F.div`
  width: 393px;
  padding: 12px 0 20px 20px;
  background: #fafafa;
`,r8=F.h2`
  font-family: 'Pretendard', sans-serif;
  font-size: 16px;
  font-weight: 600;
  color: #202020;
  margin-bottom: 16px;
`,i8=F.div`
  display: flex;
  flex-direction: column;
  gap: 12px;
`,s8=F.div`
  font-size: 14px;
  color: #999999;
  text-align: center;
  padding: 16px 0;
  width: 361px;
  height: 310px;
`,a8=({post:n,users:e,postId:t,setPost:r})=>{const s=Object.entries(n.menuList||{}).filter(([,o])=>o.accept===!1).map(([o,u])=>{const h=e.find(f=>f.userId===u.userId);return{key:o,name:(h==null?void 0:h.name)||"이름없음",date:u.date,menus:u.menus.map(f=>({name:f.name,price:f.menuPrice,count:f.menuQuantity}))}});return w.jsxs(n8,{children:[w.jsx(r8,{children:"신청자현황"}),w.jsx(i8,{children:s.length===0?w.jsx(s8,{children:"신청자가 없습니다."}):s.map((o,u)=>w.jsx(t8,{name:o.name,date:o.date,menus:o.menus,onAccept:()=>{Wn.collection("post").doc(t).update({[`menuList.${o.key}.accept`]:!0}),r(f=>({...f,menuList:{...f.menuList,[o.key]:{...f.menuList[o.key],accept:!0}}}))}},u))})]})};function o8(){const[n,e]=B.useState(null),[t,r]=B.useState([]),{id:s}=Ux();return B.useEffect(()=>{Wn.collection("post").doc(s).get().then(o=>{const u=o.data();e(u)})},[s]),B.useEffect(()=>{Wn.collection("user").get().then(o=>{const u=o.docs.map(h=>h.data());r(u)})},[]),!n||t.length===0?null:w.jsxs(na,{content:"참여현황",headerType:"",gnbType:"none",btnType:"",backPage:`/post/${s}`,children:[w.jsx(Yz,{post:n,postId:s,setPost:e}),w.jsx(a8,{post:n,users:t,postId:s,setPost:e})]})}const l8=F.div`
  width: 335px;
  padding: 8px 0;
  display: flex;
  align-items: center;
  gap: 8px;
  font-family: 'Pretendard', sans-serif;
`,u8=F.div`
  width: 24px;
  height: 24px;
  background-image: url("/final-project/SearchIcon.svg");
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
`,c8=F.div`
  display: flex;
  align-items: center;
  gap: 8px;
  margin-left:8px;
  flex: 1;
`,h8=F.div`
  font-size: 14px;
  font-weight: 600;
  color: #404040;
`,d8=F.div`
  display: flex;
  align-items: center;
  gap: 4px;
`,f8=F.div`
  font-size: 16px;
  font-weight: 700;
  color: #FF6232;
`,p8=({category:n,storeName:e,minPrice:t,onClick:r})=>{const s=o=>{const u=typeof o=="string"?parseInt(o,10):o;return typeof u!="number"||isNaN(u)?"0":u.toLocaleString("ko-KR")};return w.jsxs(l8,{onClick:r,children:[w.jsx(u8,{}),w.jsxs(c8,{children:[w.jsx(ku,{children:n}),w.jsx(h8,{children:e})]}),w.jsxs(d8,{children:[w.jsx("span",{children:"최소"}),w.jsxs(f8,{children:[s(t),"원"]})]})]})},Cx=F.li`
  color: #999999;
  padding: 20px 0;
  text-align: center;
  display: flex;
  justify-content: center;
`,m8=F.div`
  margin: 0;
  padding: 12px 20px;
  display: flex;
  flex-direction: column;
  gap: 8px;
`,g8=F.div`
  display: flex;
  flex-direction: column;
  gap: 16px;
  width: 353px;
  margin: 0 auto;
`,y8=F(Cn)`
  & > p {
    width: 80px;
    white-space: nowrap;
  }
  & > div {
    flex: 1;
  }
`,_8=F.div`
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  flex: 1;
`;function v8(){const{categoryData:n}=fT(),{storeData:e}=Fd(),[t,r]=B.useState(!1),[s,o]=B.useState(""),[u,h]=B.useState(""),[f,m]=B.useState(""),[y,v]=B.useState([]),[b,x]=B.useState([]),[R,N]=B.useState(""),[M,H]=B.useState([]),[z,W]=B.useState(""),ne=wi();B.useEffect(()=>{v(e),x(n)},[]),B.useEffect(()=>{t&&!f&&b.length>0&&m(b[0].id)},[t,b]);const ae=()=>{const A=R.trim().toLowerCase();if(A===""){H([]),W("검색어를 입력해주세요.");return}const C=y.filter(O=>{const L=String(O.name||"").toLowerCase(),U=b.find(St=>St.id===O.categoryId),D=String((U==null?void 0:U.name)||"").toLowerCase();return L.includes(A)||D.includes(A)});H(C),W(C.length===0?"아래의 음식점 추가하기 기능을 이용해주세요.":"")},ce=()=>{if(!s||!u||!f){alert("모든 값을 입력해주세요.");return}const A=Date.now(),C={id:A,name:s,minPrice:u,categoryId:f};Wn.collection("store").doc(String(A)).set(C).then(()=>{localStorage.setItem("selectedStoreName",C.name),localStorage.setItem("selectedMinPrice",C.minPrice),sessionStorage.setItem("fromSearch","true"),ne("/write")})},P=R.trim()==="";return w.jsxs(na,{content:"search",headerType:"search",gnbType:"btn",btnType:"default",btnMainText:"음식점 추가하기",backPage:()=>{sessionStorage.setItem("fromSearch","true"),ne("/write")},modalOnClick:()=>r(!0),searchValue:R,onSearchChange:A=>N(A.target.value),onSearchSubmit:ae,children:[w.jsx(m8,{children:P?w.jsx(Cx,{children:"검색어를 입력해주세요."}):z?w.jsx(Cx,{children:z}):M.map((A,C)=>{const O=b.find(U=>U.id===A.categoryId),L=(O==null?void 0:O.name)||"";return w.jsx(p8,{category:L,storeName:A.name,minPrice:A.minPrice,onClick:()=>{localStorage.setItem("selectedStoreName",A.name),localStorage.setItem("selectedMinPrice",String(A.minPrice)),localStorage.setItem("selectedStoreId",A.id),sessionStorage.setItem("fromSearch","true"),ne("/write")}},C)})}),t&&w.jsxs(w.Fragment,{children:[w.jsx(Xp,{modalText:"음식점 추가",btnType:"default",mainText:"확인",modalOnClick:ce,background:"white",children:w.jsxs(g8,{children:[w.jsx(Cn,{title:"이름",children:w.jsx(hi,{placeholder:"음식점 이름을 입력하세요",value:s,onChange:A=>o(A.target.value)})}),w.jsx(Cn,{title:"최소금액",children:w.jsx(hi,{placeholder:"최소 주문 금액을 입력하세요",value:u,onChange:A=>h(A.target.value)})}),w.jsx(y8,{title:"카테고리",children:w.jsx(_8,{children:b.map(A=>w.jsx("button",{onClick:()=>m(A.id),style:{all:"unset",cursor:"pointer"},children:w.jsx(p0,{text:A.name,type:f===A.id?"toggle":""})},A.id))})})]})}),w.jsx(Jp,{onClick:()=>r(!1)})]})]})}const E8=({children:n})=>w.jsx(v5,{children:w.jsx(KF,{children:w.jsx(M5,{children:w.jsx(L5,{children:n})})})});Rk.createRoot(document.getElementById("root")).render(w.jsx(E8,{children:w.jsx(qO,{basename:"/final-project/",children:w.jsxs(vO,{children:[w.jsx(io,{index:!0,element:w.jsx(Tz,{})}),w.jsx(io,{path:"alarm",element:w.jsx(rz,{})}),w.jsx(io,{path:"write",element:w.jsx(Uz,{})}),w.jsx(io,{path:"post/:id",element:w.jsx(BF,{userType:"writer"})}),w.jsx(io,{path:"post/:id/participation",element:w.jsx(o8,{})}),w.jsx(io,{path:"store",element:w.jsx(v8,{})})]})})}));
